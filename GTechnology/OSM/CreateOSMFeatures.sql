--Script de criação de uma entidade para o Modelo de dados do G/Tech 10
--Script criado com base no tópico do help "Defining or Modifying a Component in a Existing Data Model"
--Luis Henrique Yoshiaki Tangafrouxa Motoyama 13/05/2016

SET ECHO ON;
SPOOL OSM_FEATURES.LOG;

------------------------------------------------------------------------------------------------------------------------------------------------------------
-------------------------------------------------------------------ROAD-------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------------------------------------------------------------
create table GC_ROAD (
G3E_ID NUMBER(10,0),
G3E_FNO NUMBER(5,0),
G3E_CNO NUMBER(5,0),
G3E_FID NUMBER(10,0),
G3E_CID NUMBER(10,0),
osm_id VARCHAR2(11),
name_road VARCHAR2(100),
ref_road VARCHAR2(50),
type_road VARCHAR2(50),
one_way NUMBER(1),
max_speed  NUMBER(3)
)
/

--Passo 1
--Criar Tabela de Componente Gráfico para a entidade Road
create table GC_ROAD_L (
G3E_ID NUMBER(10,0),
G3E_FNO NUMBER(5,0),
G3E_CNO NUMBER(5,0),
G3E_FID NUMBER(10,0),
G3E_CID NUMBER(10,0),
TYPE_BTR VARCHAR2(50),
G3E_GEOMETRY SDO_GEOMETRY
)
/

--insert into g3e_component (G3E_CNO, G3E_USERNAME, G3E_NAME, G3E_TOOLTIP, G3E_TYPE, G3E_GEOMETRYTYPE, G3E_TABLE, G3E_DETAIL, G3E_ALIGNMENTFIELD, G3E_DCNO, G3E_DTNO, G3E_GEOMETRYFIELD, G3E_SUBSETATTRIBUTE, G3E_EDITDATE, G3E_SUBTYPE, G3E_LOCALECOMMENT, G3E_LRNO, G3E_PARTITIONATTRIBUTE, G3E_LTT)
INSERT INTO G3E_COMPONENT VALUES (21001, 'Road', 'GC_ROAD','Road', 1, NULL, 'GC_ROAD', 0, NULL, 31, NULL, NULL, NULL, SYSDATE, NULL, NULL, NULL, NULL, 0);
COMMIT;

--PASSO 2
--INSERIR NA TABELA DE COMPONENTES
--RELACIONADO AO COMPONENTE GRÁFICO
-- insert into g3e_component (G3E_CNO, G3E_USERNAME, G3E_NAME, G3E_TOOLTIP, G3E_TYPE, G3E_GEOMETRYTYPE, G3E_TABLE, G3E_DETAIL, G3E_ALIGNMENTFIELD, G3E_DCNO, G3E_DTNO, G3E_GEOMETRYFIELD, G3E_SUBSETATTRIBUTE, G3E_EDITDATE, G3E_SUBTYPE, G3E_LOCALECOMMENT, G3E_LRNO, G3E_PARTITIONATTRIBUTE, G3E_LTT)
INSERT INTO G3E_COMPONENT VALUES (21010, 'Road Line', 'GC_ROAD_L','Road Line', 8, 'PolylineGeometry', 'GC_ROAD_L', 0, NULL, 31, NULL, 'G3E_GEOMETRY', NULL, SYSDATE, NULL, NULL, NULL, NULL, 0);
COMMIT;

--PASSO 3
--RELACIONAR O COMPONENTE COM UMA FEATURE
--insert into g3e_feature (G3E_FNO, G3E_USERNAME, G3E_TOOLTIP, G3E_PRIMARYGEOGRAPHICCNO, G3E_PRIMARYATTRIBUTECNO, G3E_DCNO, G3E_PRIMARYDETAILCNO, G3E_NUMBEROFNODES, G3E_IMPORTFEATURENAME, G3E_REPLACE, G3E_NAME, G3E_EDITDATE, G3E_LOCALECOMMENT, G3E_MERGE, G3E_CLASSIFICATIONANO, G3E_IDENTIFIERVIEW, G3E_BULKEDIT, G3E_ICONORDINAL, G3E_EDITROLE, G3E_SELECTROLE, G3E_DELETEROLE, G3E_RINO, G3E_RIARGGROUPNO, G3E_PRIMARYSCHEMCNO, G3E_SECONDARYSCHEMCNO, G3E_LABELSCHEMCNO, G3E_ADDRELATEDROLE)
INSERT INTO G3E_FEATURE VALUES (21000, 'Road', 'Road', 21010, 21001, 31, null, null, null, 0, null, sysdate, null, 1, null, null, 0, null, 'EVERYONE', 'EVERYONE', 'EVERYONE', NULL, NULL, NULL, NULL, NULL,'EVERYONE');
COMMIT;
SELECT * FROM G3E_FEATURE

INSERT INTO G3E_FEATURECOMPONENT VALUES(21001, 21000, 21001, 1, 0, 0, 7, 1, NULL, NULL, 1, 1, 0, NULL, 1, SYSDATE, 1, 3, 4, 3, 1, NULL, 0, 0, NULL, NULL, 1, NULL, NULL, NULL, 1,  NULL, NULL, NULL, 0, NULL);
COMMIT;

--RELACIONADO AO COMPONENTE GRÁFICO
--insert into g3e_featurecomponent (G3E_FCNO, G3E_FNO, G3E_CNO, G3E_REQUIRED, G3E_REPEATING, G3E_AUTOREPEAT, G3E_PINO, G3E_ORDINAL, G3E_INTERFACEARGUMENT, G3E_DERIVEDFROMCNO, G3E_INSERTORDINAL, G3E_DELETEORDINAL, G3E_REFRESH, G3E_ALTERNATEREQUIREDCNO, G3E_REPLACE, G3E_EDITDATE, G3E_BREAKACTION, G3E_COMPONENTELIMINATION, G3E_COMPONENTASSIGNMENT, G3E_COMPONENTADJUSTMENT, G3E_GEOPROXIMITYTOLERANCE, G3E_BREAKLINEARCNO, G3E_ALTERNATEGEOGRAPHIC, G3E_ALTERNATEGEOORDINAL, G3E_RINO, G3E_RIARGGROUPNO, G3E_INCLUDEINPLACEMENT, G3E_MERGEMAXDISTANCE, G3E_MERGECOMMONPRECOND, G3E_MERGEPRECOND, G3E_MERGEOCCURRENCES, G3E_MERGERINO, G3E_MERGERIARGGROUPNO, G3E_CCNO, G3E_GENERATE, G3E_DETAILPLACEMENTCNO)
INSERT INTO G3E_FEATURECOMPONENT VALUES(21010, 21000, 21010, 1, 0, 0, 7, 2, NULL, NULL, 2, 2, 0, NULL, 1, SYSDATE, 1, 2, 2, 1, 1, NULL, 0, 0, NULL, NULL, 1, NULL, NULL, NULL, 1,  NULL, NULL, NULL, 0, NULL);
COMMIT;

--PASSO 4A
--CRIAR VIEWS DE COMPONENTE
CREATE OR REPLACE VIEW VGC_ROAD_L AS
SELECT A.G3E_ID, A.G3E_FNO, A.G3E_CNO, A.G3E_FID, A.G3E_CID, A.TYPE_BTR, G3E_GEOMETRY FROM GC_ROAD_L A
/

--PASSO 4B
--CRIAR DEFINIÇÕES DA VIEW
--INSERIR SEM G3E_LENO (1o NULL)
INSERT INTO G3E_COMPONENTVIEWDEFINITION VALUES(21010, 'VGC_ROAD_L', 21000, 21010, NULL, NULL, SYSDATE, 0);
COMMIT;

INSERT INTO G3E_COMPONENTVIEWCOMPOSITION VALUES(210010, 21010, 21010, NULL, SYSDATE, 21000);
COMMIT;



--insert into g3e_attribute (G3E_ANO, G3E_CNO, G3E_VNO, G3E_FIELD, G3E_USERNAME, G3E_FORMAT, G3E_PRECISION, G3E_DOMAINTABLE, G3E_DOMAINFIELD, G3E_REQUIRED, G3E_FINO, G3E_FUNCTIONALORDINAL, G3E_FUNCTIONALTYPE, G3E_INTERFACEARGUMENT, G3E_TOOLTIP, G3E_FOREIGNKEYTABLE, G3E_FOREIGNKEYFIELD, G3E_HYPERTEXT, G3E_PNO, G3E_COPY, G3E_EXCLUDEFROMEDIT, G3E_DATATYPE, G3E_ADDITIONALREFFIELDS, G3E_IMPORTFIELD, G3E_EXCLUDEFROMREPLACE, G3E_EDITDATE, G3E_WIDTHINTWIPS, G3E_CATALOGCOPYVALUE, G3E_LOCALECOMMENT, G3E_BREAKCOPY, G3E_COPYATTRIBUTE, G3E_WRAPTEXT, G3E_MERGEEXPRESSION, G3E_RINO, G3E_RIARGGROUPNO, G3E_UNIQUE, G3E_COMPRELATIVEANO, G3E_FUNCTIONALVALIDATION, G3E_ROLE, G3E_FKQRINO, G3E_FKQARGGROUPNO, G3E_DESCRIPTION)
INSERT INTO G3E_ATTRIBUTE VALUES(2100101, 21001, NULL, 'OSM_ID', 'ID Open Street Maps', NULL, NULL, NULL, NULL, 0,
NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 0, 0, 10, NULL, NULL, 0, SYSDATE,  NULL, NULL, NULL, 0, 0, 1,
NULL, NULL, NULL, 0, NULL, 1, 'EVERYONE', NULL, NULL, NULL);
COMMIT;

INSERT INTO G3E_ATTRIBUTE VALUES(2100102, 21001, NULL, 'NAME_ROAD', 'Name', NULL, NULL, NULL, NULL, 0,
NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 0, 0, 10, NULL, NULL, 0, SYSDATE,  NULL, NULL, NULL, 0, 0, 1,
NULL, NULL, NULL, 0, NULL, 1, 'EVERYONE', NULL, NULL, NULL);
COMMIT;

INSERT INTO G3E_ATTRIBUTE VALUES(2100103, 21001, NULL, 'REF_ROAD', 'Reference', NULL, NULL, NULL, NULL, 0,
NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 0, 0, 10, NULL, NULL, 0, SYSDATE,  NULL, NULL, NULL, 0, 0, 1,
NULL, NULL, NULL, 0, NULL, 1, 'EVERYONE', NULL, NULL, NULL);
COMMIT;

INSERT INTO G3E_ATTRIBUTE VALUES(2100104, 21001, NULL, 'TYPE_ROAD', 'Type of road', NULL, NULL, NULL, NULL, 0,
NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 0, 0, 10, NULL, NULL, 0, SYSDATE,  NULL, NULL, NULL, 0, 0, 1,
NULL, NULL, NULL, 0, NULL, 1, 'EVERYONE', NULL, NULL, NULL);
COMMIT;

INSERT INTO G3E_ATTRIBUTE VALUES(2100105, 21001, NULL, 'ONE_WAY', 'One Way', NULL, NULL, NULL, NULL, 0,
NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 0, 0, 4, NULL, NULL, 0, SYSDATE,  NULL, NULL, NULL, 0, 0, 1,
NULL, NULL, NULL, 0, NULL, 1, 'EVERYONE', NULL, NULL, NULL);
COMMIT;

INSERT INTO G3E_ATTRIBUTE VALUES(2100106, 21001, NULL, 'MAX_SPEED', 'Max Speed', 'General Number', NULL, NULL, NULL, 0,
NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 0, 0, 4, NULL, NULL, 0, SYSDATE,  NULL, NULL, NULL, 0, 0, 1,
NULL, NULL, NULL, 0, NULL, 1, 'EVERYONE', NULL, NULL, NULL);
COMMIT;

--PASSO 5
--CRIAR ATRIBUTOS
--insert into g3e_attribute (G3E_ANO, G3E_CNO, G3E_VNO, G3E_FIELD, G3E_USERNAME, G3E_FORMAT, G3E_PRECISION, G3E_DOMAINTABLE, G3E_DOMAINFIELD, G3E_REQUIRED, G3E_FINO, G3E_FUNCTIONALORDINAL, G3E_FUNCTIONALTYPE, G3E_INTERFACEARGUMENT, G3E_TOOLTIP, G3E_FOREIGNKEYTABLE, G3E_FOREIGNKEYFIELD, G3E_HYPERTEXT, G3E_PNO, G3E_COPY, G3E_EXCLUDEFROMEDIT, G3E_DATATYPE, G3E_ADDITIONALREFFIELDS, G3E_IMPORTFIELD, G3E_EXCLUDEFROMREPLACE, G3E_EDITDATE, G3E_WIDTHINTWIPS, G3E_CATALOGCOPYVALUE, G3E_LOCALECOMMENT, G3E_BREAKCOPY, G3E_COPYATTRIBUTE, G3E_WRAPTEXT, G3E_MERGEEXPRESSION, G3E_RINO, G3E_RIARGGROUPNO, G3E_UNIQUE, G3E_COMPRELATIVEANO, G3E_FUNCTIONALVALIDATION, G3E_ROLE, G3E_FKQRINO, G3E_FKQARGGROUPNO, G3E_DESCRIPTION)
INSERT INTO G3E_ATTRIBUTE VALUES(2101001, 21010, NULL, 'G3E_ID', 'LTT ID GComms', 'General Number', NULL, NULL, NULL, 0,
NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 0, 0, 4, NULL, NULL, 0, SYSDATE,  NULL, NULL, NULL, 0, 0, 1,
NULL, NULL, NULL, 0, NULL, 1, 'EVERYONE', NULL, NULL, NULL);
COMMIT;

INSERT INTO G3E_ATTRIBUTE VALUES(2101002, 21010, NULL, 'G3E_FNO', 'Número da Entidade GComms', 'General Number', NULL, NULL, NULL, 0,
NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 0, 0, 4, NULL, NULL, 0, SYSDATE,  NULL, NULL, NULL, 0, 0, 1,
NULL, NULL, NULL, 0, NULL, 1, 'EVERYONE', NULL, NULL, NULL);
COMMIT;

INSERT INTO G3E_ATTRIBUTE VALUES(2101003, 21010, NULL, 'G3E_CNO', ' Número do Componente GComms', 'General Number', NULL, NULL, NULL, 0,
NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 0, 0, 4, NULL, NULL, 0, SYSDATE,  NULL, NULL, NULL, 0, 0, 1,
NULL, NULL, NULL, 0, NULL, 1, 'EVERYONE', NULL, NULL, NULL);
COMMIT;

INSERT INTO G3E_ATTRIBUTE VALUES(2101004, 21010, NULL, 'G3E_FID', 'ID da Entidade GComms', 'General Number', NULL, NULL, NULL, 0,
NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 0, 0, 4, NULL, NULL, 0, SYSDATE,  NULL, NULL, NULL, 0, 0, 1,
NULL, NULL, NULL, 0, NULL, 1, 'EVERYONE', NULL, NULL, NULL);
COMMIT;

INSERT INTO G3E_ATTRIBUTE VALUES(2101005, 21010, NULL, 'G3E_CID', 'ID do Componente GComms', 'General Number', NULL, NULL, NULL, 0,
NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 0, 0, 4, NULL, NULL, 0, SYSDATE,  NULL, NULL, NULL, 0, 0, 1,
NULL, NULL, NULL, 0, NULL, 1, 'EVERYONE', NULL, NULL, NULL);
COMMIT;

INSERT INTO G3E_ATTRIBUTE VALUES(2101006, 21010, NULL, 'G3E_GEOMETRY', 'Geometria GComms', '', NULL, NULL, NULL, 0,
NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 0, 0, 32, NULL, NULL, 0, SYSDATE,  NULL, NULL, NULL, 1, 0, 1,
NULL, NULL, NULL, 0, NULL, 1, 'EVERYONE', NULL, NULL, NULL);
COMMIT;

INSERT INTO G3E_ATTRIBUTE VALUES(2101007, 21010, NULL, 'TYPE_BTR', 'Type', NULL, NULL, NULL, NULL, 0,
NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 0, 0, 10, NULL, NULL, 0, SYSDATE,  NULL, NULL, NULL, 0, 0, 1,
NULL, NULL, NULL, 0, NULL, 1, 'EVERYONE', NULL, NULL, NULL);
COMMIT;

--PASSO 6
execute MG3ElanguageSubTableUtils.SynchronizeSubTables;
COMMIT;
execute MG3EOTCreateOptimizedTables;
COMMIT;
execute MG3ECreateOptableViews;
COMMIT;

--PASSO 7
execute G3EOneTable.InstallOneTable('GC_ROAD');
COMMIT;
execute G3EOneTable.InstallOneTable('GC_ROAD_L');
COMMIT;

--PASSO 8
execute LTT_Role.Create_Public_Synonym;
COMMIT;
execute LTT_Role.Create_Component_View_Synonym;
COMMIT;
execute LTT_Role.Grant_Privs_To_Role;
COMMIT;

--DE AGORA EM DIANTE SEGUE FORA DO ROTEIRO, QUE INCLUI CRIAR REGRAS DE ESTILO, INSERIR NA LEGENDA E ETC...
--1 CRIAR REGRA DE ESTILOS
--INSERIR NA G3E_LINESTYLE
--LINHA DA ROAD
insert into G3E_LINESTYLE (G3E_SNO, G3E_USERNAME, G3E_COLOR, G3E_WIDTH, G3E_OFFSET, G3E_STARTSYMBOL, G3E_ENDSYMBOL, G3E_STROKEPATTERN, G3E_PLOTREDLINE, G3E_EDITDATE, G3E_STYLEUNITS, G3E_TRANSLUCENCY)
values (210000011, 'Line Road', 4227327, 1, 0, null, null, 100, 1, SYSDATE, 1, null);

--LINHA DO TUNEL
insert into G3E_LINESTYLE (G3E_SNO, G3E_USERNAME, G3E_COLOR, G3E_WIDTH, G3E_OFFSET, G3E_STARTSYMBOL, G3E_ENDSYMBOL, G3E_STROKEPATTERN, G3E_PLOTREDLINE, G3E_EDITDATE, G3E_STYLEUNITS, G3E_TRANSLUCENCY)
values (210000012, 'Line Tunel', 4227327, 1, 0, null, null, 200, 1, SYSDATE, 1, null);
COMMIT;

--LINHA DA PONTE
insert into G3E_LINESTYLE (G3E_SNO, G3E_USERNAME, G3E_COLOR, G3E_WIDTH, G3E_OFFSET, G3E_STARTSYMBOL, G3E_ENDSYMBOL, G3E_STROKEPATTERN, G3E_PLOTREDLINE, G3E_EDITDATE, G3E_STYLEUNITS, G3E_TRANSLUCENCY)
values (210000013, 'Line Bridge', 4227327, 1, 0, null, null, 400, 1, SYSDATE, 1, null);
COMMIT;

--INSERIR NA G3E_STYLERULE
insert into g3e_stylerule (G3E_SRROWNO, G3E_SRNO, G3E_RULE, G3E_FILTER, G3E_FILTERORDINAL, G3E_SNO, G3E_EDITDATE, G3E_DESCRIPTION, G3E_LOCALECOMMENT)
values (210000001, 2100001, 'Line Road', null, 99, 210000011, SYSDATE, 'Line Road', null);
COMMIT;

insert into g3e_stylerule (G3E_SRROWNO, G3E_SRNO, G3E_RULE, G3E_FILTER, G3E_FILTERORDINAL, G3E_SNO, G3E_EDITDATE, G3E_DESCRIPTION, G3E_LOCALECOMMENT)
values (210000002, 2100001, 'Line Road', 'TYPE_BTR=''Tunel''', 1, 210000012, SYSDATE, 'Line Tunel', null);
COMMIT;

insert into g3e_stylerule (G3E_SRROWNO, G3E_SRNO, G3E_RULE, G3E_FILTER, G3E_FILTERORDINAL, G3E_SNO, G3E_EDITDATE, G3E_DESCRIPTION, G3E_LOCALECOMMENT)
values (210000003, 2100001, 'Line Road', 'TYPE_BTR=''Bridge''', 2, 210000013, SYSDATE, 'Line Bridge', null);
COMMIT;

--2 INSERIR NA LEGENDENTRY
-- insert into g3e_legendentry (G3E_LENO, G3E_LEGENDENTRY, G3E_USERNAME, G3E_VNO, G3E_SRNO, G3E_LRNO, G3E_EDITDATE, G3E_ROLE, G3E_LAYERNAME, G3E_LOCALECOMMENT, G3E_TRANSLUCENCY, G3E_FILLTRANSLUCENCY)
INSERT INTO G3E_LEGENDENTRY VALUES(21010, 'VGC_ROAD_L', 'Line Road', 21010, 2100001, NULL, SYSDATE, 'EVERYONE', NULL, NULL, NULL, NULL);
COMMIT;

--Referenciando a G3E_leno na componentview
UPDATE G3E_COMPONENTVIEWDEFINITION SET G3E_LENO = 21010 WHERE G3E_VNO = 21010;
COMMIT;


--3 INSERIR NO CONTROLE DE EXIBIÇÃO DE LEGENDA
INSERT INTO G3E_LEGGEO_DEFDSP VALUES('OSM', 'Open Street Maps', 1, (select max(g3e_ordinal) + 1 from G3E_LEGGEO_DEFDSP), 0, sysdate, (select max(g3e_dcrowno) + 1 from G3E_LEGGEO_DEFDSP), NULL, NULL);
COMMIT;

--3 INSERIR NO CONTROLE DE EXIBIÇÃO DE LEGENDA
INSERT INTO G3E_LEGGEO_DEFDSP VALUES('Road', 'Road', 2, (select max(g3e_ordinal) + 1 from G3E_LEGGEO_DEFDSP), 0, sysdate, (select max(g3e_dcrowno) + 1 from G3E_LEGGEO_DEFDSP), NULL, NULL);
COMMIT;

--3 INSERIR NO CONTROLE DE EXIBIÇÃO DE LEGENDA
INSERT INTO G3E_LEGGEO_DEFDSP VALUES('VGC_ROAD_L', 'Line Road', 3, (select max(g3e_ordinal) + 1 from G3E_LEGGEO_DEFDSP), 1, sysdate, (select max(g3e_dcrowno) + 1 from G3E_LEGGEO_DEFDSP), NULL, NULL);
COMMIT;

--4 INSERIR NA LEGENDA
INSERT INTO G3E_LEGGEO_DEFAULT VALUES(21010, NULL, 20, SYSDATE);
COMMIT;
--UPDATE NA G3E_LEGGEO_DEFAU
UPDATE G3E_LEGGEO_DEFAU SET G3E_DISPLAYSCALEMIN = 1, G3E_DISPLAYSCALEMAX = 40000 WHERE G3E_LENO = 21010;
COMMIT;

--5 INSERIR NA INSERÇÃO DE FEATURE
INSERT INTO G3E_PLACEMENTSELECTION VALUES(NULL, NULL, 'OSM', 1, (select max(g3e_ordinal) + 1 from g3e_placementselection), sysdate, (select max(g3e_psrowno) + 1 from G3E_PLACEMENTSELECTION), NULL, (select max(g3e_iconordinal) + 1 from G3E_PLACEMENTSELECTION), 'EVERYONE');
COMMIT;

INSERT INTO G3E_PLACEMENTSELECTION VALUES(NULL, 21000, 'Road', 2, (select max(g3e_ordinal) + 1 from g3e_placementselection), sysdate, (select max(g3e_psrowno) + 1 from G3E_PLACEMENTSELECTION), NULL, (select max(g3e_iconordinal) + 1 from G3E_PLACEMENTSELECTION), 'EVERYONE');
COMMIT;

--6 INSERIR DIALOGSTAB
INSERT INTO G3E_DIALOGTAB VALUES (2100001, 'Road', 'V', SYSDATE, NULL ,NULL, NULL, NULL);
INSERT INTO G3E_DIALOGTAB VALUES (2100002, 'Road', 'V', SYSDATE, NULL ,NULL, NULL, NULL);
INSERT INTO G3E_DIALOGTAB VALUES (2100003, 'Road', 'V', SYSDATE, NULL ,NULL, NULL, NULL);
COMMIT;

--7 INSERIR DIALOG
INSERT INTO G3E_DIALOG VALUES(2100001, 20701, 'Placement', 21000, 1, null, 2100001, sysdate);
commit;
INSERT INTO G3E_DIALOG VALUES(2100002, 20702, 'Edit', 21000, 2, null, 2100002, sysdate);
commit;
INSERT INTO G3E_DIALOG VALUES(2100003, 20703, 'Review', 21000, 3, null, 2100003, sysdate);
commit;

--8 INSERIR TABATTRIBUTES
--PLACEMENT
-- insert into g3e_tabattribute (G3E_TANO, G3E_ANO, G3E_ORDINAL, G3E_PNO, G3E_READONLY, G3E_DEFAULT, G3E_REFRESH, G3E_DTNO, G3E_FIELDVALUEFILTER, G3E_TRAVERSALANO, G3E_EDITDATE, G3E_TRIGGERPOPULATE, G3E_USEFILTERTOTRANSLATEKEY, G3E_FKQRINO, G3E_FKQARGGROUPNO)
insert into g3e_tabattribute values(210000101, 2100101, 1, NULL, 0, null, 1, 2100001, null, null, sysdate, 1, 0, null, null);
commit;

insert into g3e_tabattribute values(210000102, 2100102, 2, NULL, 0, null, 1, 2100001, null, null, sysdate, 1, 0, null, null);
commit;

insert into g3e_tabattribute values(210000103, 2100103, 3, NULL, 0, null, 1, 2100001, null, null, sysdate, 1, 0, null, null);
commit;

insert into g3e_tabattribute values(210000104, 2100104, 4, NULL, 0, null, 1, 2100001, null, null, sysdate, 1, 0, null, null);
commit;

insert into g3e_tabattribute values(210000105, 2101007, 5, NULL, 0, null, 1, 2100001, null, null, sysdate, 1, 0, null, null);
commit;

insert into g3e_tabattribute values(210000106, 2100106, 6, NULL, 0, null, 1, 2100001, null, null, sysdate, 1, 0, null, null);
commit;


--EDIT
insert into g3e_tabattribute values(210000201, 2100101, 1, NULL, 0, null, 1, 2100002, null, null, sysdate, 1, 0, null, null);
commit;

insert into g3e_tabattribute values(210000202, 2100102, 2, NULL, 0, null, 1, 2100002, null, null, sysdate, 1, 0, null, null);
commit;

insert into g3e_tabattribute values(210000203, 2100103, 3, NULL, 0, null, 1, 2100002, null, null, sysdate, 1, 0, null, null);
commit;

insert into g3e_tabattribute values(210000204, 2100104, 4, NULL, 0, null, 1, 2100002, null, null, sysdate, 1, 0, null, null);
commit;

insert into g3e_tabattribute values(210000205, 2101007, 5, NULL, 0, null, 1, 2100002, null, null, sysdate, 1, 0, null, null);
commit;

insert into g3e_tabattribute values(210000206, 2100106, 6, NULL, 0, null, 1, 2100002, null, null, sysdate, 1, 0, null, null);
commit;



--REVIEW
insert into g3e_tabattribute values(210000301, 2100101, 1, null, 1, null, 1, 2100003, null, null, sysdate, 0, 0, null, null);
commit;

insert into g3e_tabattribute values(210000302, 2100102, 2, null, 1, null, 1, 2100003, null, null, sysdate, 0, 0, null, null);
commit;

insert into g3e_tabattribute values(210000303, 2100103, 3, null, 1, null, 1, 2100003, null, null, sysdate, 0, 0, null, null);
commit;

insert into g3e_tabattribute values(210000304, 2100104, 4, null, 1, null, 1, 2100003, null, null, sysdate, 0, 0, null, null);
commit;

insert into g3e_tabattribute values(210000305, 2101007, 5, null, 1, null, 1, 2100003, null, null, sysdate, 0, 0, null, null);
commit;

insert into g3e_tabattribute values(210000306, 2100106, 6, null, 1, null, 1, 2100003, null, null, sysdate, 0, 0, null, null);
commit;

--FIND
INSERT INTO G3E_FIND VALUES(G3E_FIND_SEQ.NEXTVAL, 21000, 21001, 2100102, 21001, 2100104, SYSDATE, 'EVERYONE');
INSERT INTO G3E_FIND VALUES(G3E_FIND_SEQ.NEXTVAL, 21000, 21001, 8012379, null, null, SYSDATE, 'EVERYONE');
COMMIT;

------------------------------------------------------------------------------------------------------------------------------------------------------------
-------------------------------------------------------------------RAILWAYS---------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------------------------------------------------------------


create table GC_RAILWAYS (
G3E_ID NUMBER(10,0),
G3E_FNO NUMBER(5,0),
G3E_CNO NUMBER(5,0),
G3E_FID NUMBER(10,0),
G3E_CID NUMBER(10,0),
OSM_ID VARCHAR2(11),
NAME_RAILWAYS VARCHAR2(100)
)
/

--Passo 1
--Criar Tabela de Componente Gráfico para a entidade Railways
create table GC_RAILWAYS_L (
G3E_ID NUMBER(10,0),
G3E_FNO NUMBER(5,0),
G3E_CNO NUMBER(5,0),
G3E_FID NUMBER(10,0),
G3E_CID NUMBER(10,0),
TYPE_RAILWAYS VARCHAR2(50),
G3E_GEOMETRY SDO_GEOMETRY
)
/

--insert into g3e_component (G3E_CNO, G3E_USERNAME, G3E_NAME, G3E_TOOLTIP, G3E_TYPE, G3E_GEOMETRYTYPE, G3E_TABLE, G3E_DETAIL, G3E_ALIGNMENTFIELD, G3E_DCNO, G3E_DTNO, G3E_GEOMETRYFIELD, G3E_SUBSETATTRIBUTE, G3E_EDITDATE, G3E_SUBTYPE, G3E_LOCALECOMMENT, G3E_LRNO, G3E_PARTITIONATTRIBUTE, G3E_LTT)
INSERT INTO G3E_COMPONENT VALUES (21101, 'Railways', 'GC_RAILWAYS','Railways', 1, NULL, 'GC_RAILWAYS', 0, NULL, 31, NULL, NULL, NULL, SYSDATE, NULL, NULL, NULL, NULL, 0);
COMMIT;

--PASSO 2
--INSERIR NA TABELA DE COMPONENTES
--RELACIONADO AO COMPONENTE GRÁFICO
-- insert into g3e_component (G3E_CNO, G3E_USERNAME, G3E_NAME, G3E_TOOLTIP, G3E_TYPE, G3E_GEOMETRYTYPE, G3E_TABLE, G3E_DETAIL, G3E_ALIGNMENTFIELD, G3E_DCNO, G3E_DTNO, G3E_GEOMETRYFIELD, G3E_SUBSETATTRIBUTE, G3E_EDITDATE, G3E_SUBTYPE, G3E_LOCALECOMMENT, G3E_LRNO, G3E_PARTITIONATTRIBUTE, G3E_LTT)
INSERT INTO G3E_COMPONENT VALUES (21110, 'Railways Line', 'GC_RAILWAYS_L','Railways Line', 8, 'PolylineGeometry', 'GC_RAILWAYS_L', 0, NULL, 31, NULL, 'G3E_GEOMETRY', NULL, SYSDATE, NULL, NULL, NULL, NULL, 0);
COMMIT;

--PASSO 3
--RELACIONAR O COMPONENTE COM UMA FEATURE
--insert into g3e_feature (G3E_FNO, G3E_USERNAME, G3E_TOOLTIP, G3E_PRIMARYGEOGRAPHICCNO, G3E_PRIMARYATTRIBUTECNO, G3E_DCNO, G3E_PRIMARYDETAILCNO, G3E_NUMBEROFNODES, G3E_IMPORTFEATURENAME, G3E_REPLACE, G3E_NAME, G3E_EDITDATE, G3E_LOCALECOMMENT, G3E_MERGE, G3E_CLASSIFICATIONANO, G3E_IDENTIFIERVIEW, G3E_BULKEDIT, G3E_ICONORDINAL, G3E_EDITROLE, G3E_SELECTROLE, G3E_DELETEROLE, G3E_RINO, G3E_RIARGGROUPNO, G3E_PRIMARYSCHEMCNO, G3E_SECONDARYSCHEMCNO, G3E_LABELSCHEMCNO)
INSERT INTO G3E_FEATURE VALUES (21100, 'Railways', 'Railways', 21110, 21101, 31, null, null, null, 0, null, sysdate, null, 1, null, null, 0, null, 'EVERYONE', 'EVERYONE', 'EVERYONE', NULL, NULL, NULL, NULL, NULL, 'EVERYONE');
COMMIT;

INSERT INTO G3E_FEATURECOMPONENT VALUES(21101, 21100, 21101, 1, 0, 0, 7, 1, NULL, NULL, 1, 1, 0, NULL, 1, SYSDATE, 1, 3, 4, 3, 1, NULL, 0, 0, NULL, NULL, 1, NULL, NULL, NULL, 1,  NULL, NULL, NULL, 0, NULL);
COMMIT;

--RELACIONADO AO COMPONENTE GRÁFICO
--insert into g3e_featurecomponent (G3E_FCNO, G3E_FNO, G3E_CNO, G3E_REQUIRED, G3E_REPEATING, G3E_AUTOREPEAT, G3E_PINO, G3E_ORDINAL, G3E_INTERFACEARGUMENT, G3E_DERIVEDFROMCNO, G3E_INSERTORDINAL, G3E_DELETEORDINAL, G3E_REFRESH, G3E_ALTERNATEREQUIREDCNO, G3E_REPLACE, G3E_EDITDATE, G3E_BREAKACTION, G3E_COMPONENTELIMINATION, G3E_COMPONENTASSIGNMENT, G3E_COMPONENTADJUSTMENT, G3E_GEOPROXIMITYTOLERANCE, G3E_BREAKLINEARCNO, G3E_ALTERNATEGEOGRAPHIC, G3E_ALTERNATEGEOORDINAL, G3E_RINO, G3E_RIARGGROUPNO, G3E_INCLUDEINPLACEMENT, G3E_MERGEMAXDISTANCE, G3E_MERGECOMMONPRECOND, G3E_MERGEPRECOND, G3E_MERGEOCCURRENCES, G3E_MERGERINO, G3E_MERGERIARGGROUPNO, G3E_CCNO, G3E_GENERATE, G3E_DETAILPLACEMENTCNO)
INSERT INTO G3E_FEATURECOMPONENT VALUES(21110, 21100, 21110, 1, 0, 0, 7, 2, NULL, NULL, 2, 2, 0, NULL, 1, SYSDATE, 1, 2, 2, 1, 1, NULL, 0, 0, NULL, NULL, 1, NULL, NULL, NULL, 1,  NULL, NULL, NULL, 0, NULL);
COMMIT;

--PASSO 4A
--CRIAR VIEWS DE COMPONENTE
CREATE OR REPLACE VIEW VGC_RAILWAYS_L AS
SELECT A.G3E_ID, A.G3E_FNO, A.G3E_CNO, A.G3E_FID, A.G3E_CID, A.TYPE_RAILWAYS, G3E_GEOMETRY FROM GC_RAILWAYS_L A
/

--PASSO 4B
--CRIAR DEFINIÇÕES DA VIEW
--INSERIR SEM G3E_LENO (1o NULL)
INSERT INTO G3E_COMPONENTVIEWDEFINITION VALUES(21110, 'VGC_RAILWAYS_L', 21100, 21110, NULL, NULL, SYSDATE, 0);
COMMIT;

INSERT INTO G3E_COMPONENTVIEWCOMPOSITION VALUES(211010, 21110, 21110, NULL, SYSDATE, 21100);
COMMIT;

--insert into g3e_attribute (G3E_ANO, G3E_CNO, G3E_VNO, G3E_FIELD, G3E_USERNAME, G3E_FORMAT, G3E_PRECISION, G3E_DOMAINTABLE, G3E_DOMAINFIELD, G3E_REQUIRED, G3E_FINO, G3E_FUNCTIONALORDINAL, G3E_FUNCTIONALTYPE, G3E_INTERFACEARGUMENT, G3E_TOOLTIP, G3E_FOREIGNKEYTABLE, G3E_FOREIGNKEYFIELD, G3E_HYPERTEXT, G3E_PNO, G3E_COPY, G3E_EXCLUDEFROMEDIT, G3E_DATATYPE, G3E_ADDITIONALREFFIELDS, G3E_IMPORTFIELD, G3E_EXCLUDEFROMREPLACE, G3E_EDITDATE, G3E_WIDTHINTWIPS, G3E_CATALOGCOPYVALUE, G3E_LOCALECOMMENT, G3E_BREAKCOPY, G3E_COPYATTRIBUTE, G3E_WRAPTEXT, G3E_MERGEEXPRESSION, G3E_RINO, G3E_RIARGGROUPNO, G3E_UNIQUE, G3E_COMPRELATIVEANO, G3E_FUNCTIONALVALIDATION, G3E_ROLE, G3E_FKQRINO, G3E_FKQARGGROUPNO, G3E_DESCRIPTION)
INSERT INTO G3E_ATTRIBUTE VALUES(2110101, 21101, NULL, 'OSM_ID', 'ID Open Street Maps', NULL, NULL, NULL, NULL, 0,
NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 0, 0, 10, NULL, NULL, 0, SYSDATE,  NULL, NULL, NULL, 0, 0, 1,
NULL, NULL, NULL, 0, NULL, 1, 'EVERYONE', NULL, NULL, NULL);
COMMIT;

INSERT INTO G3E_ATTRIBUTE VALUES(2110102, 21101, NULL, 'NAME_RAILWAYS', 'Name', NULL, NULL, NULL, NULL, 0,
NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 0, 0, 10, NULL, NULL, 0, SYSDATE,  NULL, NULL, NULL, 0, 0, 1,
NULL, NULL, NULL, 0, NULL, 1, 'EVERYONE', NULL, NULL, NULL);
COMMIT;

--PASSO 5
--CRIAR ATRIBUTOS
--insert into g3e_attribute (G3E_ANO, G3E_CNO, G3E_VNO, G3E_FIELD, G3E_USERNAME, G3E_FORMAT, G3E_PRECISION, G3E_DOMAINTABLE, G3E_DOMAINFIELD, G3E_REQUIRED, G3E_FINO, G3E_FUNCTIONALORDINAL, G3E_FUNCTIONALTYPE, G3E_INTERFACEARGUMENT, G3E_TOOLTIP, G3E_FOREIGNKEYTABLE, G3E_FOREIGNKEYFIELD, G3E_HYPERTEXT, G3E_PNO, G3E_COPY, G3E_EXCLUDEFROMEDIT, G3E_DATATYPE, G3E_ADDITIONALREFFIELDS, G3E_IMPORTFIELD, G3E_EXCLUDEFROMREPLACE, G3E_EDITDATE, G3E_WIDTHINTWIPS, G3E_CATALOGCOPYVALUE, G3E_LOCALECOMMENT, G3E_BREAKCOPY, G3E_COPYATTRIBUTE, G3E_WRAPTEXT, G3E_MERGEEXPRESSION, G3E_RINO, G3E_RIARGGROUPNO, G3E_UNIQUE, G3E_COMPRELATIVEANO, G3E_FUNCTIONALVALIDATION, G3E_ROLE, G3E_FKQRINO, G3E_FKQARGGROUPNO, G3E_DESCRIPTION)
INSERT INTO G3E_ATTRIBUTE VALUES(2111001, 21110, NULL, 'G3E_ID', 'LTT ID GComms', 'General Number', NULL, NULL, NULL, 0,
NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 0, 0, 4, NULL, NULL, 0, SYSDATE,  NULL, NULL, NULL, 0, 0, 1,
NULL, NULL, NULL, 0, NULL, 1, 'EVERYONE', NULL, NULL, NULL);
COMMIT;

INSERT INTO G3E_ATTRIBUTE VALUES(2111002, 21110, NULL, 'G3E_FNO', 'Número da Entidade GComms', 'General Number', NULL, NULL, NULL, 0,
NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 0, 0, 4, NULL, NULL, 0, SYSDATE,  NULL, NULL, NULL, 0, 0, 1,
NULL, NULL, NULL, 0, NULL, 1, 'EVERYONE', NULL, NULL, NULL);
COMMIT;

INSERT INTO G3E_ATTRIBUTE VALUES(2111003, 21110, NULL, 'G3E_CNO', ' Número do Componente GComms', 'General Number', NULL, NULL, NULL, 0,
NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 0, 0, 4, NULL, NULL, 0, SYSDATE,  NULL, NULL, NULL, 0, 0, 1,
NULL, NULL, NULL, 0, NULL, 1, 'EVERYONE', NULL, NULL, NULL);
COMMIT;

INSERT INTO G3E_ATTRIBUTE VALUES(2111004, 21110, NULL, 'G3E_FID', 'ID da Entidade GComms', 'General Number', NULL, NULL, NULL, 0,
NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 0, 0, 4, NULL, NULL, 0, SYSDATE,  NULL, NULL, NULL, 0, 0, 1,
NULL, NULL, NULL, 0, NULL, 1, 'EVERYONE', NULL, NULL, NULL);
COMMIT;

INSERT INTO G3E_ATTRIBUTE VALUES(2111005, 21110, NULL, 'G3E_CID', 'ID do Componente GComms', 'General Number', NULL, NULL, NULL, 0,
NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 0, 0, 4, NULL, NULL, 0, SYSDATE,  NULL, NULL, NULL, 0, 0, 1,
NULL, NULL, NULL, 0, NULL, 1, 'EVERYONE', NULL, NULL, NULL);
COMMIT;

INSERT INTO G3E_ATTRIBUTE VALUES(2111006, 21110, NULL, 'G3E_GEOMETRY', 'Geometria GComms', '', NULL, NULL, NULL, 0,
NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 0, 0, 32, NULL, NULL, 0, SYSDATE,  NULL, NULL, NULL, 1, 0, 1,
NULL, NULL, NULL, 0, NULL, 1, 'EVERYONE', NULL, NULL, NULL);
COMMIT;

INSERT INTO G3E_ATTRIBUTE VALUES(2111007, 21110, NULL, 'TYPE_RAILWAYS', 'Type', NULL, NULL, NULL, NULL, 0,
NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 0, 0, 10, NULL, NULL, 0, SYSDATE,  NULL, NULL, NULL, 0, 0, 1,
NULL, NULL, NULL, 0, NULL, 1, 'EVERYONE', NULL, NULL, NULL);
COMMIT;

--PASSO 6
execute MG3ElanguageSubTableUtils.SynchronizeSubTables;
COMMIT;
execute MG3EOTCreateOptimizedTables;
COMMIT;
execute MG3ECreateOptableViews;
COMMIT;

--PASSO 7
execute G3EOneTable.InstallOneTable('GC_RAILWAYS');
COMMIT;
execute G3EOneTable.InstallOneTable('GC_RAILWAYS_L');
COMMIT;

--PASSO 8
execute LTT_Role.Create_Public_Synonym;
COMMIT;
execute LTT_Role.Create_Component_View_Synonym;
COMMIT;
execute LTT_Role.Grant_Privs_To_Role;
COMMIT;

--DE AGORA EM DIANTE SEGUE FORA DO ROTEIRO, QUE INCLUI CRIAR REGRAS DE ESTILO, INSERIR NA LEGENDA E ETC...
--1 CRIAR REGRA DE ESTILOS
--INSERIR NA G3E_LINESTYLE
--LINHA DA RAILWAY
insert into G3E_LINESTYLE (G3E_SNO, G3E_USERNAME, G3E_COLOR, G3E_WIDTH, G3E_OFFSET, G3E_STARTSYMBOL, G3E_ENDSYMBOL, G3E_STROKEPATTERN, G3E_PLOTREDLINE, G3E_EDITDATE, G3E_STYLEUNITS, G3E_TRANSLUCENCY)
values (211000011, 'Line Railways', 128, 1, 0, null, null, 200, 1, SYSDATE, 1, null);
COMMIT;

--INSERIR NA G3E_STYLERULE
insert into g3e_stylerule (G3E_SRROWNO, G3E_SRNO, G3E_RULE, G3E_FILTER, G3E_FILTERORDINAL, G3E_SNO, G3E_EDITDATE, G3E_DESCRIPTION, G3E_LOCALECOMMENT)
values (211000001, 2110001, 'Line Railways', null, 99, 211000011, SYSDATE, 'Line Railways', null);
COMMIT;


--2 INSERIR NA LEGENDENTRY
-- insert into g3e_legendentry (G3E_LENO, G3E_LEGENDENTRY, G3E_USERNAME, G3E_VNO, G3E_SRNO, G3E_LRNO, G3E_EDITDATE, G3E_ROLE, G3E_LAYERNAME, G3E_LOCALECOMMENT, G3E_TRANSLUCENCY, G3E_FILLTRANSLUCENCY)
INSERT INTO G3E_LEGENDENTRY VALUES(21110, 'VGC_RAILWAYS_L', 'Line Railways', 21110, 2110001, NULL, SYSDATE, 'EVERYONE', NULL, NULL, NULL, NULL);
COMMIT;

--Referenciando a G3E_leno na componentview
UPDATE G3E_COMPONENTVIEWDEFINITION SET G3E_LENO = 21110 WHERE G3E_VNO = 21110;
COMMIT;


--3 INSERIR NO CONTROLE DE EXIBIÇÃO DE LEGENDA
INSERT INTO G3E_LEGGEO_DEFDSP VALUES('Railways', 'Railways', 2, (select max(g3e_ordinal) + 1 from G3E_LEGGEO_DEFDSP), 0, sysdate, (select max(g3e_dcrowno) + 1 from G3E_LEGGEO_DEFDSP), NULL, NULL);
COMMIT;

--3 INSERIR NO CONTROLE DE EXIBIÇÃO DE LEGENDA
INSERT INTO G3E_LEGGEO_DEFDSP VALUES('VGC_RAILWAYS_L', 'Line Railways', 3, (select max(g3e_ordinal) + 1 from G3E_LEGGEO_DEFDSP), 1, sysdate, (select max(g3e_dcrowno) + 1 from G3E_LEGGEO_DEFDSP), NULL, NULL);
COMMIT;

--4 INSERIR NA LEGENDA
INSERT INTO G3E_LEGGEO_DEFAULT VALUES(21110, NULL, 19, SYSDATE);
COMMIT;
--UPDATE NA G3E_LEGGEO_DEFAU
UPDATE G3E_LEGGEO_DEFAU SET G3E_DISPLAYSCALEMIN = 1, G3E_DISPLAYSCALEMAX = 40000 WHERE G3E_LENO = 21110;
COMMIT;

--5 INSERIR NA INSERÇÃO DE FEATURE

INSERT INTO G3E_PLACEMENTSELECTION VALUES(NULL, 21100, 'Railways', 2, (select max(g3e_ordinal) + 1 from g3e_placementselection), sysdate, (select max(g3e_psrowno) + 1 from G3E_PLACEMENTSELECTION), NULL, (select max(g3e_iconordinal) + 1 from G3E_PLACEMENTSELECTION), 'EVERYONE');
COMMIT;

--6 INSERIR DIALOGSTAB
INSERT INTO G3E_DIALOGTAB VALUES (2110001, 'Railways', 'V', SYSDATE, NULL ,NULL, NULL, NULL);
INSERT INTO G3E_DIALOGTAB VALUES (2110002, 'Railways', 'V', SYSDATE, NULL ,NULL, NULL, NULL);
INSERT INTO G3E_DIALOGTAB VALUES (2110003, 'Railways', 'V', SYSDATE, NULL ,NULL, NULL, NULL);
COMMIT;

--7 INSERIR DIALOG
INSERT INTO G3E_DIALOG VALUES(2110001, 21101, 'Placement', 21100, 1, null, 2110001, sysdate);
commit;
INSERT INTO G3E_DIALOG VALUES(2110002, 21102, 'Edit', 21100, 2, null, 2110002, sysdate);
commit;
INSERT INTO G3E_DIALOG VALUES(2110003, 21103, 'Review', 21100, 3, null, 2110003, sysdate);
commit;

--8 INSERIR TABATTRIBUTES
--PLACEMENT
-- insert into g3e_tabattribute (G3E_TANO, G3E_ANO, G3E_ORDINAL, G3E_PNO, G3E_READONLY, G3E_DEFAULT, G3E_REFRESH, G3E_DTNO, G3E_FIELDVALUEFILTER, G3E_TRAVERSALANO, G3E_EDITDATE, G3E_TRIGGERPOPULATE, G3E_USEFILTERTOTRANSLATEKEY, G3E_FKQRINO, G3E_FKQARGGROUPNO)
insert into g3e_tabattribute values(211000101, 2110101, 1, NULL, 0, null, 1, 2110001, null, null, sysdate, 1, 0, null, null);
commit;

insert into g3e_tabattribute values(211000102, 2110102, 2, NULL, 0, null, 1, 2110001, null, null, sysdate, 1, 0, null, null);
commit;

insert into g3e_tabattribute values(211000103, 2111007, 3, NULL, 0, null, 1, 2110001, null, null, sysdate, 1, 0, null, null);
commit;

--EDIT
insert into g3e_tabattribute values(211000201, 2110101, 1, NULL, 0, null, 1, 2110002, null, null, sysdate, 1, 0, null, null);
commit;

insert into g3e_tabattribute values(211000202, 2110102, 2, NULL, 0, null, 1, 2110002, null, null, sysdate, 1, 0, null, null);
commit;

insert into g3e_tabattribute values(211000203, 2111007, 3, NULL, 0, null, 1, 2110002, null, null, sysdate, 1, 0, null, null);
commit;

--REVIEW
insert into g3e_tabattribute values(211000301, 2110101, 1, null, 1, null, 1, 2110003, null, null, sysdate, 0, 0, null, null);
commit;

insert into g3e_tabattribute values(211000302, 2110102, 2, null, 1, null, 1, 2110003, null, null, sysdate, 0, 0, null, null);
commit;

insert into g3e_tabattribute values(211000303, 2111007, 3, null, 1, null, 1, 2110003, null, null, sysdate, 0, 0, null, null);
commit;

--FIND
INSERT INTO G3E_FIND VALUES(G3E_FIND_SEQ.NEXTVAL, 21100, 21101, 2110102, 21110, 2111007, SYSDATE, 'EVERYONE');
INSERT INTO G3E_FIND VALUES(G3E_FIND_SEQ.NEXTVAL, 21100, 21101, 8012384, null, null, SYSDATE, 'EVERYONE');
COMMIT;

------------------------------------------------------------------------------------------------------------------------------------------------------------
-------------------------------------------------------------------WATERWAYS--------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------------------------------------------------------------


create table GC_WATERWAYS (
G3E_ID NUMBER(10,0),
G3E_FNO NUMBER(5,0),
G3E_CNO NUMBER(5,0),
G3E_FID NUMBER(10,0),
G3E_CID NUMBER(10,0),
OSM_ID VARCHAR2(11),
NAME_WATERWAYS VARCHAR2(100),
WIDTH_WATERWAYS NUMBER(10)
)
/

--Passo 1
--Criar Tabela de Componente Gráfico para a entidade Waterways
create table GC_WATERWAYS_L (
G3E_ID NUMBER(10,0),
G3E_FNO NUMBER(5,0),
G3E_CNO NUMBER(5,0),
G3E_FID NUMBER(10,0),
G3E_CID NUMBER(10,0),
TYPE_WATERWAYS VARCHAR2(50),
G3E_GEOMETRY SDO_GEOMETRY
)
/

--insert into g3e_component (G3E_CNO, G3E_USERNAME, G3E_NAME, G3E_TOOLTIP, G3E_TYPE, G3E_GEOMETRYTYPE, G3E_TABLE, G3E_DETAIL, G3E_ALIGNMENTFIELD, G3E_DCNO, G3E_DTNO, G3E_GEOMETRYFIELD, G3E_SUBSETATTRIBUTE, G3E_EDITDATE, G3E_SUBTYPE, G3E_LOCALECOMMENT, G3E_LRNO, G3E_PARTITIONATTRIBUTE, G3E_LTT)
INSERT INTO G3E_COMPONENT VALUES (21201, 'Waterways', 'GC_WATERWAYS','Waterways', 1, NULL, 'GC_WATERWAYS', 0, NULL, 31, NULL, NULL, NULL, SYSDATE, NULL, NULL, NULL, NULL, 0);
COMMIT;

--PASSO 2
--INSERIR NA TABELA DE COMPONENTES
--RELACIONADO AO COMPONENTE GRÁFICO
-- insert into g3e_component (G3E_CNO, G3E_USERNAME, G3E_NAME, G3E_TOOLTIP, G3E_TYPE, G3E_GEOMETRYTYPE, G3E_TABLE, G3E_DETAIL, G3E_ALIGNMENTFIELD, G3E_DCNO, G3E_DTNO, G3E_GEOMETRYFIELD, G3E_SUBSETATTRIBUTE, G3E_EDITDATE, G3E_SUBTYPE, G3E_LOCALECOMMENT, G3E_LRNO, G3E_PARTITIONATTRIBUTE, G3E_LTT)
INSERT INTO G3E_COMPONENT VALUES (21210, 'Waterways Line', 'GC_WATERWAYS_L','Waterways Line', 8, 'PolylineGeometry', 'GC_WATERWAYS_L', 0, NULL, 31, NULL, 'G3E_GEOMETRY', NULL, SYSDATE, NULL, NULL, NULL, NULL, 0);
COMMIT;

--PASSO 3
--RELACIONAR O COMPONENTE COM UMA FEATURE
--insert into g3e_feature (G3E_FNO, G3E_USERNAME, G3E_TOOLTIP, G3E_PRIMARYGEOGRAPHICCNO, G3E_PRIMARYATTRIBUTECNO, G3E_DCNO, G3E_PRIMARYDETAILCNO, G3E_NUMBEROFNODES, G3E_IMPORTFEATURENAME, G3E_REPLACE, G3E_NAME, G3E_EDITDATE, G3E_LOCALECOMMENT, G3E_MERGE, G3E_CLASSIFICATIONANO, G3E_IDENTIFIERVIEW, G3E_BULKEDIT, G3E_ICONORDINAL, G3E_EDITROLE, G3E_SELECTROLE, G3E_DELETEROLE, G3E_RINO, G3E_RIARGGROUPNO, G3E_PRIMARYSCHEMCNO, G3E_SECONDARYSCHEMCNO, G3E_LABELSCHEMCNO)
INSERT INTO G3E_FEATURE VALUES (21200, 'Waterways', 'Waterways', 21210, 21201, 31, null, null, null, 0, null, sysdate, null, 1, null, null, 0, null, 'EVERYONE', 'EVERYONE', 'EVERYONE', NULL, NULL, NULL, NULL, NULL, 'EVERYONE');
COMMIT;

INSERT INTO G3E_FEATURECOMPONENT VALUES(21201, 21200, 21201, 1, 0, 0, 7, 1, NULL, NULL, 1, 1, 0, NULL, 1, SYSDATE, 1, 3, 4, 3, 1, NULL, 0, 0, NULL, NULL, 1, NULL, NULL, NULL, 1,  NULL, NULL, NULL, 0, NULL);
COMMIT;

--RELACIONADO AO COMPONENTE GRÁFICO
--insert into g3e_featurecomponent (G3E_FCNO, G3E_FNO, G3E_CNO, G3E_REQUIRED, G3E_REPEATING, G3E_AUTOREPEAT, G3E_PINO, G3E_ORDINAL, G3E_INTERFACEARGUMENT, G3E_DERIVEDFROMCNO, G3E_INSERTORDINAL, G3E_DELETEORDINAL, G3E_REFRESH, G3E_ALTERNATEREQUIREDCNO, G3E_REPLACE, G3E_EDITDATE, G3E_BREAKACTION, G3E_COMPONENTELIMINATION, G3E_COMPONENTASSIGNMENT, G3E_COMPONENTADJUSTMENT, G3E_GEOPROXIMITYTOLERANCE, G3E_BREAKLINEARCNO, G3E_ALTERNATEGEOGRAPHIC, G3E_ALTERNATEGEOORDINAL, G3E_RINO, G3E_RIARGGROUPNO, G3E_INCLUDEINPLACEMENT, G3E_MERGEMAXDISTANCE, G3E_MERGECOMMONPRECOND, G3E_MERGEPRECOND, G3E_MERGEOCCURRENCES, G3E_MERGERINO, G3E_MERGERIARGGROUPNO, G3E_CCNO, G3E_GENERATE, G3E_DETAILPLACEMENTCNO)
INSERT INTO G3E_FEATURECOMPONENT VALUES(21210, 21200, 21210, 1, 0, 0, 7, 2, NULL, NULL, 2, 2, 0, NULL, 1, SYSDATE, 1, 2, 2, 1, 1, NULL, 0, 0, NULL, NULL, 1, NULL, NULL, NULL, 1,  NULL, NULL, NULL, 0, NULL);
COMMIT;

--PASSO 4A
--CRIAR VIEWS DE COMPONENTE
CREATE OR REPLACE VIEW VGC_WATERWAYS_L AS
SELECT A.G3E_ID, A.G3E_FNO, A.G3E_CNO, A.G3E_FID, A.G3E_CID, A.TYPE_WATERWAYS, G3E_GEOMETRY FROM GC_WATERWAYS_L A
/

--PASSO 4B
--CRIAR DEFINIÇÕES DA VIEW
--INSERIR SEM G3E_LENO (1o NULL)
INSERT INTO G3E_COMPONENTVIEWDEFINITION VALUES(21210, 'VGC_WATERWAYS_L', 21200, 21210, NULL, NULL, SYSDATE, 0);
COMMIT;

INSERT INTO G3E_COMPONENTVIEWCOMPOSITION VALUES(212010, 21210, 21210, NULL, SYSDATE, 21200);
COMMIT;

--insert into g3e_attribute (G3E_ANO, G3E_CNO, G3E_VNO, G3E_FIELD, G3E_USERNAME, G3E_FORMAT, G3E_PRECISION, G3E_DOMAINTABLE, G3E_DOMAINFIELD, G3E_REQUIRED, G3E_FINO, G3E_FUNCTIONALORDINAL, G3E_FUNCTIONALTYPE, G3E_INTERFACEARGUMENT, G3E_TOOLTIP, G3E_FOREIGNKEYTABLE, G3E_FOREIGNKEYFIELD, G3E_HYPERTEXT, G3E_PNO, G3E_COPY, G3E_EXCLUDEFROMEDIT, G3E_DATATYPE, G3E_ADDITIONALREFFIELDS, G3E_IMPORTFIELD, G3E_EXCLUDEFROMREPLACE, G3E_EDITDATE, G3E_WIDTHINTWIPS, G3E_CATALOGCOPYVALUE, G3E_LOCALECOMMENT, G3E_BREAKCOPY, G3E_COPYATTRIBUTE, G3E_WRAPTEXT, G3E_MERGEEXPRESSION, G3E_RINO, G3E_RIARGGROUPNO, G3E_UNIQUE, G3E_COMPRELATIVEANO, G3E_FUNCTIONALVALIDATION, G3E_ROLE, G3E_FKQRINO, G3E_FKQARGGROUPNO, G3E_DESCRIPTION)
INSERT INTO G3E_ATTRIBUTE VALUES(2120101, 21201, NULL, 'OSM_ID', 'ID Open Street Maps', NULL, NULL, NULL, NULL, 0,
NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 0, 0, 10, NULL, NULL, 0, SYSDATE,  NULL, NULL, NULL, 0, 0, 1,
NULL, NULL, NULL, 0, NULL, 1, 'EVERYONE', NULL, NULL, NULL);
COMMIT;

INSERT INTO G3E_ATTRIBUTE VALUES(2120102, 21201, NULL, 'NAME_WATERWAYS', 'Name', NULL, NULL, NULL, NULL, 0,
NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 0, 0, 10, NULL, NULL, 0, SYSDATE,  NULL, NULL, NULL, 0, 0, 1,
NULL, NULL, NULL, 0, NULL, 1, 'EVERYONE', NULL, NULL, NULL);
COMMIT;

INSERT INTO G3E_ATTRIBUTE VALUES(2120103, 21201, NULL, 'WIDTH_WATERWAYS', 'Width', 'General Number', NULL, NULL, NULL, 0,
NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 0, 0, 4, NULL, NULL, 0, SYSDATE,  NULL, NULL, NULL, 0, 0, 1,
NULL, NULL, NULL, 0, NULL, 1, 'EVERYONE', NULL, NULL, NULL);
COMMIT;

--PASSO 5
--CRIAR ATRIBUTOS
--insert into g3e_attribute (G3E_ANO, G3E_CNO, G3E_VNO, G3E_FIELD, G3E_USERNAME, G3E_FORMAT, G3E_PRECISION, G3E_DOMAINTABLE, G3E_DOMAINFIELD, G3E_REQUIRED, G3E_FINO, G3E_FUNCTIONALORDINAL, G3E_FUNCTIONALTYPE, G3E_INTERFACEARGUMENT, G3E_TOOLTIP, G3E_FOREIGNKEYTABLE, G3E_FOREIGNKEYFIELD, G3E_HYPERTEXT, G3E_PNO, G3E_COPY, G3E_EXCLUDEFROMEDIT, G3E_DATATYPE, G3E_ADDITIONALREFFIELDS, G3E_IMPORTFIELD, G3E_EXCLUDEFROMREPLACE, G3E_EDITDATE, G3E_WIDTHINTWIPS, G3E_CATALOGCOPYVALUE, G3E_LOCALECOMMENT, G3E_BREAKCOPY, G3E_COPYATTRIBUTE, G3E_WRAPTEXT, G3E_MERGEEXPRESSION, G3E_RINO, G3E_RIARGGROUPNO, G3E_UNIQUE, G3E_COMPRELATIVEANO, G3E_FUNCTIONALVALIDATION, G3E_ROLE, G3E_FKQRINO, G3E_FKQARGGROUPNO, G3E_DESCRIPTION)
INSERT INTO G3E_ATTRIBUTE VALUES(2121001, 21210, NULL, 'G3E_ID', 'LTT ID GComms', 'General Number', NULL, NULL, NULL, 0,
NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 0, 0, 4, NULL, NULL, 0, SYSDATE,  NULL, NULL, NULL, 0, 0, 1,
NULL, NULL, NULL, 0, NULL, 1, 'EVERYONE', NULL, NULL, NULL);
COMMIT;

INSERT INTO G3E_ATTRIBUTE VALUES(2121002, 21210, NULL, 'G3E_FNO', 'Número da Entidade GComms', 'General Number', NULL, NULL, NULL, 0,
NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 0, 0, 4, NULL, NULL, 0, SYSDATE,  NULL, NULL, NULL, 0, 0, 1,
NULL, NULL, NULL, 0, NULL, 1, 'EVERYONE', NULL, NULL, NULL);
COMMIT;

INSERT INTO G3E_ATTRIBUTE VALUES(2121003, 21210, NULL, 'G3E_CNO', ' Número do Componente GComms', 'General Number', NULL, NULL, NULL, 0,
NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 0, 0, 4, NULL, NULL, 0, SYSDATE,  NULL, NULL, NULL, 0, 0, 1,
NULL, NULL, NULL, 0, NULL, 1, 'EVERYONE', NULL, NULL, NULL);
COMMIT;

INSERT INTO G3E_ATTRIBUTE VALUES(2121004, 21210, NULL, 'G3E_FID', 'ID da Entidade GComms', 'General Number', NULL, NULL, NULL, 0,
NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 0, 0, 4, NULL, NULL, 0, SYSDATE,  NULL, NULL, NULL, 0, 0, 1,
NULL, NULL, NULL, 0, NULL, 1, 'EVERYONE', NULL, NULL, NULL);
COMMIT;

INSERT INTO G3E_ATTRIBUTE VALUES(2121005, 21210, NULL, 'G3E_CID', 'ID do Componente GComms', 'General Number', NULL, NULL, NULL, 0,
NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 0, 0, 4, NULL, NULL, 0, SYSDATE,  NULL, NULL, NULL, 0, 0, 1,
NULL, NULL, NULL, 0, NULL, 1, 'EVERYONE', NULL, NULL, NULL);
COMMIT;

INSERT INTO G3E_ATTRIBUTE VALUES(2121006, 21210, NULL, 'G3E_GEOMETRY', 'Geometria GComms', '', NULL, NULL, NULL, 0,
NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 0, 0, 32, NULL, NULL, 0, SYSDATE,  NULL, NULL, NULL, 1, 0, 1,
NULL, NULL, NULL, 0, NULL, 1, 'EVERYONE', NULL, NULL, NULL);
COMMIT;

INSERT INTO G3E_ATTRIBUTE VALUES(2121007, 21210, NULL, 'TYPE_WATERWAYS', 'Type', NULL, NULL, NULL, NULL, 0,
NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 0, 0, 10, NULL, NULL, 0, SYSDATE,  NULL, NULL, NULL, 0, 0, 1,
NULL, NULL, NULL, 0, NULL, 1, 'EVERYONE', NULL, NULL, NULL);
COMMIT;

--PASSO 6
execute MG3ElanguageSubTableUtils.SynchronizeSubTables;
COMMIT;
execute MG3EOTCreateOptimizedTables;
COMMIT;
execute MG3ECreateOptableViews;
COMMIT;

--PASSO 7
execute G3EOneTable.InstallOneTable('GC_WATERWAYS');
COMMIT;
execute G3EOneTable.InstallOneTable('GC_WATERWAYS_L');
COMMIT;

--PASSO 8
execute LTT_Role.Create_Public_Synonym;
COMMIT;
execute LTT_Role.Create_Component_View_Synonym;
COMMIT;
execute LTT_Role.Grant_Privs_To_Role;
COMMIT;

--DE AGORA EM DIANTE SEGUE FORA DO ROTEIRO, QUE INCLUI CRIAR REGRAS DE ESTILO, INSERIR NA LEGENDA E ETC...
--1 CRIAR REGRA DE ESTILOS
--INSERIR NA G3E_LINESTYLE
--LINHA DA RAILWAY
insert into G3E_LINESTYLE (G3E_SNO, G3E_USERNAME, G3E_COLOR, G3E_WIDTH, G3E_OFFSET, G3E_STARTSYMBOL, G3E_ENDSYMBOL, G3E_STROKEPATTERN, G3E_PLOTREDLINE, G3E_EDITDATE, G3E_STYLEUNITS, G3E_TRANSLUCENCY)
values (212000011, 'Line Waterways', 16744448, 1, 0, null, null, 100, 1, SYSDATE, 1, null);
COMMIT;

--INSERIR NA G3E_STYLERULE
insert into g3e_stylerule (G3E_SRROWNO, G3E_SRNO, G3E_RULE, G3E_FILTER, G3E_FILTERORDINAL, G3E_SNO, G3E_EDITDATE, G3E_DESCRIPTION, G3E_LOCALECOMMENT)
values (212000001, 2120001, 'Line Waterways', null, 99, 212000011, SYSDATE, 'Line Waterways', null);
COMMIT;


--2 INSERIR NA LEGENDENTRY
-- insert into g3e_legendentry (G3E_LENO, G3E_LEGENDENTRY, G3E_USERNAME, G3E_VNO, G3E_SRNO, G3E_LRNO, G3E_EDITDATE, G3E_ROLE, G3E_LAYERNAME, G3E_LOCALECOMMENT, G3E_TRANSLUCENCY, G3E_FILLTRANSLUCENCY)
INSERT INTO G3E_LEGENDENTRY VALUES(21210, 'VGC_WATERWAYS_L', 'Line Waterways', 21210, 2120001, NULL, SYSDATE, 'EVERYONE', NULL, NULL, NULL, NULL);
COMMIT;

--Referenciando a G3E_leno na componentview
UPDATE G3E_COMPONENTVIEWDEFINITION SET G3E_LENO = 21210 WHERE G3E_VNO = 21210;
COMMIT;


--3 INSERIR NO CONTROLE DE EXIBIÇÃO DE LEGENDA
INSERT INTO G3E_LEGGEO_DEFDSP VALUES('Waterways', 'Waterways', 2, (select max(g3e_ordinal) + 1 from G3E_LEGGEO_DEFDSP), 0, sysdate, (select max(g3e_dcrowno) + 1 from G3E_LEGGEO_DEFDSP), NULL, NULL);
COMMIT;

--3 INSERIR NO CONTROLE DE EXIBIÇÃO DE LEGENDA
INSERT INTO G3E_LEGGEO_DEFDSP VALUES('VGC_WATERWAYS_L', 'Line Waterways', 3, (select max(g3e_ordinal) + 1 from G3E_LEGGEO_DEFDSP), 1, sysdate, (select max(g3e_dcrowno) + 1 from G3E_LEGGEO_DEFDSP), NULL, NULL);
COMMIT;

--4 INSERIR NA LEGENDA
INSERT INTO G3E_LEGGEO_DEFAULT VALUES(21210, NULL, 19, SYSDATE);
COMMIT;
--UPDATE NA G3E_LEGGEO_DEFAU
UPDATE G3E_LEGGEO_DEFAU SET G3E_DISPLAYSCALEMIN = 1, G3E_DISPLAYSCALEMAX = 40000 WHERE G3E_LENO = 21210;
COMMIT;

--5 INSERIR NA INSERÇÃO DE FEATURE

INSERT INTO G3E_PLACEMENTSELECTION VALUES(NULL, 21200, 'Waterways', 2, (select max(g3e_ordinal) + 1 from g3e_placementselection), sysdate, (select max(g3e_psrowno) + 1 from G3E_PLACEMENTSELECTION), NULL, (select max(g3e_iconordinal) + 1 from G3E_PLACEMENTSELECTION), 'EVERYONE');
COMMIT;

--6 INSERIR DIALOGSTAB
INSERT INTO G3E_DIALOGTAB VALUES (2120001, 'Waterways', 'V', SYSDATE, NULL ,NULL, NULL, NULL);
INSERT INTO G3E_DIALOGTAB VALUES (2120002, 'Waterways', 'V', SYSDATE, NULL ,NULL, NULL, NULL);
INSERT INTO G3E_DIALOGTAB VALUES (2120003, 'Waterways', 'V', SYSDATE, NULL ,NULL, NULL, NULL);
COMMIT;

--7 INSERIR DIALOG
INSERT INTO G3E_DIALOG VALUES(2120001, 21201, 'Placement', 21200, 1, null, 2120001, sysdate);
commit;
INSERT INTO G3E_DIALOG VALUES(2120002, 21202, 'Edit', 21200, 2, null, 2120002, sysdate);
commit;
INSERT INTO G3E_DIALOG VALUES(2120003, 21203, 'Review', 21200, 3, null, 2120003, sysdate);
commit;

--8 INSERIR TABATTRIBUTES
--PLACEMENT
-- insert into g3e_tabattribute (G3E_TANO, G3E_ANO, G3E_ORDINAL, G3E_PNO, G3E_READONLY, G3E_DEFAULT, G3E_REFRESH, G3E_DTNO, G3E_FIELDVALUEFILTER, G3E_TRAVERSALANO, G3E_EDITDATE, G3E_TRIGGERPOPULATE, G3E_USEFILTERTOTRANSLATEKEY, G3E_FKQRINO, G3E_FKQARGGROUPNO)
insert into g3e_tabattribute values(212000101, 2120101, 1, NULL, 0, null, 1, 2120001, null, null, sysdate, 1, 0, null, null);
commit;

insert into g3e_tabattribute values(212000102, 2120102, 2, NULL, 0, null, 1, 2120001, null, null, sysdate, 1, 0, null, null);
commit;

insert into g3e_tabattribute values(212000103, 2121007, 3, NULL, 0, null, 1, 2120001, null, null, sysdate, 1, 0, null, null);
commit;

insert into g3e_tabattribute values(212000104, 2120103, 4, NULL, 0, null, 1, 2120001, null, null, sysdate, 1, 0, null, null);
commit;

--EDIT
insert into g3e_tabattribute values(212000201, 2120101, 1, NULL, 0, null, 1, 2120002, null, null, sysdate, 1, 0, null, null);
commit;

insert into g3e_tabattribute values(212000202, 2120102, 2, NULL, 0, null, 1, 2120002, null, null, sysdate, 1, 0, null, null);
commit;

insert into g3e_tabattribute values(212000203, 2121007, 3, NULL, 0, null, 1, 2120002, null, null, sysdate, 1, 0, null, null);
commit;

insert into g3e_tabattribute values(212000204, 2120103, 4, NULL, 0, null, 1, 2120002, null, null, sysdate, 1, 0, null, null);
commit;

--REVIEW
insert into g3e_tabattribute values(212000301, 2120101, 1, null, 1, null, 1, 2120003, null, null, sysdate, 0, 0, null, null);
commit;

insert into g3e_tabattribute values(212000302, 2120102, 2, null, 1, null, 1, 2120003, null, null, sysdate, 0, 0, null, null);
commit;

insert into g3e_tabattribute values(212000303, 2121007, 3, null, 1, null, 1, 2120003, null, null, sysdate, 0, 0, null, null);
commit;

insert into g3e_tabattribute values(212000304, 2120103, 4, null, 1, null, 1, 2120003, null, null, sysdate, 0, 0, null, null);
commit;

--FIND
INSERT INTO G3E_FIND VALUES(G3E_FIND_SEQ.NEXTVAL, 21200, 21201, 2120102, 21210, 2121007, SYSDATE, 'EVERYONE');
INSERT INTO G3E_FIND VALUES(G3E_FIND_SEQ.NEXTVAL, 21200, 21201, 8012389, null, null, SYSDATE, 'EVERYONE');
COMMIT;


------------------------------------------------------------------------------------------------------------------------------------------------------------
-------------------------------------------------------------------PLACES-----------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------------------------------------------------------------

create table GC_PLACES (
G3E_ID NUMBER(10,0),
G3E_FNO NUMBER(5,0),
G3E_CNO NUMBER(5,0),
G3E_FID NUMBER(10,0),
G3E_CID NUMBER(10,0),
OSM_ID VARCHAR2(11),
NAME_PLACES VARCHAR2(100),
POPULATION_PLACES NUMBER(10)
)
/

--Passo 1
--Criar Tabela de Componente Gráfico para a entidade Places
create table GC_PLACES_S (
G3E_ID NUMBER(10,0),
G3E_FNO NUMBER(5,0),
G3E_CNO NUMBER(5,0),
G3E_FID NUMBER(10,0),
G3E_CID NUMBER(10,0),
G3E_GEOMETRY SDO_GEOMETRY
)
/

--insert into g3e_component (G3E_CNO, G3E_USERNAME, G3E_NAME, G3E_TOOLTIP, G3E_TYPE, G3E_GEOMETRYTYPE, G3E_TABLE, G3E_DETAIL, G3E_ALIGNMENTFIELD, G3E_DCNO, G3E_DTNO, G3E_GEOMETRYFIELD, G3E_SUBSETATTRIBUTE, G3E_EDITDATE, G3E_SUBTYPE, G3E_LOCALECOMMENT, G3E_LRNO, G3E_PARTITIONATTRIBUTE, G3E_LTT)
INSERT INTO G3E_COMPONENT VALUES (21301, 'Places', 'GC_PLACES','Places', 1, NULL, 'GC_PLACES', 0, NULL, 31, NULL, NULL, NULL, SYSDATE, NULL, NULL, NULL, NULL, 0);
COMMIT;

--PASSO 2
--INSERIR NA TABELA DE COMPONENTES
--RELACIONADO AO COMPONENTE GRÁFICO
-- insert into g3e_component (G3E_CNO, G3E_USERNAME, G3E_NAME, G3E_TOOLTIP, G3E_TYPE, G3E_GEOMETRYTYPE, G3E_TABLE, G3E_DETAIL, G3E_ALIGNMENTFIELD, G3E_DCNO, G3E_DTNO, G3E_GEOMETRYFIELD, G3E_SUBSETATTRIBUTE, G3E_EDITDATE, G3E_SUBTYPE, G3E_LOCALECOMMENT, G3E_LRNO, G3E_PARTITIONATTRIBUTE, G3E_LTT)
INSERT INTO G3E_COMPONENT VALUES (21310, 'Places Symbol', 'GC_PLACES_S','Places Symbol', 16, 'OrientedPointGeometry', 'GC_PLACES_S', 0, NULL, 31, NULL, 'G3E_GEOMETRY', NULL, SYSDATE, NULL, NULL, NULL, NULL, 0);
COMMIT;

--PASSO 3
--RELACIONAR O COMPONENTE COM UMA FEATURE
--insert into g3e_feature (G3E_FNO, G3E_USERNAME, G3E_TOOLTIP, G3E_PRIMARYGEOGRAPHICCNO, G3E_PRIMARYATTRIBUTECNO, G3E_DCNO, G3E_PRIMARYDETAILCNO, G3E_NUMBEROFNODES, G3E_IMPORTFEATURENAME, G3E_REPLACE, G3E_NAME, G3E_EDITDATE, G3E_LOCALECOMMENT, G3E_MERGE, G3E_CLASSIFICATIONANO, G3E_IDENTIFIERVIEW, G3E_BULKEDIT, G3E_ICONORDINAL, G3E_EDITROLE, G3E_SELECTROLE, G3E_DELETEROLE, G3E_RINO, G3E_RIARGGROUPNO, G3E_PRIMARYSCHEMCNO, G3E_SECONDARYSCHEMCNO, G3E_LABELSCHEMCNO)
INSERT INTO G3E_FEATURE VALUES (21300, 'Places', 'Places', 21310, 21301, 31, null, null, null, 0, null, sysdate, null, 1, null, null, 0, null, 'EVERYONE', 'EVERYONE', 'EVERYONE', NULL, NULL, NULL, NULL, NULL, 'EVERYONE');
COMMIT;

INSERT INTO G3E_FEATURECOMPONENT VALUES(21301, 21300, 21301, 1, 0, 0, 7, 1, NULL, NULL, 1, 1, 0, NULL, 1, SYSDATE, 1, 3, 4, 3, 1, NULL, 0, 0, NULL, NULL, 1, NULL, NULL, NULL, 1,  NULL, NULL, NULL, 0, NULL);
COMMIT;

--RELACIONADO AO COMPONENTE GRÁFICO
--insert into g3e_featurecomponent (G3E_FCNO, G3E_FNO, G3E_CNO, G3E_REQUIRED, G3E_REPEATING, G3E_AUTOREPEAT, G3E_PINO, G3E_ORDINAL, G3E_INTERFACEARGUMENT, G3E_DERIVEDFROMCNO, G3E_INSERTORDINAL, G3E_DELETEORDINAL, G3E_REFRESH, G3E_ALTERNATEREQUIREDCNO, G3E_REPLACE, G3E_EDITDATE, G3E_BREAKACTION, G3E_COMPONENTELIMINATION, G3E_COMPONENTASSIGNMENT, G3E_COMPONENTADJUSTMENT, G3E_GEOPROXIMITYTOLERANCE, G3E_BREAKLINEARCNO, G3E_ALTERNATEGEOGRAPHIC, G3E_ALTERNATEGEOORDINAL, G3E_RINO, G3E_RIARGGROUPNO, G3E_INCLUDEINPLACEMENT, G3E_MERGEMAXDISTANCE, G3E_MERGECOMMONPRECOND, G3E_MERGEPRECOND, G3E_MERGEOCCURRENCES, G3E_MERGERINO, G3E_MERGERIARGGROUPNO, G3E_CCNO, G3E_GENERATE, G3E_DETAILPLACEMENTCNO)
INSERT INTO G3E_FEATURECOMPONENT VALUES(21310, 21300, 21310, 1, 0, 0, 7, 2, NULL, NULL, 2, 2, 0, NULL, 1, SYSDATE, 1, 2, 2, 1, 1, NULL, 0, 0, NULL, NULL, 1, NULL, NULL, NULL, 1,  NULL, NULL, NULL, 0, NULL);
COMMIT;

--PASSO 4A
--CRIAR VIEWS DE COMPONENTE
CREATE OR REPLACE VIEW VGC_PLACES_S AS
SELECT A.G3E_ID, A.G3E_FNO, A.G3E_CNO, A.G3E_FID, A.G3E_CID, G3E_GEOMETRY FROM GC_PLACES_S A
/

--PASSO 4B
--CRIAR DEFINIÇÕES DA VIEW
--INSERIR SEM G3E_LENO (1o NULL)
INSERT INTO G3E_COMPONENTVIEWDEFINITION VALUES(21310, 'VGC_PLACES_S', 21300, 21310, NULL, NULL, SYSDATE, 0);
COMMIT;

INSERT INTO G3E_COMPONENTVIEWCOMPOSITION VALUES(213010, 21310, 21310, NULL, SYSDATE, 21300);
COMMIT;

--insert into g3e_attribute (G3E_ANO, G3E_CNO, G3E_VNO, G3E_FIELD, G3E_USERNAME, G3E_FORMAT, G3E_PRECISION, G3E_DOMAINTABLE, G3E_DOMAINFIELD, G3E_REQUIRED, G3E_FINO, G3E_FUNCTIONALORDINAL, G3E_FUNCTIONALTYPE, G3E_INTERFACEARGUMENT, G3E_TOOLTIP, G3E_FOREIGNKEYTABLE, G3E_FOREIGNKEYFIELD, G3E_HYPERTEXT, G3E_PNO, G3E_COPY, G3E_EXCLUDEFROMEDIT, G3E_DATATYPE, G3E_ADDITIONALREFFIELDS, G3E_IMPORTFIELD, G3E_EXCLUDEFROMREPLACE, G3E_EDITDATE, G3E_WIDTHINTWIPS, G3E_CATALOGCOPYVALUE, G3E_LOCALECOMMENT, G3E_BREAKCOPY, G3E_COPYATTRIBUTE, G3E_WRAPTEXT, G3E_MERGEEXPRESSION, G3E_RINO, G3E_RIARGGROUPNO, G3E_UNIQUE, G3E_COMPRELATIVEANO, G3E_FUNCTIONALVALIDATION, G3E_ROLE, G3E_FKQRINO, G3E_FKQARGGROUPNO, G3E_DESCRIPTION)
INSERT INTO G3E_ATTRIBUTE VALUES(2130101, 21301, NULL, 'OSM_ID', 'ID Open Street Maps', NULL, NULL, NULL, NULL, 0,
NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 0, 0, 10, NULL, NULL, 0, SYSDATE,  NULL, NULL, NULL, 0, 0, 1,
NULL, NULL, NULL, 0, NULL, 1, 'EVERYONE', NULL, NULL, NULL);
COMMIT;

INSERT INTO G3E_ATTRIBUTE VALUES(2130102, 21301, NULL, 'NAME_PLACES', 'Name', NULL, NULL, NULL, NULL, 0,
NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 0, 0, 10, NULL, NULL, 0, SYSDATE,  NULL, NULL, NULL, 0, 0, 1,
NULL, NULL, NULL, 0, NULL, 1, 'EVERYONE', NULL, NULL, NULL);
COMMIT;

INSERT INTO G3E_ATTRIBUTE VALUES(2130103, 21301, NULL, 'POPULATION_PLACES', 'Population', 'General Number', NULL, NULL, NULL, 0,
NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 0, 0, 4, NULL, NULL, 0, SYSDATE,  NULL, NULL, NULL, 0, 0, 1,
NULL, NULL, NULL, 0, NULL, 1, 'EVERYONE', NULL, NULL, NULL);
COMMIT;

--PASSO 5
--CRIAR ATRIBUTOS
--insert into g3e_attribute (G3E_ANO, G3E_CNO, G3E_VNO, G3E_FIELD, G3E_USERNAME, G3E_FORMAT, G3E_PRECISION, G3E_DOMAINTABLE, G3E_DOMAINFIELD, G3E_REQUIRED, G3E_FINO, G3E_FUNCTIONALORDINAL, G3E_FUNCTIONALTYPE, G3E_INTERFACEARGUMENT, G3E_TOOLTIP, G3E_FOREIGNKEYTABLE, G3E_FOREIGNKEYFIELD, G3E_HYPERTEXT, G3E_PNO, G3E_COPY, G3E_EXCLUDEFROMEDIT, G3E_DATATYPE, G3E_ADDITIONALREFFIELDS, G3E_IMPORTFIELD, G3E_EXCLUDEFROMREPLACE, G3E_EDITDATE, G3E_WIDTHINTWIPS, G3E_CATALOGCOPYVALUE, G3E_LOCALECOMMENT, G3E_BREAKCOPY, G3E_COPYATTRIBUTE, G3E_WRAPTEXT, G3E_MERGEEXPRESSION, G3E_RINO, G3E_RIARGGROUPNO, G3E_UNIQUE, G3E_COMPRELATIVEANO, G3E_FUNCTIONALVALIDATION, G3E_ROLE, G3E_FKQRINO, G3E_FKQARGGROUPNO, G3E_DESCRIPTION)
INSERT INTO G3E_ATTRIBUTE VALUES(2131001, 21310, NULL, 'G3E_ID', 'LTT ID GComms', 'General Number', NULL, NULL, NULL, 0,
NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 0, 0, 4, NULL, NULL, 0, SYSDATE,  NULL, NULL, NULL, 0, 0, 1,
NULL, NULL, NULL, 0, NULL, 1, 'EVERYONE', NULL, NULL, NULL);
COMMIT;

INSERT INTO G3E_ATTRIBUTE VALUES(2131002, 21310, NULL, 'G3E_FNO', 'Número da Entidade GComms', 'General Number', NULL, NULL, NULL, 0,
NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 0, 0, 4, NULL, NULL, 0, SYSDATE,  NULL, NULL, NULL, 0, 0, 1,
NULL, NULL, NULL, 0, NULL, 1, 'EVERYONE', NULL, NULL, NULL);
COMMIT;

INSERT INTO G3E_ATTRIBUTE VALUES(2131003, 21310, NULL, 'G3E_CNO', ' Número do Componente GComms', 'General Number', NULL, NULL, NULL, 0,
NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 0, 0, 4, NULL, NULL, 0, SYSDATE,  NULL, NULL, NULL, 0, 0, 1,
NULL, NULL, NULL, 0, NULL, 1, 'EVERYONE', NULL, NULL, NULL);
COMMIT;

INSERT INTO G3E_ATTRIBUTE VALUES(2131004, 21310, NULL, 'G3E_FID', 'ID da Entidade GComms', 'General Number', NULL, NULL, NULL, 0,
NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 0, 0, 4, NULL, NULL, 0, SYSDATE,  NULL, NULL, NULL, 0, 0, 1,
NULL, NULL, NULL, 0, NULL, 1, 'EVERYONE', NULL, NULL, NULL);
COMMIT;

INSERT INTO G3E_ATTRIBUTE VALUES(2131005, 21310, NULL, 'G3E_CID', 'ID do Componente GComms', 'General Number', NULL, NULL, NULL, 0,
NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 0, 0, 4, NULL, NULL, 0, SYSDATE,  NULL, NULL, NULL, 0, 0, 1,
NULL, NULL, NULL, 0, NULL, 1, 'EVERYONE', NULL, NULL, NULL);
COMMIT;

INSERT INTO G3E_ATTRIBUTE VALUES(2131006, 21310, NULL, 'G3E_GEOMETRY', 'Geometria GComms', '', NULL, NULL, NULL, 0,
NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 0, 0, 32, NULL, NULL, 0, SYSDATE,  NULL, NULL, NULL, 1, 0, 1,
NULL, NULL, NULL, 0, NULL, 1, 'EVERYONE', NULL, NULL, NULL);
COMMIT;


--PASSO 6
execute MG3ElanguageSubTableUtils.SynchronizeSubTables;
COMMIT;
execute MG3EOTCreateOptimizedTables;
COMMIT;
execute MG3ECreateOptableViews;
COMMIT;

--PASSO 7
execute G3EOneTable.InstallOneTable('GC_PLACES');
COMMIT;
execute G3EOneTable.InstallOneTable('GC_PLACES_S');
COMMIT;

--PASSO 8
execute LTT_Role.Create_Public_Synonym;
COMMIT;
execute LTT_Role.Create_Component_View_Synonym;
COMMIT;
execute LTT_Role.Grant_Privs_To_Role;
COMMIT;

--DE AGORA EM DIANTE SEGUE FORA DO ROTEIRO, QUE INCLUI CRIAR REGRAS DE ESTILO, INSERIR NA LEGENDA E ETC...
--1 CRIAR REGRA DE ESTILOS
--INSERIR NA G3E_POINTSTYLE
--LINHA DA RAILWAY
insert into G3E_POINTSTYLE
values (213000011, 'Symbol Places', 16744448, 'G_ASRCE', 'B', 'E', 27, 1, 8, 1, SYSDATE, NULL, 1, 0, NULL, NULL);
COMMIT;

--INSERIR NA G3E_STYLERULE
insert into g3e_stylerule (G3E_SRROWNO, G3E_SRNO, G3E_RULE, G3E_FILTER, G3E_FILTERORDINAL, G3E_SNO, G3E_EDITDATE, G3E_DESCRIPTION, G3E_LOCALECOMMENT)
values (213000001, 2130001, 'Symbol Places', null, 99, 213000011, SYSDATE, 'Symbol Places', null);
COMMIT;


--2 INSERIR NA LEGENDENTRY
-- insert into g3e_legendentry (G3E_LENO, G3E_LEGENDENTRY, G3E_USERNAME, G3E_VNO, G3E_SRNO, G3E_LRNO, G3E_EDITDATE, G3E_ROLE, G3E_LAYERNAME, G3E_LOCALECOMMENT, G3E_TRANSLUCENCY, G3E_FILLTRANSLUCENCY)
INSERT INTO G3E_LEGENDENTRY VALUES(21310, 'VGC_PLACES_S', 'Symbol Places', 21310, 2130001, NULL, SYSDATE, 'EVERYONE', NULL, NULL, NULL, NULL);
COMMIT;

--Referenciando a G3E_leno na componentview
UPDATE G3E_COMPONENTVIEWDEFINITION SET G3E_LENO = 21310 WHERE G3E_VNO = 21310;
COMMIT;


--3 INSERIR NO CONTROLE DE EXIBIÇÃO DE LEGENDA
INSERT INTO G3E_LEGGEO_DEFDSP VALUES('Places', 'Places', 2, (select max(g3e_ordinal) + 1 from G3E_LEGGEO_DEFDSP), 0, sysdate, (select max(g3e_dcrowno) + 1 from G3E_LEGGEO_DEFDSP), NULL, NULL);
COMMIT;

--3 INSERIR NO CONTROLE DE EXIBIÇÃO DE LEGENDA
INSERT INTO G3E_LEGGEO_DEFDSP VALUES('VGC_PLACES_S', 'Symbol Places', 3, (select max(g3e_ordinal) + 1 from G3E_LEGGEO_DEFDSP), 1, sysdate, (select max(g3e_dcrowno) + 1 from G3E_LEGGEO_DEFDSP), NULL, NULL);
COMMIT;

--4 INSERIR NA LEGENDA
INSERT INTO G3E_LEGGEO_DEFAULT VALUES(21310, NULL, 19, SYSDATE);
COMMIT;
--UPDATE NA G3E_LEGGEO_DEFAU
UPDATE G3E_LEGGEO_DEFAU SET G3E_DISPLAYSCALEMIN = 1, G3E_DISPLAYSCALEMAX = 40000 WHERE G3E_LENO = 21310;
COMMIT;

INSERT INTO G3E_PLACEMENTSELECTION VALUES(NULL, 21300, 'Places', 2, (select max(g3e_ordinal) + 1 from g3e_placementselection), sysdate, (select max(g3e_psrowno) + 1 from G3E_PLACEMENTSELECTION), NULL, (select max(g3e_iconordinal) + 1 from G3E_PLACEMENTSELECTION), 'EVERYONE');
COMMIT;

--6 INSERIR DIALOGSTAB
INSERT INTO G3E_DIALOGTAB VALUES (2130001, 'Places', 'V', SYSDATE, NULL ,NULL, NULL, NULL);
INSERT INTO G3E_DIALOGTAB VALUES (2130002, 'Places', 'V', SYSDATE, NULL ,NULL, NULL, NULL);
INSERT INTO G3E_DIALOGTAB VALUES (2130003, 'Places', 'V', SYSDATE, NULL ,NULL, NULL, NULL);
COMMIT;

--7 INSERIR DIALOG
INSERT INTO G3E_DIALOG VALUES(2130001, 21301, 'Placement', 21300, 1, null, 2130001, sysdate);
commit;
INSERT INTO G3E_DIALOG VALUES(2130002, 21302, 'Edit', 21300, 2, null, 2130002, sysdate);
commit;
INSERT INTO G3E_DIALOG VALUES(2130003, 21303, 'Review', 21300, 3, null, 2130003, sysdate);
commit;

--8 INSERIR TABATTRIBUTES
--PLACEMENT
-- insert into g3e_tabattribute (G3E_TANO, G3E_ANO, G3E_ORDINAL, G3E_PNO, G3E_READONLY, G3E_DEFAULT, G3E_REFRESH, G3E_DTNO, G3E_FIELDVALUEFILTER, G3E_TRAVERSALANO, G3E_EDITDATE, G3E_TRIGGERPOPULATE, G3E_USEFILTERTOTRANSLATEKEY, G3E_FKQRINO, G3E_FKQARGGROUPNO)
insert into g3e_tabattribute values(213000101, 2130101, 1, NULL, 0, null, 1, 2130001, null, null, sysdate, 1, 0, null, null);
commit;

insert into g3e_tabattribute values(213000102, 2130102, 2, NULL, 0, null, 1, 2130001, null, null, sysdate, 1, 0, null, null);
commit;


insert into g3e_tabattribute values(213000104, 2130103, 4, NULL, 0, null, 1, 2130001, null, null, sysdate, 1, 0, null, null);
commit;

--EDIT
insert into g3e_tabattribute values(213000201, 2130101, 1, NULL, 0, null, 1, 2130002, null, null, sysdate, 1, 0, null, null);
commit;

insert into g3e_tabattribute values(213000202, 2130102, 2, NULL, 0, null, 1, 2130002, null, null, sysdate, 1, 0, null, null);
commit;

insert into g3e_tabattribute values(213000204, 2130103, 4, NULL, 0, null, 1, 2130002, null, null, sysdate, 1, 0, null, null);
commit;

--REVIEW
insert into g3e_tabattribute values(213000301, 2130101, 1, null, 1, null, 1, 2130003, null, null, sysdate, 0, 0, null, null);
commit;

insert into g3e_tabattribute values(213000302, 2130102, 2, null, 1, null, 1, 2130003, null, null, sysdate, 0, 0, null, null);
commit;

insert into g3e_tabattribute values(213000304, 2130103, 4, null, 1, null, 1, 2130003, null, null, sysdate, 0, 0, null, null);
commit;



create table GC_PLACES_T (
G3E_ID NUMBER(10,0),
G3E_FNO NUMBER(5,0),
G3E_CNO NUMBER(5,0),
G3E_FID NUMBER(10,0),
G3E_CID NUMBER(10,0),
G3E_GEOMETRY SDO_GEOMETRY,
G3E_ALIGNMENT NUMBER(5,0),
SEQ NUMBER(10,0),
TYPE_PLACES VARCHAR2(50)
)
/

--insert into g3e_component (G3E_CNO, G3E_USERNAME, G3E_NAME, G3E_TOOLTIP, G3E_TYPE, G3E_GEOMETRYTYPE, G3E_TABLE, G3E_DETAIL, G3E_ALIGNMENTFIELD, G3E_DCNO, G3E_DTNO, G3E_GEOMETRYFIELD, G3E_SUBSETATTRIBUTE, G3E_EDITDATE, G3E_SUBTYPE, G3E_LOCALECOMMENT, G3E_LRNO, G3E_PARTITIONATTRIBUTE, G3E_LTT)
INSERT INTO G3E_COMPONENT VALUES (21330, 'Places Text', 'GC_PLACES_T','Places Text', 1024, 'TextPointGeometry', 'GC_PLACES_T', 0, 'G3E_ALIGNMENT', 31, NULL, 'G3E_GEOMETRY', NULL, SYSDATE, NULL, NULL, NULL, NULL, 0);
COMMIT;

insert into g3e_featurecomponent (G3E_FCNO, G3E_FNO, G3E_CNO, G3E_REQUIRED, G3E_REPEATING, G3E_AUTOREPEAT, G3E_PINO, G3E_ORDINAL, G3E_INTERFACEARGUMENT, G3E_DERIVEDFROMCNO, G3E_INSERTORDINAL, G3E_DELETEORDINAL, G3E_REFRESH, G3E_ALTERNATEREQUIREDCNO, G3E_REPLACE, G3E_EDITDATE, G3E_BREAKACTION, G3E_COMPONENTELIMINATION, G3E_COMPONENTASSIGNMENT, G3E_COMPONENTADJUSTMENT, G3E_GEOPROXIMITYTOLERANCE, G3E_BREAKLINEARCNO, G3E_ALTERNATEGEOGRAPHIC, G3E_ALTERNATEGEOORDINAL, G3E_RINO, G3E_RIARGGROUPNO, G3E_INCLUDEINPLACEMENT, G3E_MERGEMAXDISTANCE, G3E_MERGECOMMONPRECOND, G3E_MERGEPRECOND, G3E_MERGEOCCURRENCES, G3E_MERGERINO, G3E_MERGERIARGGROUPNO, G3E_CCNO, G3E_GENERATE, G3E_DETAILPLACEMENTCNO)
values (21330, 21300, 21330, 0, 1, 0, 7, 3, '0C20010000001000000001000000010000000C2001000000100000000000000004000000080000000000030000002600480034000800000000000000000008000000000000000000080000000000000000000800000000000E00000037003000300030002F0031002F0037003000310030002F002D0032000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000', null, 3, 3, 1, null, 1, sysdate, 1, 2, 1, 1, 1, null, 0, 0, null, null, 1, null, null, null, 1, null, null, null, 0, null);
commit;


--Criar Views do componente
CREATE OR REPLACE VIEW VGC_PLACES_T (g3e_id, g3e_fno, g3e_cno, g3e_fid, g3e_cid, g3e_geometry, g3e_alignment, seq, NAME_PLACES, TYPE_PLACES) AS 
SELECT A.G3E_ID, A.G3E_FNO, A.G3E_CNO, A.G3E_FID, A.G3E_CID, A.G3E_GEOMETRY, A.G3E_ALIGNMENT, A.SEQ, B.NAME_PLACES, A.TYPE_PLACES FROM GC_PLACES_T A, GC_PLACES B 
WHERE A.G3E_FID = B.G3E_FID
/

insert into g3e_componentviewdefinition (G3E_VNO, G3E_VIEW, G3E_FNO, G3E_CNO, G3E_LENO, G3E_FIELDS, G3E_EDITDATE, G3E_ATTRAFFECTSMEMBERSHIP)
values (21330, 'VGC_PLACES_T', 21300, 21330, null, null, sysdate, 0);
commit;

insert into g3e_componentviewcomposition (G3E_CVCNO, G3E_VNO, G3E_CNO, G3E_FIELDS, G3E_EDITDATE, G3E_FNO)
values (2133030, 21330, 21330, null, sysdate, 21300);
commit;

insert into g3e_componentviewcomposition (G3E_CVCNO, G3E_VNO, G3E_CNO, G3E_FIELDS, G3E_EDITDATE, G3E_FNO)
values (2133010, 21330, 21301, 'NAME_PLACES NAME_PLACES 21301', sysdate, 21300);
commit;


--Inserir na g3e_attribute
insert into g3e_attribute (G3E_ANO, G3E_CNO, G3E_VNO, G3E_FIELD, G3E_USERNAME, G3E_FORMAT, G3E_PRECISION, G3E_DOMAINTABLE, G3E_DOMAINFIELD, G3E_REQUIRED, G3E_FINO, G3E_FUNCTIONALORDINAL, G3E_FUNCTIONALTYPE, G3E_INTERFACEARGUMENT, G3E_TOOLTIP, G3E_FOREIGNKEYTABLE, G3E_FOREIGNKEYFIELD, G3E_HYPERTEXT, G3E_PNO, G3E_COPY, G3E_EXCLUDEFROMEDIT, G3E_DATATYPE, G3E_ADDITIONALREFFIELDS, G3E_IMPORTFIELD, G3E_EXCLUDEFROMREPLACE, G3E_EDITDATE, G3E_WIDTHINTWIPS, G3E_CATALOGCOPYVALUE, G3E_LOCALECOMMENT, G3E_BREAKCOPY, G3E_COPYATTRIBUTE, G3E_WRAPTEXT, G3E_MERGEEXPRESSION, G3E_RINO, G3E_RIARGGROUPNO, G3E_UNIQUE, G3E_COMPRELATIVEANO, G3E_FUNCTIONALVALIDATION, G3E_ROLE, G3E_FKQRINO, G3E_FKQARGGROUPNO, G3E_DESCRIPTION)
values (213331, 21330, null, 'SEQ', 'CID Linear Relacionado', 'General Number', null, null, null, 0, null, null, null, null, null, null, null, null, null, 0, 1, 4, null, null, 0, sysdate, null, null, null, 1, 0, 1, null, null, null, 0, 2001105, 1, 'EVERYONE', null, null, null);
commit;

insert into g3e_attribute (G3E_ANO, G3E_CNO, G3E_VNO, G3E_FIELD, G3E_USERNAME, G3E_FORMAT, G3E_PRECISION, G3E_DOMAINTABLE, G3E_DOMAINFIELD, G3E_REQUIRED, G3E_FINO, G3E_FUNCTIONALORDINAL, G3E_FUNCTIONALTYPE, G3E_INTERFACEARGUMENT, G3E_TOOLTIP, G3E_FOREIGNKEYTABLE, G3E_FOREIGNKEYFIELD, G3E_HYPERTEXT, G3E_PNO, G3E_COPY, G3E_EXCLUDEFROMEDIT, G3E_DATATYPE, G3E_ADDITIONALREFFIELDS, G3E_IMPORTFIELD, G3E_EXCLUDEFROMREPLACE, G3E_EDITDATE, G3E_WIDTHINTWIPS, G3E_CATALOGCOPYVALUE, G3E_LOCALECOMMENT, G3E_BREAKCOPY, G3E_COPYATTRIBUTE, G3E_WRAPTEXT, G3E_MERGEEXPRESSION, G3E_RINO, G3E_RIARGGROUPNO, G3E_UNIQUE, G3E_COMPRELATIVEANO, G3E_FUNCTIONALVALIDATION, G3E_ROLE, G3E_FKQRINO, G3E_FKQARGGROUPNO, G3E_DESCRIPTION)
values (213332, 21330, null, 'G3E_GEOMETRY', 'G3E_GEOMETRY', null, null, null, null, 1, 111, 1, 'Update', '0C20010000001000000001000000050000000800000000000400000037003000300030000800000000000400000037003000310030000800000000000600000037003000310030003000360008000000000006000000370030003300300030003100080000000000040000005400520055004500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000', null, null, null, null, null, 0, 1, 32, null, null, 0, sysdate, null, null, null, 1, 0, 1, null, null, null, 0, null, 1, 'EVERYONE', null, null, null);
commit;

insert into g3e_attribute (G3E_ANO, G3E_CNO, G3E_VNO, G3E_FIELD, G3E_USERNAME, G3E_FORMAT, G3E_PRECISION, G3E_DOMAINTABLE, G3E_DOMAINFIELD, G3E_REQUIRED, G3E_FINO, G3E_FUNCTIONALORDINAL, G3E_FUNCTIONALTYPE, G3E_INTERFACEARGUMENT, G3E_TOOLTIP, G3E_FOREIGNKEYTABLE, G3E_FOREIGNKEYFIELD, G3E_HYPERTEXT, G3E_PNO, G3E_COPY, G3E_EXCLUDEFROMEDIT, G3E_DATATYPE, G3E_ADDITIONALREFFIELDS, G3E_IMPORTFIELD, G3E_EXCLUDEFROMREPLACE, G3E_EDITDATE, G3E_WIDTHINTWIPS, G3E_CATALOGCOPYVALUE, G3E_LOCALECOMMENT, G3E_BREAKCOPY, G3E_COPYATTRIBUTE, G3E_WRAPTEXT, G3E_MERGEEXPRESSION, G3E_RINO, G3E_RIARGGROUPNO, G3E_UNIQUE, G3E_COMPRELATIVEANO, G3E_FUNCTIONALVALIDATION, G3E_ROLE, G3E_FKQRINO, G3E_FKQARGGROUPNO, G3E_DESCRIPTION)
values (213333, 21330, null, 'G3E_ALIGNMENT', 'Alinhamento', 'General Number', null, null, null, 0, null, null, null, null, null, null, null, null, null, 0, 1, 4, null, null, 0, sysdate, null, null, null, 0, 0, 1, null, null, null, 0, null, 1, 'EVERYONE', null, null, null);
commit;

insert into g3e_attribute (G3E_ANO, G3E_CNO, G3E_VNO, G3E_FIELD, G3E_USERNAME, G3E_FORMAT, G3E_PRECISION, G3E_DOMAINTABLE, G3E_DOMAINFIELD, G3E_REQUIRED, G3E_FINO, G3E_FUNCTIONALORDINAL, G3E_FUNCTIONALTYPE, G3E_INTERFACEARGUMENT, G3E_TOOLTIP, G3E_FOREIGNKEYTABLE, G3E_FOREIGNKEYFIELD, G3E_HYPERTEXT, G3E_PNO, G3E_COPY, G3E_EXCLUDEFROMEDIT, G3E_DATATYPE, G3E_ADDITIONALREFFIELDS, G3E_IMPORTFIELD, G3E_EXCLUDEFROMREPLACE, G3E_EDITDATE, G3E_WIDTHINTWIPS, G3E_CATALOGCOPYVALUE, G3E_LOCALECOMMENT, G3E_BREAKCOPY, G3E_COPYATTRIBUTE, G3E_WRAPTEXT, G3E_MERGEEXPRESSION, G3E_RINO, G3E_RIARGGROUPNO, G3E_UNIQUE, G3E_COMPRELATIVEANO, G3E_FUNCTIONALVALIDATION, G3E_ROLE, G3E_FKQRINO, G3E_FKQARGGROUPNO, G3E_DESCRIPTION)
values (213334, 21330, null, 'G3E_CID', 'Identificador do Componente', 'General Number', null, null, null, 0, null, null, null, null, null, null, null, null, null, 0, 0, 4, null, null, 0, sysdate, null, null, null, 1, 0, 1, null, null, null, 0, null, 1, 'EVERYONE', null, null, null);
commit;

insert into g3e_attribute (G3E_ANO, G3E_CNO, G3E_VNO, G3E_FIELD, G3E_USERNAME, G3E_FORMAT, G3E_PRECISION, G3E_DOMAINTABLE, G3E_DOMAINFIELD, G3E_REQUIRED, G3E_FINO, G3E_FUNCTIONALORDINAL, G3E_FUNCTIONALTYPE, G3E_INTERFACEARGUMENT, G3E_TOOLTIP, G3E_FOREIGNKEYTABLE, G3E_FOREIGNKEYFIELD, G3E_HYPERTEXT, G3E_PNO, G3E_COPY, G3E_EXCLUDEFROMEDIT, G3E_DATATYPE, G3E_ADDITIONALREFFIELDS, G3E_IMPORTFIELD, G3E_EXCLUDEFROMREPLACE, G3E_EDITDATE, G3E_WIDTHINTWIPS, G3E_CATALOGCOPYVALUE, G3E_LOCALECOMMENT, G3E_BREAKCOPY, G3E_COPYATTRIBUTE, G3E_WRAPTEXT, G3E_MERGEEXPRESSION, G3E_RINO, G3E_RIARGGROUPNO, G3E_UNIQUE, G3E_COMPRELATIVEANO, G3E_FUNCTIONALVALIDATION, G3E_ROLE, G3E_FKQRINO, G3E_FKQARGGROUPNO, G3E_DESCRIPTION)
values (213335, 21330, null, 'G3E_CNO', 'Número do Componente', 'General Number', null, null, null, 0, null, null, null, null, null, null, null, null, null, 0, 0, 4, null, null, 0, sysdate, null, null, null, 1, 0, 1, null, null, null, 0, null, 1, 'EVERYONE', null, null, null);
commit;

insert into g3e_attribute (G3E_ANO, G3E_CNO, G3E_VNO, G3E_FIELD, G3E_USERNAME, G3E_FORMAT, G3E_PRECISION, G3E_DOMAINTABLE, G3E_DOMAINFIELD, G3E_REQUIRED, G3E_FINO, G3E_FUNCTIONALORDINAL, G3E_FUNCTIONALTYPE, G3E_INTERFACEARGUMENT, G3E_TOOLTIP, G3E_FOREIGNKEYTABLE, G3E_FOREIGNKEYFIELD, G3E_HYPERTEXT, G3E_PNO, G3E_COPY, G3E_EXCLUDEFROMEDIT, G3E_DATATYPE, G3E_ADDITIONALREFFIELDS, G3E_IMPORTFIELD, G3E_EXCLUDEFROMREPLACE, G3E_EDITDATE, G3E_WIDTHINTWIPS, G3E_CATALOGCOPYVALUE, G3E_LOCALECOMMENT, G3E_BREAKCOPY, G3E_COPYATTRIBUTE, G3E_WRAPTEXT, G3E_MERGEEXPRESSION, G3E_RINO, G3E_RIARGGROUPNO, G3E_UNIQUE, G3E_COMPRELATIVEANO, G3E_FUNCTIONALVALIDATION, G3E_ROLE, G3E_FKQRINO, G3E_FKQARGGROUPNO, G3E_DESCRIPTION)
values (213336, 21330, null, 'G3E_FID', 'Identificador da Entidade', 'General Number', null, null, null, 0, null, null, null, null, null, null, null, null, null, 0, 0, 4, null, null, 0, sysdate, null, null, null, 1, 0, 1, null, null, null, 0, null, 1, 'EVERYONE', null, null, null);
commit;

insert into g3e_attribute (G3E_ANO, G3E_CNO, G3E_VNO, G3E_FIELD, G3E_USERNAME, G3E_FORMAT, G3E_PRECISION, G3E_DOMAINTABLE, G3E_DOMAINFIELD, G3E_REQUIRED, G3E_FINO, G3E_FUNCTIONALORDINAL, G3E_FUNCTIONALTYPE, G3E_INTERFACEARGUMENT, G3E_TOOLTIP, G3E_FOREIGNKEYTABLE, G3E_FOREIGNKEYFIELD, G3E_HYPERTEXT, G3E_PNO, G3E_COPY, G3E_EXCLUDEFROMEDIT, G3E_DATATYPE, G3E_ADDITIONALREFFIELDS, G3E_IMPORTFIELD, G3E_EXCLUDEFROMREPLACE, G3E_EDITDATE, G3E_WIDTHINTWIPS, G3E_CATALOGCOPYVALUE, G3E_LOCALECOMMENT, G3E_BREAKCOPY, G3E_COPYATTRIBUTE, G3E_WRAPTEXT, G3E_MERGEEXPRESSION, G3E_RINO, G3E_RIARGGROUPNO, G3E_UNIQUE, G3E_COMPRELATIVEANO, G3E_FUNCTIONALVALIDATION, G3E_ROLE, G3E_FKQRINO, G3E_FKQARGGROUPNO, G3E_DESCRIPTION)
values (213337, 21330, null, 'G3E_FNO', 'Número da Entidade', 'General Number', null, null, null, 0, null, null, null, null, null, null, null, null, null, 0, 0, 4, null, null, 0, sysdate, null, null, null, 1, 0, 1, null, null, null, 0, null, 1, 'EVERYONE', null, null, null);
commit;

insert into g3e_attribute (G3E_ANO, G3E_CNO, G3E_VNO, G3E_FIELD, G3E_USERNAME, G3E_FORMAT, G3E_PRECISION, G3E_DOMAINTABLE, G3E_DOMAINFIELD, G3E_REQUIRED, G3E_FINO, G3E_FUNCTIONALORDINAL, G3E_FUNCTIONALTYPE, G3E_INTERFACEARGUMENT, G3E_TOOLTIP, G3E_FOREIGNKEYTABLE, G3E_FOREIGNKEYFIELD, G3E_HYPERTEXT, G3E_PNO, G3E_COPY, G3E_EXCLUDEFROMEDIT, G3E_DATATYPE, G3E_ADDITIONALREFFIELDS, G3E_IMPORTFIELD, G3E_EXCLUDEFROMREPLACE, G3E_EDITDATE, G3E_WIDTHINTWIPS, G3E_CATALOGCOPYVALUE, G3E_LOCALECOMMENT, G3E_BREAKCOPY, G3E_COPYATTRIBUTE, G3E_WRAPTEXT, G3E_MERGEEXPRESSION, G3E_RINO, G3E_RIARGGROUPNO, G3E_UNIQUE, G3E_COMPRELATIVEANO, G3E_FUNCTIONALVALIDATION, G3E_ROLE, G3E_FKQRINO, G3E_FKQARGGROUPNO, G3E_DESCRIPTION)
values (213338, 21330, null, 'G3E_ID', 'Identificador', 'General Number', null, null, null, 0, null, null, null, null, null, null, null, null, null, 0, 0, 4, null, null, 0, sysdate, null, null, null, 1, 0, 1, null, null, null, 0, null, 1, 'EVERYONE', null, null, null);
commit;

INSERT INTO G3E_ATTRIBUTE VALUES(2131007, 21330, NULL, 'TYPE_PLACES', 'Type', NULL, NULL, NULL, NULL, 0,
NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 0, 0, 10, NULL, NULL, 0, SYSDATE,  NULL, NULL, NULL, 0, 0, 1,
NULL, NULL, NULL, 0, NULL, 1, 'EVERYONE', NULL, NULL, NULL);
COMMIT;

execute MG3ElanguageSubTableUtils.SynchronizeSubTables;
COMMIT;
execute MG3EOTCreateOptimizedTables;
COMMIT;
execute MG3ECreateOptableViews;
COMMIT;

execute G3EOneTable.InstallOneTable('GC_PLACES_T');
COMMIT;

execute LTT_Role.Create_Public_Synonym;
COMMIT;
execute LTT_Role.Create_Component_View_Synonym;
COMMIT;
execute LTT_Role.Grant_Privs_To_Role;
COMMIT;


insert into g3e_tabattribute values(213000103, 2131007, 3, NULL, 0, null, 1, 2130001, null, null, sysdate, 1, 0, null, null);
commit;

insert into g3e_tabattribute values(213000203, 2131007, 3, NULL, 0, null, 1, 2130002, null, null, sysdate, 1, 0, null, null);
commit;

insert into g3e_tabattribute values(213000303, 2131007, 3, null, 1, null, 1, 2130003, null, null, sysdate, 0, 0, null, null);
commit;


--Inserindo as regras de estilo
insert into g3e_textstyle (G3E_SNO, G3E_USERNAME, G3E_COLOR, G3E_FONTNAME, G3E_FONTBOLD, G3E_FONTITALIC, G3E_FONTSTRIKETHROUGH, G3E_FONTUNDERLINE, G3E_FONTWEIGHT, G3E_SIZE, G3E_TEXTBOX, G3E_TEXTBOXFILLCOLOR, G3E_TEXTBOXFILLTYPE, G3E_TEXTBOXFRAME, G3E_TEXTBOXFRAMECOLOR, G3E_TEXTBOXFRAMEWIDTH, G3E_PLOTREDLINE, G3E_EDITDATE, G3E_JUSTIFICATION, G3E_UNDERLINESNO, G3E_LEFTTEXTBOXOFFSET, G3E_RIGHTTEXTBOXOFFSET, G3E_TOPTEXTBOXOFFSET, G3E_BOTTOMTEXTBOXOFFSET, G3E_STYLEUNITS, G3E_TRANSLUCENCY, G3E_TEXTBOXFILLTRANSLUCENCY, G3E_TEXTBOXHATCHTRANSLUCENCY, G3E_TEXTBOXFRAMETRANSLUCENCY, G3E_TEXTBOXHATCHCOLOR)
values (21330001, 'Places Text Neighborhood', 0, 'Arial', 0, 0, 0, 0, 300, 15, 1, -3, 0, 0, 16775930, 2, 1, sysdate, 1, null, 0.1375, 0.1375, 1.375, 1.375, 3, null, null, null, null, null);
commit;

insert into g3e_textstyle (G3E_SNO, G3E_USERNAME, G3E_COLOR, G3E_FONTNAME, G3E_FONTBOLD, G3E_FONTITALIC, G3E_FONTSTRIKETHROUGH, G3E_FONTUNDERLINE, G3E_FONTWEIGHT, G3E_SIZE, G3E_TEXTBOX, G3E_TEXTBOXFILLCOLOR, G3E_TEXTBOXFILLTYPE, G3E_TEXTBOXFRAME, G3E_TEXTBOXFRAMECOLOR, G3E_TEXTBOXFRAMEWIDTH, G3E_PLOTREDLINE, G3E_EDITDATE, G3E_JUSTIFICATION, G3E_UNDERLINESNO, G3E_LEFTTEXTBOXOFFSET, G3E_RIGHTTEXTBOXOFFSET, G3E_TOPTEXTBOXOFFSET, G3E_BOTTOMTEXTBOXOFFSET, G3E_STYLEUNITS, G3E_TRANSLUCENCY, G3E_TEXTBOXFILLTRANSLUCENCY, G3E_TEXTBOXHATCHTRANSLUCENCY, G3E_TEXTBOXFRAMETRANSLUCENCY, G3E_TEXTBOXHATCHCOLOR)
values (21330002, 'Places Text City', 0, 'Arial', 0, 0, 0, 0, 400, 15, 1, -3, 0, 0, 16775930, 2, 1, sysdate, 1, null, 0.1375, 0.1375, 1.375, 1.375, 3, null, null, null, null, null);
commit;

update g3e_style set g3e_value = '77BB4FBC8D8B6D41A15E147679DD96280A0000000100000000001300000028AA89360F1A4F499005E372C4D09DBD060000000100000000000000FDFFFFFF00000000000014409A9999999999C93F000001000000000000000121EC6D67B47DD31190CC080036351903020000000100FAFAFF00B30C71AC8BA3514000000000000000000000000000000000000000000000000000000000000000000352E30B918FCE119DE300AA004BB8510100000090014442010005417269616CF1446B00905F0100000000006C0000006C00000001009A9999999999C13F9A9999999999C13F000000000000F63F000000000000F63F00000000D93F00000000004E000000E04F8D976E0C7640000000000000F03F' where g3e_sno = 21330001;
commit;

insert into g3e_stylerule (G3E_SRROWNO, G3E_SRNO, G3E_RULE, G3E_FILTER, G3E_FILTERORDINAL, G3E_SNO, G3E_EDITDATE, G3E_DESCRIPTION, G3E_LOCALECOMMENT)
values (213300101, 2133001, 'Places Text', null, 99, 21330001, sysdate, 'Places Text', null);
commit;

insert into g3e_stylerule (G3E_SRROWNO, G3E_SRNO, G3E_RULE, G3E_FILTER, G3E_FILTERORDINAL, G3E_SNO, G3E_EDITDATE, G3E_DESCRIPTION, G3E_LOCALECOMMENT)
values (213300102, 2133001, 'Places Text City', 'TYPE_PLACES=''city'' or TYPE_PLACES=''town''', 1, 21330002, sysdate, 'Places Text', null);
commit;

insert into g3e_label (G3E_LFNO, G3E_USERNAME, G3E_CONTENT, G3E_EDITDATE, G3E_LOCALECOMMENT) 
values (21331, 'Places Text', '[NAME_PLACES]', sysdate, null);
commit;

insert into g3e_labelrule (G3E_LRROWNO, G3E_LRNO, G3E_RULE, G3E_FILTER, G3E_FILTERORDINAL, G3E_LFNO, G3E_EDITDATE)
values (213300599, 2133001, 'Places Text', null, 99, 21331, sysdate);
commit;

--Inserir na g3e_legendentry
insert into g3e_legendentry (G3E_LENO, G3E_LEGENDENTRY, G3E_USERNAME, G3E_VNO, G3E_SRNO, G3E_LRNO, G3E_EDITDATE, G3E_ROLE, G3E_LAYERNAME, G3E_LOCALECOMMENT, G3E_TRANSLUCENCY, G3E_FILLTRANSLUCENCY)
values (2133001, 'VGC_PLACES_T', 'Places Text', 21330, 2133001, 2133001, sysdate, 'EVERYONE', null, null, null, null);
commit;

--INSERIR NO CONTROLE DE EXIBIÇÃO DE LEGENDA
INSERT INTO G3E_LEGGEO_DEFDSP VALUES('VGC_PLACES_T', 'Places Text', 3, (select max(g3e_ordinal) + 1 from G3E_LEGGEO_DEFDSP), 1, sysdate, (select max(g3e_dcrowno) + 1 from G3E_LEGGEO_DEFDSP), NULL, NULL);
COMMIT;

insert into g3e_leggeo_default (G3E_LENO, G3E_FILTER, G3E_DISPLAYORDINAL, G3E_EDITDATE)
values (2133001, null, 2, sysdate);
commit;

update g3e_leggeo_defau set g3e_displayscalemin = 1, g3e_displayscalemax = 40000 where g3e_leno = 2133001;
update g3e_componentviewdefinition set g3e_leno = 2133001 where g3e_vno = 21330;
commit;

--FIND
INSERT INTO G3E_FIND VALUES(G3E_FIND_SEQ.NEXTVAL, 21300, 21301, 2130102, 21310, 2131007, SYSDATE, 'EVERYONE');
INSERT INTO G3E_FIND VALUES(G3E_FIND_SEQ.NEXTVAL, 21300, 21301, 8012394, null, null, SYSDATE, 'EVERYONE');
COMMIT;

------------------------------------------------------------------------------------------------------------------------------------------------------------
-------------------------------------------------------------------BUILDING---------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------------------------------------------------------------

create table GC_BUILDING (
G3E_ID NUMBER(10,0),
G3E_FNO NUMBER(5,0),
G3E_CNO NUMBER(5,0),
G3E_FID NUMBER(10,0),
G3E_CID NUMBER(10,0),
OSM_ID VARCHAR2(11),
NAME_BUILDING VARCHAR2(100)
)
/

--Passo 1
--Criar Tabela de Componente Gráfico para a entidade Building
create table GC_BUILDING_P (
G3E_ID NUMBER(10,0),
G3E_FNO NUMBER(5,0),
G3E_CNO NUMBER(5,0),
G3E_FID NUMBER(10,0),
G3E_CID NUMBER(10,0),
TYPE_BUILDING VARCHAR2(50),
G3E_GEOMETRY SDO_GEOMETRY
)
/

--insert into g3e_component (G3E_CNO, G3E_USERNAME, G3E_NAME, G3E_TOOLTIP, G3E_TYPE, G3E_GEOMETRYTYPE, G3E_TABLE, G3E_DETAIL, G3E_ALIGNMENTFIELD, G3E_DCNO, G3E_DTNO, G3E_GEOMETRYFIELD, G3E_SUBSETATTRIBUTE, G3E_EDITDATE, G3E_SUBTYPE, G3E_LOCALECOMMENT, G3E_LRNO, G3E_PARTITIONATTRIBUTE, G3E_LTT)
INSERT INTO G3E_COMPONENT VALUES (21401, 'Building', 'GC_BUILDING','Building', 1, NULL, 'GC_BUILDING', 0, NULL, 31, NULL, NULL, NULL, SYSDATE, NULL, NULL, NULL, NULL, 0);
COMMIT;

--PASSO 2
--INSERIR NA TABELA DE COMPONENTES
--RELACIONADO AO COMPONENTE GRÁFICO
-- insert into g3e_component (G3E_CNO, G3E_USERNAME, G3E_NAME, G3E_TOOLTIP, G3E_TYPE, G3E_GEOMETRYTYPE, G3E_TABLE, G3E_DETAIL, G3E_ALIGNMENTFIELD, G3E_DCNO, G3E_DTNO, G3E_GEOMETRYFIELD, G3E_SUBSETATTRIBUTE, G3E_EDITDATE, G3E_SUBTYPE, G3E_LOCALECOMMENT, G3E_LRNO, G3E_PARTITIONATTRIBUTE, G3E_LTT)
INSERT INTO G3E_COMPONENT VALUES (21410, 'Building Polygon', 'GC_BUILDING_P','Building Polygon', 8, 'PolygonGeometry', 'GC_BUILDING_P', 0, NULL, 31, NULL, 'G3E_GEOMETRY', NULL, SYSDATE, NULL, NULL, NULL, NULL, 0);
COMMIT;

--PASSO 3
--RELACIONAR O COMPONENTE COM UMA FEATURE
--insert into g3e_feature (G3E_FNO, G3E_USERNAME, G3E_TOOLTIP, G3E_PRIMARYGEOGRAPHICCNO, G3E_PRIMARYATTRIBUTECNO, G3E_DCNO, G3E_PRIMARYDETAILCNO, G3E_NUMBEROFNODES, G3E_IMPORTFEATURENAME, G3E_REPLACE, G3E_NAME, G3E_EDITDATE, G3E_LOCALECOMMENT, G3E_MERGE, G3E_CLASSIFICATIONANO, G3E_IDENTIFIERVIEW, G3E_BULKEDIT, G3E_ICONORDINAL, G3E_EDITROLE, G3E_SELECTROLE, G3E_DELETEROLE, G3E_RINO, G3E_RIARGGROUPNO, G3E_PRIMARYSCHEMCNO, G3E_SECONDARYSCHEMCNO, G3E_LABELSCHEMCNO)
INSERT INTO G3E_FEATURE VALUES (21400, 'Building OSM', 'Building OSM', 21410, 21401, 31, null, null, null, 0, null, sysdate, null, 1, null, null, 0, null, 'EVERYONE', 'EVERYONE', 'EVERYONE', NULL, NULL, NULL, NULL, NULL, 'EVERYONE');
COMMIT;

INSERT INTO G3E_FEATURECOMPONENT VALUES(21401, 21400, 21401, 1, 0, 0, 7, 1, NULL, NULL, 1, 1, 0, NULL, 1, SYSDATE, 1, 3, 4, 3, 1, NULL, 0, 0, NULL, NULL, 1, NULL, NULL, NULL, 1,  NULL, NULL, NULL, 0, NULL);
COMMIT;

--RELACIONADO AO COMPONENTE GRÁFICO
--insert into g3e_featurecomponent (G3E_FCNO, G3E_FNO, G3E_CNO, G3E_REQUIRED, G3E_REPEATING, G3E_AUTOREPEAT, G3E_PINO, G3E_ORDINAL, G3E_INTERFACEARGUMENT, G3E_DERIVEDFROMCNO, G3E_INSERTORDINAL, G3E_DELETEORDINAL, G3E_REFRESH, G3E_ALTERNATEREQUIREDCNO, G3E_REPLACE, G3E_EDITDATE, G3E_BREAKACTION, G3E_COMPONENTELIMINATION, G3E_COMPONENTASSIGNMENT, G3E_COMPONENTADJUSTMENT, G3E_GEOPROXIMITYTOLERANCE, G3E_BREAKLINEARCNO, G3E_ALTERNATEGEOGRAPHIC, G3E_ALTERNATEGEOORDINAL, G3E_RINO, G3E_RIARGGROUPNO, G3E_INCLUDEINPLACEMENT, G3E_MERGEMAXDISTANCE, G3E_MERGECOMMONPRECOND, G3E_MERGEPRECOND, G3E_MERGEOCCURRENCES, G3E_MERGERINO, G3E_MERGERIARGGROUPNO, G3E_CCNO, G3E_GENERATE, G3E_DETAILPLACEMENTCNO)
INSERT INTO G3E_FEATURECOMPONENT VALUES(21410, 21400, 21410, 1, 0, 0, 7, 2, NULL, NULL, 2, 2, 0, NULL, 1, SYSDATE, 1, 2, 2, 1, 1, NULL, 0, 0, NULL, NULL, 1, NULL, NULL, NULL, 1,  NULL, NULL, NULL, 0, NULL);
COMMIT;

--PASSO 4A
--CRIAR VIEWS DE COMPONENTE
CREATE OR REPLACE VIEW VGC_BUILDING_P AS
SELECT A.G3E_ID, A.G3E_FNO, A.G3E_CNO, A.G3E_FID, A.G3E_CID, A.TYPE_BUILDING, G3E_GEOMETRY FROM GC_BUILDING_P A
/

--PASSO 4B
--CRIAR DEFINIÇÕES DA VIEW
--INSERIR SEM G3E_LENO (1o NULL)
INSERT INTO G3E_COMPONENTVIEWDEFINITION VALUES(21410, 'VGC_BUILDING_P', 21400, 21410, NULL, NULL, SYSDATE, 0);
COMMIT;

INSERT INTO G3E_COMPONENTVIEWCOMPOSITION VALUES(214010, 21410, 21410, NULL, SYSDATE, 21400);
COMMIT;

--insert into g3e_attribute (G3E_ANO, G3E_CNO, G3E_VNO, G3E_FIELD, G3E_USERNAME, G3E_FORMAT, G3E_PRECISION, G3E_DOMAINTABLE, G3E_DOMAINFIELD, G3E_REQUIRED, G3E_FINO, G3E_FUNCTIONALORDINAL, G3E_FUNCTIONALTYPE, G3E_INTERFACEARGUMENT, G3E_TOOLTIP, G3E_FOREIGNKEYTABLE, G3E_FOREIGNKEYFIELD, G3E_HYPERTEXT, G3E_PNO, G3E_COPY, G3E_EXCLUDEFROMEDIT, G3E_DATATYPE, G3E_ADDITIONALREFFIELDS, G3E_IMPORTFIELD, G3E_EXCLUDEFROMREPLACE, G3E_EDITDATE, G3E_WIDTHINTWIPS, G3E_CATALOGCOPYVALUE, G3E_LOCALECOMMENT, G3E_BREAKCOPY, G3E_COPYATTRIBUTE, G3E_WRAPTEXT, G3E_MERGEEXPRESSION, G3E_RINO, G3E_RIARGGROUPNO, G3E_UNIQUE, G3E_COMPRELATIVEANO, G3E_FUNCTIONALVALIDATION, G3E_ROLE, G3E_FKQRINO, G3E_FKQARGGROUPNO, G3E_DESCRIPTION)
INSERT INTO G3E_ATTRIBUTE VALUES(2140101, 21401, NULL, 'OSM_ID', 'ID Open Street Maps', NULL, NULL, NULL, NULL, 0,
NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 0, 0, 10, NULL, NULL, 0, SYSDATE,  NULL, NULL, NULL, 0, 0, 1,
NULL, NULL, NULL, 0, NULL, 1, 'EVERYONE', NULL, NULL, NULL);
COMMIT;

INSERT INTO G3E_ATTRIBUTE VALUES(2140102, 21401, NULL, 'NAME_BUILDING', 'Name', NULL, NULL, NULL, NULL, 0,
NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 0, 0, 10, NULL, NULL, 0, SYSDATE,  NULL, NULL, NULL, 0, 0, 1,
NULL, NULL, NULL, 0, NULL, 1, 'EVERYONE', NULL, NULL, NULL);
COMMIT;


--PASSO 5
--CRIAR ATRIBUTOS
--insert into g3e_attribute (G3E_ANO, G3E_CNO, G3E_VNO, G3E_FIELD, G3E_USERNAME, G3E_FORMAT, G3E_PRECISION, G3E_DOMAINTABLE, G3E_DOMAINFIELD, G3E_REQUIRED, G3E_FINO, G3E_FUNCTIONALORDINAL, G3E_FUNCTIONALTYPE, G3E_INTERFACEARGUMENT, G3E_TOOLTIP, G3E_FOREIGNKEYTABLE, G3E_FOREIGNKEYFIELD, G3E_HYPERTEXT, G3E_PNO, G3E_COPY, G3E_EXCLUDEFROMEDIT, G3E_DATATYPE, G3E_ADDITIONALREFFIELDS, G3E_IMPORTFIELD, G3E_EXCLUDEFROMREPLACE, G3E_EDITDATE, G3E_WIDTHINTWIPS, G3E_CATALOGCOPYVALUE, G3E_LOCALECOMMENT, G3E_BREAKCOPY, G3E_COPYATTRIBUTE, G3E_WRAPTEXT, G3E_MERGEEXPRESSION, G3E_RINO, G3E_RIARGGROUPNO, G3E_UNIQUE, G3E_COMPRELATIVEANO, G3E_FUNCTIONALVALIDATION, G3E_ROLE, G3E_FKQRINO, G3E_FKQARGGROUPNO, G3E_DESCRIPTION)
INSERT INTO G3E_ATTRIBUTE VALUES(2141001, 21410, NULL, 'G3E_ID', 'LTT ID GComms', 'General Number', NULL, NULL, NULL, 0,
NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 0, 0, 4, NULL, NULL, 0, SYSDATE,  NULL, NULL, NULL, 0, 0, 1,
NULL, NULL, NULL, 0, NULL, 1, 'EVERYONE', NULL, NULL, NULL);
COMMIT;

INSERT INTO G3E_ATTRIBUTE VALUES(2141002, 21410, NULL, 'G3E_FNO', 'Número da Entidade GComms', 'General Number', NULL, NULL, NULL, 0,
NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 0, 0, 4, NULL, NULL, 0, SYSDATE,  NULL, NULL, NULL, 0, 0, 1,
NULL, NULL, NULL, 0, NULL, 1, 'EVERYONE', NULL, NULL, NULL);
COMMIT;

INSERT INTO G3E_ATTRIBUTE VALUES(2141003, 21410, NULL, 'G3E_CNO', ' Número do Componente GComms', 'General Number', NULL, NULL, NULL, 0,
NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 0, 0, 4, NULL, NULL, 0, SYSDATE,  NULL, NULL, NULL, 0, 0, 1,
NULL, NULL, NULL, 0, NULL, 1, 'EVERYONE', NULL, NULL, NULL);
COMMIT;

INSERT INTO G3E_ATTRIBUTE VALUES(2141004, 21410, NULL, 'G3E_FID', 'ID da Entidade GComms', 'General Number', NULL, NULL, NULL, 0,
NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 0, 0, 4, NULL, NULL, 0, SYSDATE,  NULL, NULL, NULL, 0, 0, 1,
NULL, NULL, NULL, 0, NULL, 1, 'EVERYONE', NULL, NULL, NULL);
COMMIT;

INSERT INTO G3E_ATTRIBUTE VALUES(2141005, 21410, NULL, 'G3E_CID', 'ID do Componente GComms', 'General Number', NULL, NULL, NULL, 0,
NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 0, 0, 4, NULL, NULL, 0, SYSDATE,  NULL, NULL, NULL, 0, 0, 1,
NULL, NULL, NULL, 0, NULL, 1, 'EVERYONE', NULL, NULL, NULL);
COMMIT;

INSERT INTO G3E_ATTRIBUTE VALUES(2141006, 21410, NULL, 'G3E_GEOMETRY', 'Geometria GComms', '', NULL, NULL, NULL, 0,
NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 0, 0, 32, NULL, NULL, 0, SYSDATE,  NULL, NULL, NULL, 1, 0, 1,
NULL, NULL, NULL, 0, NULL, 1, 'EVERYONE', NULL, NULL, NULL);
COMMIT;

INSERT INTO G3E_ATTRIBUTE VALUES(2141007, 21410, NULL, 'TYPE_BUILDING', 'Type', NULL, NULL, NULL, NULL, 0,
NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 0, 0, 10, NULL, NULL, 0, SYSDATE,  NULL, NULL, NULL, 0, 0, 1,
NULL, NULL, NULL, 0, NULL, 1, 'EVERYONE', NULL, NULL, NULL);
COMMIT;

--PASSO 6
execute MG3ElanguageSubTableUtils.SynchronizeSubTables;
COMMIT;
execute MG3EOTCreateOptimizedTables;
COMMIT;
execute MG3ECreateOptableViews;
COMMIT;

--PASSO 7
execute G3EOneTable.InstallOneTable('GC_BUILDING');
COMMIT;
execute G3EOneTable.InstallOneTable('GC_BUILDING_P');
COMMIT;

--PASSO 8
execute LTT_Role.Create_Public_Synonym;
COMMIT;
execute LTT_Role.Create_Component_View_Synonym;
COMMIT;
execute LTT_Role.Grant_Privs_To_Role;
COMMIT;

--DE AGORA EM DIANTE SEGUE FORA DO ROTEIRO, QUE INCLUI CRIAR REGRAS DE ESTILO, INSERIR NA LEGENDA E ETC...
--1 CRIAR REGRA DE ESTILOS
--INSERIR NA G3E_POINTSTYLE
--LINHA DA BUILDING
insert into G3E_LINESTYLE (G3E_SNO, G3E_USERNAME, G3E_COLOR, G3E_WIDTH, G3E_OFFSET, G3E_STARTSYMBOL, G3E_ENDSYMBOL, G3E_STROKEPATTERN, G3E_PLOTREDLINE, G3E_EDITDATE, G3E_STYLEUNITS, G3E_TRANSLUCENCY)
values (214000011, 'Polygon Building', 128, 1, 0, null, null, 100, 1, SYSDATE, 1, null);
commit;

--INSERIR NA G3E_STYLERULE
insert into g3e_stylerule (G3E_SRROWNO, G3E_SRNO, G3E_RULE, G3E_FILTER, G3E_FILTERORDINAL, G3E_SNO, G3E_EDITDATE, G3E_DESCRIPTION, G3E_LOCALECOMMENT)
values (214000001, 2140001, 'Polygon Building', null, 99, 214000011, SYSDATE, 'Polygon Building', null);
COMMIT;

--2 INSERIR NA LEGENDENTRY
-- insert into g3e_legendentry (G3E_LENO, G3E_LEGENDENTRY, G3E_USERNAME, G3E_VNO, G3E_SRNO, G3E_LRNO, G3E_EDITDATE, G3E_ROLE, G3E_LAYERNAME, G3E_LOCALECOMMENT, G3E_TRANSLUCENCY, G3E_FILLTRANSLUCENCY)
INSERT INTO G3E_LEGENDENTRY VALUES(21410, 'VGC_BUILDING_P', 'Polygon Building', 21410, 2140001, NULL, SYSDATE, 'EVERYONE', NULL, NULL, NULL, NULL);
COMMIT;

--Referenciando a G3E_leno na componentview
UPDATE G3E_COMPONENTVIEWDEFINITION SET G3E_LENO = 21410 WHERE G3E_VNO = 21410;
COMMIT;


--3 INSERIR NO CONTROLE DE EXIBIÇÃO DE LEGENDA
INSERT INTO G3E_LEGGEO_DEFDSP VALUES('Building', 'Building', 2, (select max(g3e_ordinal) + 1 from G3E_LEGGEO_DEFDSP), 0, sysdate, (select max(g3e_dcrowno) + 1 from G3E_LEGGEO_DEFDSP), NULL, NULL);
COMMIT;

--3 INSERIR NO CONTROLE DE EXIBIÇÃO DE LEGENDA
INSERT INTO G3E_LEGGEO_DEFDSP VALUES('VGC_BUILDING_P', 'Polygon Building', 3, (select max(g3e_ordinal) + 1 from G3E_LEGGEO_DEFDSP), 1, sysdate, (select max(g3e_dcrowno) + 1 from G3E_LEGGEO_DEFDSP), NULL, NULL);
COMMIT;

--4 INSERIR NA LEGENDA
INSERT INTO G3E_LEGGEO_DEFAULT VALUES(21410, NULL, 20, SYSDATE);
COMMIT;
--UPDATE NA G3E_LEGGEO_DEFAU
UPDATE G3E_LEGGEO_DEFAU SET G3E_DISPLAYSCALEMIN = 1, G3E_DISPLAYSCALEMAX = 40000 WHERE G3E_LENO = 21410;
COMMIT;

--5 INSERIR NA INSERÇÃO DE FEATURE

INSERT INTO G3E_PLACEMENTSELECTION VALUES(NULL, 21400, 'Building', 2, (select max(g3e_ordinal) + 1 from g3e_placementselection), sysdate, (select max(g3e_psrowno) + 1 from G3E_PLACEMENTSELECTION), NULL, (select max(g3e_iconordinal) + 1 from G3E_PLACEMENTSELECTION), 'EVERYONE');
COMMIT;

--6 INSERIR DIALOGSTAB
INSERT INTO G3E_DIALOGTAB VALUES (2140001, 'Building', 'V', SYSDATE, NULL ,NULL, NULL, NULL);
INSERT INTO G3E_DIALOGTAB VALUES (2140002, 'Building', 'V', SYSDATE, NULL ,NULL, NULL, NULL);
INSERT INTO G3E_DIALOGTAB VALUES (2140003, 'Building', 'V', SYSDATE, NULL ,NULL, NULL, NULL);
COMMIT;

--7 INSERIR DIALOG
INSERT INTO G3E_DIALOG VALUES(2140001, 21401, 'Placement', 21400, 1, null, 2140001, sysdate);
commit;
INSERT INTO G3E_DIALOG VALUES(2140002, 21402, 'Edit', 21400, 2, null, 2140002, sysdate);
commit;
INSERT INTO G3E_DIALOG VALUES(2140003, 21403, 'Review', 21400, 3, null, 2140003, sysdate);
commit;

--8 INSERIR TABATTRIBUTES
--PLACEMENT
-- insert into g3e_tabattribute (G3E_TANO, G3E_ANO, G3E_ORDINAL, G3E_PNO, G3E_READONLY, G3E_DEFAULT, G3E_REFRESH, G3E_DTNO, G3E_FIELDVALUEFILTER, G3E_TRAVERSALANO, G3E_EDITDATE, G3E_TRIGGERPOPULATE, G3E_USEFILTERTOTRANSLATEKEY, G3E_FKQRINO, G3E_FKQARGGROUPNO)
insert into g3e_tabattribute values(214000101, 2140101, 1, NULL, 0, null, 1, 2140001, null, null, sysdate, 1, 0, null, null);
commit;

insert into g3e_tabattribute values(214000102, 2140102, 2, NULL, 0, null, 1, 2140001, null, null, sysdate, 1, 0, null, null);
commit;

insert into g3e_tabattribute values(214000103, 2141007, 3, NULL, 0, null, 1, 2140001, null, null, sysdate, 1, 0, null, null);
commit;


--EDIT
insert into g3e_tabattribute values(214000201, 2140101, 1, NULL, 0, null, 1, 2140002, null, null, sysdate, 1, 0, null, null);
commit;

insert into g3e_tabattribute values(214000202, 2140102, 2, NULL, 0, null, 1, 2140002, null, null, sysdate, 1, 0, null, null);
commit;

insert into g3e_tabattribute values(214000203, 2141007, 3, NULL, 0, null, 1, 2140002, null, null, sysdate, 1, 0, null, null);
commit;


--REVIEW
insert into g3e_tabattribute values(214000301, 2140101, 1, null, 1, null, 1, 2140003, null, null, sysdate, 0, 0, null, null);
commit;

insert into g3e_tabattribute values(214000302, 2140102, 2, null, 1, null, 1, 2140003, null, null, sysdate, 0, 0, null, null);
commit;

insert into g3e_tabattribute values(214000303, 2141007, 3, null, 1, null, 1, 2140003, null, null, sysdate, 0, 0, null, null);
commit;

--FIND
INSERT INTO G3E_FIND VALUES(G3E_FIND_SEQ.NEXTVAL, 21400, 21401, 2140102, 21410, 2141007, SYSDATE, 'EVERYONE');
INSERT INTO G3E_FIND VALUES(G3E_FIND_SEQ.NEXTVAL, 21400, 21401, 8012399, null, null, SYSDATE, 'EVERYONE');
COMMIT;

------------------------------------------------------------------------------------------------------------------------------------------------------------
-------------------------------------------------------------------LANDUSE----------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------------------------------------------------------------



create table GC_LANDUSE (
G3E_ID NUMBER(10,0),
G3E_FNO NUMBER(5,0),
G3E_CNO NUMBER(5,0),
G3E_FID NUMBER(10,0),
G3E_CID NUMBER(10,0),
OSM_ID VARCHAR2(11),
NAME_LANDUSE VARCHAR2(100)
)
/

--Passo 1
--Criar Tabela de Componente Gráfico para a entidade Landuse
create table GC_LANDUSE_P (
G3E_ID NUMBER(10,0),
G3E_FNO NUMBER(5,0),
G3E_CNO NUMBER(5,0),
G3E_FID NUMBER(10,0),
G3E_CID NUMBER(10,0),
TYPE_LANDUSE VARCHAR2(50),
G3E_GEOMETRY SDO_GEOMETRY
)
/

--insert into g3e_component (G3E_CNO, G3E_USERNAME, G3E_NAME, G3E_TOOLTIP, G3E_TYPE, G3E_GEOMETRYTYPE, G3E_TABLE, G3E_DETAIL, G3E_ALIGNMENTFIELD, G3E_DCNO, G3E_DTNO, G3E_GEOMETRYFIELD, G3E_SUBSETATTRIBUTE, G3E_EDITDATE, G3E_SUBTYPE, G3E_LOCALECOMMENT, G3E_LRNO, G3E_PARTITIONATTRIBUTE, G3E_LTT)
INSERT INTO G3E_COMPONENT VALUES (21501, 'Landuse', 'GC_LANDUSE','Landuse', 1, NULL, 'GC_LANDUSE', 0, NULL, 31, NULL, NULL, NULL, SYSDATE, NULL, NULL, NULL, NULL, 0);
COMMIT;

--PASSO 2
--INSERIR NA TABELA DE COMPONENTES
--RELACIONADO AO COMPONENTE GRÁFICO
-- insert into g3e_component (G3E_CNO, G3E_USERNAME, G3E_NAME, G3E_TOOLTIP, G3E_TYPE, G3E_GEOMETRYTYPE, G3E_TABLE, G3E_DETAIL, G3E_ALIGNMENTFIELD, G3E_DCNO, G3E_DTNO, G3E_GEOMETRYFIELD, G3E_SUBSETATTRIBUTE, G3E_EDITDATE, G3E_SUBTYPE, G3E_LOCALECOMMENT, G3E_LRNO, G3E_PARTITIONATTRIBUTE, G3E_LTT)
INSERT INTO G3E_COMPONENT VALUES (21510, 'Landuse Polygon', 'GC_LANDUSE_P','Landuse Polygon', 8, 'PolygonGeometry', 'GC_LANDUSE_P', 0, NULL, 31, NULL, 'G3E_GEOMETRY', NULL, SYSDATE, NULL, NULL, NULL, NULL, 0);
COMMIT;

--PASSO 3
--RELACIONAR O COMPONENTE COM UMA FEATURE
--insert into g3e_feature (G3E_FNO, G3E_USERNAME, G3E_TOOLTIP, G3E_PRIMARYGEOGRAPHICCNO, G3E_PRIMARYATTRIBUTECNO, G3E_DCNO, G3E_PRIMARYDETAILCNO, G3E_NUMBEROFNODES, G3E_IMPORTFEATURENAME, G3E_REPLACE, G3E_NAME, G3E_EDITDATE, G3E_LOCALECOMMENT, G3E_MERGE, G3E_CLASSIFICATIONANO, G3E_IDENTIFIERVIEW, G3E_BULKEDIT, G3E_ICONORDINAL, G3E_EDITROLE, G3E_SELECTROLE, G3E_DELETEROLE, G3E_RINO, G3E_RIARGGROUPNO, G3E_PRIMARYSCHEMCNO, G3E_SECONDARYSCHEMCNO, G3E_LABELSCHEMCNO)
INSERT INTO G3E_FEATURE VALUES (21500, 'Landuse', 'Landuse', 21510, 21501, 31, null, null, null, 0, null, sysdate, null, 1, null, null, 0, null, 'EVERYONE', 'EVERYONE', 'EVERYONE', NULL, NULL, NULL, NULL, NULL, 'EVERYONE');
COMMIT;

INSERT INTO G3E_FEATURECOMPONENT VALUES(21501, 21500, 21501, 1, 0, 0, 7, 1, NULL, NULL, 1, 1, 0, NULL, 1, SYSDATE, 1, 3, 4, 3, 1, NULL, 0, 0, NULL, NULL, 1, NULL, NULL, NULL, 1,  NULL, NULL, NULL, 0, NULL);
COMMIT;

--RELACIONADO AO COMPONENTE GRÁFICO
--insert into g3e_featurecomponent (G3E_FCNO, G3E_FNO, G3E_CNO, G3E_REQUIRED, G3E_REPEATING, G3E_AUTOREPEAT, G3E_PINO, G3E_ORDINAL, G3E_INTERFACEARGUMENT, G3E_DERIVEDFROMCNO, G3E_INSERTORDINAL, G3E_DELETEORDINAL, G3E_REFRESH, G3E_ALTERNATEREQUIREDCNO, G3E_REPLACE, G3E_EDITDATE, G3E_BREAKACTION, G3E_COMPONENTELIMINATION, G3E_COMPONENTASSIGNMENT, G3E_COMPONENTADJUSTMENT, G3E_GEOPROXIMITYTOLERANCE, G3E_BREAKLINEARCNO, G3E_ALTERNATEGEOGRAPHIC, G3E_ALTERNATEGEOORDINAL, G3E_RINO, G3E_RIARGGROUPNO, G3E_INCLUDEINPLACEMENT, G3E_MERGEMAXDISTANCE, G3E_MERGECOMMONPRECOND, G3E_MERGEPRECOND, G3E_MERGEOCCURRENCES, G3E_MERGERINO, G3E_MERGERIARGGROUPNO, G3E_CCNO, G3E_GENERATE, G3E_DETAILPLACEMENTCNO)
INSERT INTO G3E_FEATURECOMPONENT VALUES(21510, 21500, 21510, 1, 0, 0, 7, 2, NULL, NULL, 2, 2, 0, NULL, 1, SYSDATE, 1, 2, 2, 1, 1, NULL, 0, 0, NULL, NULL, 1, NULL, NULL, NULL, 1,  NULL, NULL, NULL, 0, NULL);
COMMIT;

--PASSO 4A
--CRIAR VIEWS DE COMPONENTE
CREATE OR REPLACE VIEW VGC_LANDUSE_P AS
SELECT A.G3E_ID, A.G3E_FNO, A.G3E_CNO, A.G3E_FID, A.G3E_CID, A.TYPE_LANDUSE, G3E_GEOMETRY FROM GC_LANDUSE_P A
/

--PASSO 4B
--CRIAR DEFINIÇÕES DA VIEW
--INSERIR SEM G3E_LENO (1o NULL)
INSERT INTO G3E_COMPONENTVIEWDEFINITION VALUES(21510, 'VGC_LANDUSE_P', 21500, 21510, NULL, NULL, SYSDATE, 0);
COMMIT;

INSERT INTO G3E_COMPONENTVIEWCOMPOSITION VALUES(215010, 21510, 21510, NULL, SYSDATE, 21500);
COMMIT;

--insert into g3e_attribute (G3E_ANO, G3E_CNO, G3E_VNO, G3E_FIELD, G3E_USERNAME, G3E_FORMAT, G3E_PRECISION, G3E_DOMAINTABLE, G3E_DOMAINFIELD, G3E_REQUIRED, G3E_FINO, G3E_FUNCTIONALORDINAL, G3E_FUNCTIONALTYPE, G3E_INTERFACEARGUMENT, G3E_TOOLTIP, G3E_FOREIGNKEYTABLE, G3E_FOREIGNKEYFIELD, G3E_HYPERTEXT, G3E_PNO, G3E_COPY, G3E_EXCLUDEFROMEDIT, G3E_DATATYPE, G3E_ADDITIONALREFFIELDS, G3E_IMPORTFIELD, G3E_EXCLUDEFROMREPLACE, G3E_EDITDATE, G3E_WIDTHINTWIPS, G3E_CATALOGCOPYVALUE, G3E_LOCALECOMMENT, G3E_BREAKCOPY, G3E_COPYATTRIBUTE, G3E_WRAPTEXT, G3E_MERGEEXPRESSION, G3E_RINO, G3E_RIARGGROUPNO, G3E_UNIQUE, G3E_COMPRELATIVEANO, G3E_FUNCTIONALVALIDATION, G3E_ROLE, G3E_FKQRINO, G3E_FKQARGGROUPNO, G3E_DESCRIPTION)
INSERT INTO G3E_ATTRIBUTE VALUES(2150101, 21501, NULL, 'OSM_ID', 'ID Open Street Maps', NULL, NULL, NULL, NULL, 0,
NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 0, 0, 10, NULL, NULL, 0, SYSDATE,  NULL, NULL, NULL, 0, 0, 1,
NULL, NULL, NULL, 0, NULL, 1, 'EVERYONE', NULL, NULL, NULL);
COMMIT;

INSERT INTO G3E_ATTRIBUTE VALUES(2150102, 21501, NULL, 'NAME_LANDUSE', 'Name', NULL, NULL, NULL, NULL, 0,
NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 0, 0, 10, NULL, NULL, 0, SYSDATE,  NULL, NULL, NULL, 0, 0, 1,
NULL, NULL, NULL, 0, NULL, 1, 'EVERYONE', NULL, NULL, NULL);
COMMIT;


--PASSO 5
--CRIAR ATRIBUTOS
--insert into g3e_attribute (G3E_ANO, G3E_CNO, G3E_VNO, G3E_FIELD, G3E_USERNAME, G3E_FORMAT, G3E_PRECISION, G3E_DOMAINTABLE, G3E_DOMAINFIELD, G3E_REQUIRED, G3E_FINO, G3E_FUNCTIONALORDINAL, G3E_FUNCTIONALTYPE, G3E_INTERFACEARGUMENT, G3E_TOOLTIP, G3E_FOREIGNKEYTABLE, G3E_FOREIGNKEYFIELD, G3E_HYPERTEXT, G3E_PNO, G3E_COPY, G3E_EXCLUDEFROMEDIT, G3E_DATATYPE, G3E_ADDITIONALREFFIELDS, G3E_IMPORTFIELD, G3E_EXCLUDEFROMREPLACE, G3E_EDITDATE, G3E_WIDTHINTWIPS, G3E_CATALOGCOPYVALUE, G3E_LOCALECOMMENT, G3E_BREAKCOPY, G3E_COPYATTRIBUTE, G3E_WRAPTEXT, G3E_MERGEEXPRESSION, G3E_RINO, G3E_RIARGGROUPNO, G3E_UNIQUE, G3E_COMPRELATIVEANO, G3E_FUNCTIONALVALIDATION, G3E_ROLE, G3E_FKQRINO, G3E_FKQARGGROUPNO, G3E_DESCRIPTION)
INSERT INTO G3E_ATTRIBUTE VALUES(2151001, 21510, NULL, 'G3E_ID', 'LTT ID GComms', 'General Number', NULL, NULL, NULL, 0,
NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 0, 0, 4, NULL, NULL, 0, SYSDATE,  NULL, NULL, NULL, 0, 0, 1,
NULL, NULL, NULL, 0, NULL, 1, 'EVERYONE', NULL, NULL, NULL);
COMMIT;

INSERT INTO G3E_ATTRIBUTE VALUES(2151002, 21510, NULL, 'G3E_FNO', 'Número da Entidade GComms', 'General Number', NULL, NULL, NULL, 0,
NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 0, 0, 4, NULL, NULL, 0, SYSDATE,  NULL, NULL, NULL, 0, 0, 1,
NULL, NULL, NULL, 0, NULL, 1, 'EVERYONE', NULL, NULL, NULL);
COMMIT;

INSERT INTO G3E_ATTRIBUTE VALUES(2151003, 21510, NULL, 'G3E_CNO', ' Número do Componente GComms', 'General Number', NULL, NULL, NULL, 0,
NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 0, 0, 4, NULL, NULL, 0, SYSDATE,  NULL, NULL, NULL, 0, 0, 1,
NULL, NULL, NULL, 0, NULL, 1, 'EVERYONE', NULL, NULL, NULL);
COMMIT;

INSERT INTO G3E_ATTRIBUTE VALUES(2151004, 21510, NULL, 'G3E_FID', 'ID da Entidade GComms', 'General Number', NULL, NULL, NULL, 0,
NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 0, 0, 4, NULL, NULL, 0, SYSDATE,  NULL, NULL, NULL, 0, 0, 1,
NULL, NULL, NULL, 0, NULL, 1, 'EVERYONE', NULL, NULL, NULL);
COMMIT;

INSERT INTO G3E_ATTRIBUTE VALUES(2151005, 21510, NULL, 'G3E_CID', 'ID do Componente GComms', 'General Number', NULL, NULL, NULL, 0,
NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 0, 0, 4, NULL, NULL, 0, SYSDATE,  NULL, NULL, NULL, 0, 0, 1,
NULL, NULL, NULL, 0, NULL, 1, 'EVERYONE', NULL, NULL, NULL);
COMMIT;

INSERT INTO G3E_ATTRIBUTE VALUES(2151006, 21510, NULL, 'G3E_GEOMETRY', 'Geometria GComms', '', NULL, NULL, NULL, 0,
NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 0, 0, 32, NULL, NULL, 0, SYSDATE,  NULL, NULL, NULL, 1, 0, 1,
NULL, NULL, NULL, 0, NULL, 1, 'EVERYONE', NULL, NULL, NULL);
COMMIT;

INSERT INTO G3E_ATTRIBUTE VALUES(2151007, 21510, NULL, 'TYPE_LANDUSE', 'Type', NULL, NULL, NULL, NULL, 0,
NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 0, 0, 10, NULL, NULL, 0, SYSDATE,  NULL, NULL, NULL, 0, 0, 1,
NULL, NULL, NULL, 0, NULL, 1, 'EVERYONE', NULL, NULL, NULL);
COMMIT;

--PASSO 6
execute MG3ElanguageSubTableUtils.SynchronizeSubTables;
COMMIT;
execute MG3EOTCreateOptimizedTables;
COMMIT;
execute MG3ECreateOptableViews;
COMMIT;

--PASSO 7
execute G3EOneTable.InstallOneTable('GC_LANDUSE');
COMMIT;
execute G3EOneTable.InstallOneTable('GC_LANDUSE_P');
COMMIT;

--PASSO 8
execute LTT_Role.Create_Public_Synonym;
COMMIT;
execute LTT_Role.Create_Component_View_Synonym;
COMMIT;
execute LTT_Role.Grant_Privs_To_Role;
COMMIT;

--DE AGORA EM DIANTE SEGUE FORA DO ROTEIRO, QUE INCLUI CRIAR REGRAS DE ESTILO, INSERIR NA LEGENDA E ETC...
--1 CRIAR REGRA DE ESTILOS
--INSERIR NA G3E_POINTSTYLE
--LINHA DA RAILWAY
insert into G3E_LINESTYLE (G3E_SNO, G3E_USERNAME, G3E_COLOR, G3E_WIDTH, G3E_OFFSET, G3E_STARTSYMBOL, G3E_ENDSYMBOL, G3E_STROKEPATTERN, G3E_PLOTREDLINE, G3E_EDITDATE, G3E_STYLEUNITS, G3E_TRANSLUCENCY)
values (215000011, 'Polygon Landuse', 128, 1, 0, null, null, 100, 1, SYSDATE, 1, null);
commit;

--INSERIR NA G3E_STYLERULE
insert into g3e_stylerule (G3E_SRROWNO, G3E_SRNO, G3E_RULE, G3E_FILTER, G3E_FILTERORDINAL, G3E_SNO, G3E_EDITDATE, G3E_DESCRIPTION, G3E_LOCALECOMMENT)
values (215000001, 2150001, 'Polygon Landuse', null, 99, 215000011, SYSDATE, 'Polygon Landuse', null);
COMMIT;

--2 INSERIR NA LEGENDENTRY
-- insert into g3e_legendentry (G3E_LENO, G3E_LEGENDENTRY, G3E_USERNAME, G3E_VNO, G3E_SRNO, G3E_LRNO, G3E_EDITDATE, G3E_ROLE, G3E_LAYERNAME, G3E_LOCALECOMMENT, G3E_TRANSLUCENCY, G3E_FILLTRANSLUCENCY)
INSERT INTO G3E_LEGENDENTRY VALUES(21510, 'VGC_LANDUSE_P', 'Polygon Landuse', 21510, 2150001, NULL, SYSDATE, 'EVERYONE', NULL, NULL, NULL, NULL);
COMMIT;

--Referenciando a G3E_leno na componentview
UPDATE G3E_COMPONENTVIEWDEFINITION SET G3E_LENO = 21510 WHERE G3E_VNO = 21510;
COMMIT;


--3 INSERIR NO CONTROLE DE EXIBIÇÃO DE LEGENDA
INSERT INTO G3E_LEGGEO_DEFDSP VALUES('Landuse', 'Landuse', 2, (select max(g3e_ordinal) + 1 from G3E_LEGGEO_DEFDSP), 0, sysdate, (select max(g3e_dcrowno) + 1 from G3E_LEGGEO_DEFDSP), NULL, NULL);
COMMIT;

--3 INSERIR NO CONTROLE DE EXIBIÇÃO DE LEGENDA
INSERT INTO G3E_LEGGEO_DEFDSP VALUES('VGC_LANDUSE_P', 'Polygon Landuse', 3, (select max(g3e_ordinal) + 1 from G3E_LEGGEO_DEFDSP), 1, sysdate, (select max(g3e_dcrowno) + 1 from G3E_LEGGEO_DEFDSP), NULL, NULL);
COMMIT;

--4 INSERIR NA LEGENDA
INSERT INTO G3E_LEGGEO_DEFAULT VALUES(21510, NULL, 19, SYSDATE);
COMMIT;
--UPDATE NA G3E_LEGGEO_DEFAU
UPDATE G3E_LEGGEO_DEFAU SET G3E_DISPLAYSCALEMIN = 1, G3E_DISPLAYSCALEMAX = 40000 WHERE G3E_LENO = 21510;
COMMIT;

--5 INSERIR NA INSERÇÃO DE FEATURE

INSERT INTO G3E_PLACEMENTSELECTION VALUES(NULL, 21500, 'Landuse', 2, (select max(g3e_ordinal) + 1 from g3e_placementselection), sysdate, (select max(g3e_psrowno) + 1 from G3E_PLACEMENTSELECTION), NULL, (select max(g3e_iconordinal) + 1 from G3E_PLACEMENTSELECTION), 'EVERYONE');
COMMIT;

--6 INSERIR DIALOGSTAB
INSERT INTO G3E_DIALOGTAB VALUES (2150001, 'Landuse', 'V', SYSDATE, NULL ,NULL, NULL, NULL);
INSERT INTO G3E_DIALOGTAB VALUES (2150002, 'Landuse', 'V', SYSDATE, NULL ,NULL, NULL, NULL);
INSERT INTO G3E_DIALOGTAB VALUES (2150003, 'Landuse', 'V', SYSDATE, NULL ,NULL, NULL, NULL);
COMMIT;

--7 INSERIR DIALOG
INSERT INTO G3E_DIALOG VALUES(2150001, 21501, 'Placement', 21500, 1, null, 2150001, sysdate);
commit;
INSERT INTO G3E_DIALOG VALUES(2150002, 21502, 'Edit', 21500, 2, null, 2150002, sysdate);
commit;
INSERT INTO G3E_DIALOG VALUES(2150003, 21503, 'Review', 21500, 3, null, 2150003, sysdate);
commit;

--8 INSERIR TABATTRIBUTES
--PLACEMENT
-- insert into g3e_tabattribute (G3E_TANO, G3E_ANO, G3E_ORDINAL, G3E_PNO, G3E_READONLY, G3E_DEFAULT, G3E_REFRESH, G3E_DTNO, G3E_FIELDVALUEFILTER, G3E_TRAVERSALANO, G3E_EDITDATE, G3E_TRIGGERPOPULATE, G3E_USEFILTERTOTRANSLATEKEY, G3E_FKQRINO, G3E_FKQARGGROUPNO)
insert into g3e_tabattribute values(215000101, 2150101, 1, NULL, 0, null, 1, 2150001, null, null, sysdate, 1, 0, null, null);
commit;

insert into g3e_tabattribute values(215000102, 2150102, 2, NULL, 0, null, 1, 2150001, null, null, sysdate, 1, 0, null, null);
commit;

insert into g3e_tabattribute values(215000103, 2151007, 3, NULL, 0, null, 1, 2150001, null, null, sysdate, 1, 0, null, null);
commit;


--EDIT
insert into g3e_tabattribute values(215000201, 2150101, 1, NULL, 0, null, 1, 2150002, null, null, sysdate, 1, 0, null, null);
commit;

insert into g3e_tabattribute values(215000202, 2150102, 2, NULL, 0, null, 1, 2150002, null, null, sysdate, 1, 0, null, null);
commit;

insert into g3e_tabattribute values(215000203, 2151007, 3, NULL, 0, null, 1, 2150002, null, null, sysdate, 1, 0, null, null);
commit;


--REVIEW
insert into g3e_tabattribute values(215000301, 2150101, 1, null, 1, null, 1, 2150003, null, null, sysdate, 0, 0, null, null);
commit;

insert into g3e_tabattribute values(215000302, 2150102, 2, null, 1, null, 1, 2150003, null, null, sysdate, 0, 0, null, null);
commit;

insert into g3e_tabattribute values(215000303, 2151007, 3, null, 1, null, 1, 2150003, null, null, sysdate, 0, 0, null, null);
commit;

--FIND
INSERT INTO G3E_FIND VALUES(G3E_FIND_SEQ.NEXTVAL, 21500, 21501, 2150102, 21510, 2151007, SYSDATE, 'EVERYONE');
INSERT INTO G3E_FIND VALUES(G3E_FIND_SEQ.NEXTVAL, 21500, 21501, 8012404, null, null, SYSDATE, 'EVERYONE');
COMMIT;


------------------------------------------------------------------------------------------------------------------------------------------------------------
-------------------------------------------------------------------NATURAL----------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------------------------------------------------------------



create table GC_NATURAL (
G3E_ID NUMBER(10,0),
G3E_FNO NUMBER(5,0),
G3E_CNO NUMBER(5,0),
G3E_FID NUMBER(10,0),
G3E_CID NUMBER(10,0),
OSM_ID VARCHAR2(11),
NAME_NATURAL VARCHAR2(100)
)
/

--Passo 1
--Criar Tabela de Componente Gráfico para a entidade Natural
create table GC_NATURAL_P (
G3E_ID NUMBER(10,0),
G3E_FNO NUMBER(5,0),
G3E_CNO NUMBER(5,0),
G3E_FID NUMBER(10,0),
G3E_CID NUMBER(10,0),
TYPE_NATURAL VARCHAR2(50),
G3E_GEOMETRY SDO_GEOMETRY
)
/

--insert into g3e_component (G3E_CNO, G3E_USERNAME, G3E_NAME, G3E_TOOLTIP, G3E_TYPE, G3E_GEOMETRYTYPE, G3E_TABLE, G3E_DETAIL, G3E_ALIGNMENTFIELD, G3E_DCNO, G3E_DTNO, G3E_GEOMETRYFIELD, G3E_SUBSETATTRIBUTE, G3E_EDITDATE, G3E_SUBTYPE, G3E_LOCALECOMMENT, G3E_LRNO, G3E_PARTITIONATTRIBUTE, G3E_LTT)
INSERT INTO G3E_COMPONENT VALUES (21601, 'Natural', 'GC_NATURAL','Natural', 1, NULL, 'GC_NATURAL', 0, NULL, 31, NULL, NULL, NULL, SYSDATE, NULL, NULL, NULL, NULL, 0);
COMMIT;

--PASSO 2
--INSERIR NA TABELA DE COMPONENTES
--RELACIONADO AO COMPONENTE GRÁFICO
-- insert into g3e_component (G3E_CNO, G3E_USERNAME, G3E_NAME, G3E_TOOLTIP, G3E_TYPE, G3E_GEOMETRYTYPE, G3E_TABLE, G3E_DETAIL, G3E_ALIGNMENTFIELD, G3E_DCNO, G3E_DTNO, G3E_GEOMETRYFIELD, G3E_SUBSETATTRIBUTE, G3E_EDITDATE, G3E_SUBTYPE, G3E_LOCALECOMMENT, G3E_LRNO, G3E_PARTITIONATTRIBUTE, G3E_LTT)
INSERT INTO G3E_COMPONENT VALUES (21610, 'Natural Polygon', 'GC_NATURAL_P','Natural Polygon', 8, 'PolygonGeometry', 'GC_NATURAL_P', 0, NULL, 31, NULL, 'G3E_GEOMETRY', NULL, SYSDATE, NULL, NULL, NULL, NULL, 0);
COMMIT;

--PASSO 3
--RELACIONAR O COMPONENTE COM UMA FEATURE
--insert into g3e_feature (G3E_FNO, G3E_USERNAME, G3E_TOOLTIP, G3E_PRIMARYGEOGRAPHICCNO, G3E_PRIMARYATTRIBUTECNO, G3E_DCNO, G3E_PRIMARYDETAILCNO, G3E_NUMBEROFNODES, G3E_IMPORTFEATURENAME, G3E_REPLACE, G3E_NAME, G3E_EDITDATE, G3E_LOCALECOMMENT, G3E_MERGE, G3E_CLASSIFICATIONANO, G3E_IDENTIFIERVIEW, G3E_BULKEDIT, G3E_ICONORDINAL, G3E_EDITROLE, G3E_SELECTROLE, G3E_DELETEROLE, G3E_RINO, G3E_RIARGGROUPNO, G3E_PRIMARYSCHEMCNO, G3E_SECONDARYSCHEMCNO, G3E_LABELSCHEMCNO)
INSERT INTO G3E_FEATURE VALUES (21600, 'Natural', 'Natural', 21610, 21601, 31, null, null, null, 0, null, sysdate, null, 1, null, null, 0, null, 'EVERYONE', 'EVERYONE', 'EVERYONE', NULL, NULL, NULL, NULL, NULL, 'EVERYONE');
COMMIT;

INSERT INTO G3E_FEATURECOMPONENT VALUES(21601, 21600, 21601, 1, 0, 0, 7, 1, NULL, NULL, 1, 1, 0, NULL, 1, SYSDATE, 1, 3, 4, 3, 1, NULL, 0, 0, NULL, NULL, 1, NULL, NULL, NULL, 1,  NULL, NULL, NULL, 0, NULL);
COMMIT;

--RELACIONADO AO COMPONENTE GRÁFICO
--insert into g3e_featurecomponent (G3E_FCNO, G3E_FNO, G3E_CNO, G3E_REQUIRED, G3E_REPEATING, G3E_AUTOREPEAT, G3E_PINO, G3E_ORDINAL, G3E_INTERFACEARGUMENT, G3E_DERIVEDFROMCNO, G3E_INSERTORDINAL, G3E_DELETEORDINAL, G3E_REFRESH, G3E_ALTERNATEREQUIREDCNO, G3E_REPLACE, G3E_EDITDATE, G3E_BREAKACTION, G3E_COMPONENTELIMINATION, G3E_COMPONENTASSIGNMENT, G3E_COMPONENTADJUSTMENT, G3E_GEOPROXIMITYTOLERANCE, G3E_BREAKLINEARCNO, G3E_ALTERNATEGEOGRAPHIC, G3E_ALTERNATEGEOORDINAL, G3E_RINO, G3E_RIARGGROUPNO, G3E_INCLUDEINPLACEMENT, G3E_MERGEMAXDISTANCE, G3E_MERGECOMMONPRECOND, G3E_MERGEPRECOND, G3E_MERGEOCCURRENCES, G3E_MERGERINO, G3E_MERGERIARGGROUPNO, G3E_CCNO, G3E_GENERATE, G3E_DETAILPLACEMENTCNO)
INSERT INTO G3E_FEATURECOMPONENT VALUES(21610, 21600, 21610, 1, 0, 0, 7, 2, NULL, NULL, 2, 2, 0, NULL, 1, SYSDATE, 1, 2, 2, 1, 1, NULL, 0, 0, NULL, NULL, 1, NULL, NULL, NULL, 1,  NULL, NULL, NULL, 0, NULL);
COMMIT;

--PASSO 4A
--CRIAR VIEWS DE COMPONENTE
CREATE OR REPLACE VIEW VGC_NATURAL_P AS
SELECT A.G3E_ID, A.G3E_FNO, A.G3E_CNO, A.G3E_FID, A.G3E_CID, A.TYPE_NATURAL, G3E_GEOMETRY FROM GC_NATURAL_P A
/

--PASSO 4B
--CRIAR DEFINIÇÕES DA VIEW
--INSERIR SEM G3E_LENO (1o NULL)
INSERT INTO G3E_COMPONENTVIEWDEFINITION VALUES(21610, 'VGC_NATURAL_P', 21600, 21610, NULL, NULL, SYSDATE, 0);
COMMIT;

INSERT INTO G3E_COMPONENTVIEWCOMPOSITION VALUES(216010, 21610, 21610, NULL, SYSDATE, 21600);
COMMIT;

--insert into g3e_attribute (G3E_ANO, G3E_CNO, G3E_VNO, G3E_FIELD, G3E_USERNAME, G3E_FORMAT, G3E_PRECISION, G3E_DOMAINTABLE, G3E_DOMAINFIELD, G3E_REQUIRED, G3E_FINO, G3E_FUNCTIONALORDINAL, G3E_FUNCTIONALTYPE, G3E_INTERFACEARGUMENT, G3E_TOOLTIP, G3E_FOREIGNKEYTABLE, G3E_FOREIGNKEYFIELD, G3E_HYPERTEXT, G3E_PNO, G3E_COPY, G3E_EXCLUDEFROMEDIT, G3E_DATATYPE, G3E_ADDITIONALREFFIELDS, G3E_IMPORTFIELD, G3E_EXCLUDEFROMREPLACE, G3E_EDITDATE, G3E_WIDTHINTWIPS, G3E_CATALOGCOPYVALUE, G3E_LOCALECOMMENT, G3E_BREAKCOPY, G3E_COPYATTRIBUTE, G3E_WRAPTEXT, G3E_MERGEEXPRESSION, G3E_RINO, G3E_RIARGGROUPNO, G3E_UNIQUE, G3E_COMPRELATIVEANO, G3E_FUNCTIONALVALIDATION, G3E_ROLE, G3E_FKQRINO, G3E_FKQARGGROUPNO, G3E_DESCRIPTION)
INSERT INTO G3E_ATTRIBUTE VALUES(2160101, 21601, NULL, 'OSM_ID', 'ID Open Street Maps', NULL, NULL, NULL, NULL, 0,
NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 0, 0, 10, NULL, NULL, 0, SYSDATE,  NULL, NULL, NULL, 0, 0, 1,
NULL, NULL, NULL, 0, NULL, 1, 'EVERYONE', NULL, NULL, NULL);
COMMIT;

INSERT INTO G3E_ATTRIBUTE VALUES(2160102, 21601, NULL, 'NAME_NATURAL', 'Name', NULL, NULL, NULL, NULL, 0,
NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 0, 0, 10, NULL, NULL, 0, SYSDATE,  NULL, NULL, NULL, 0, 0, 1,
NULL, NULL, NULL, 0, NULL, 1, 'EVERYONE', NULL, NULL, NULL);
COMMIT;


--PASSO 5
--CRIAR ATRIBUTOS
--insert into g3e_attribute (G3E_ANO, G3E_CNO, G3E_VNO, G3E_FIELD, G3E_USERNAME, G3E_FORMAT, G3E_PRECISION, G3E_DOMAINTABLE, G3E_DOMAINFIELD, G3E_REQUIRED, G3E_FINO, G3E_FUNCTIONALORDINAL, G3E_FUNCTIONALTYPE, G3E_INTERFACEARGUMENT, G3E_TOOLTIP, G3E_FOREIGNKEYTABLE, G3E_FOREIGNKEYFIELD, G3E_HYPERTEXT, G3E_PNO, G3E_COPY, G3E_EXCLUDEFROMEDIT, G3E_DATATYPE, G3E_ADDITIONALREFFIELDS, G3E_IMPORTFIELD, G3E_EXCLUDEFROMREPLACE, G3E_EDITDATE, G3E_WIDTHINTWIPS, G3E_CATALOGCOPYVALUE, G3E_LOCALECOMMENT, G3E_BREAKCOPY, G3E_COPYATTRIBUTE, G3E_WRAPTEXT, G3E_MERGEEXPRESSION, G3E_RINO, G3E_RIARGGROUPNO, G3E_UNIQUE, G3E_COMPRELATIVEANO, G3E_FUNCTIONALVALIDATION, G3E_ROLE, G3E_FKQRINO, G3E_FKQARGGROUPNO, G3E_DESCRIPTION)
INSERT INTO G3E_ATTRIBUTE VALUES(2161001, 21610, NULL, 'G3E_ID', 'LTT ID GComms', 'General Number', NULL, NULL, NULL, 0,
NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 0, 0, 4, NULL, NULL, 0, SYSDATE,  NULL, NULL, NULL, 0, 0, 1,
NULL, NULL, NULL, 0, NULL, 1, 'EVERYONE', NULL, NULL, NULL);
COMMIT;

INSERT INTO G3E_ATTRIBUTE VALUES(2161002, 21610, NULL, 'G3E_FNO', 'Número da Entidade GComms', 'General Number', NULL, NULL, NULL, 0,
NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 0, 0, 4, NULL, NULL, 0, SYSDATE,  NULL, NULL, NULL, 0, 0, 1,
NULL, NULL, NULL, 0, NULL, 1, 'EVERYONE', NULL, NULL, NULL);
COMMIT;

INSERT INTO G3E_ATTRIBUTE VALUES(2161003, 21610, NULL, 'G3E_CNO', ' Número do Componente GComms', 'General Number', NULL, NULL, NULL, 0,
NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 0, 0, 4, NULL, NULL, 0, SYSDATE,  NULL, NULL, NULL, 0, 0, 1,
NULL, NULL, NULL, 0, NULL, 1, 'EVERYONE', NULL, NULL, NULL);
COMMIT;

INSERT INTO G3E_ATTRIBUTE VALUES(2161004, 21610, NULL, 'G3E_FID', 'ID da Entidade GComms', 'General Number', NULL, NULL, NULL, 0,
NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 0, 0, 4, NULL, NULL, 0, SYSDATE,  NULL, NULL, NULL, 0, 0, 1,
NULL, NULL, NULL, 0, NULL, 1, 'EVERYONE', NULL, NULL, NULL);
COMMIT;

INSERT INTO G3E_ATTRIBUTE VALUES(2161005, 21610, NULL, 'G3E_CID', 'ID do Componente GComms', 'General Number', NULL, NULL, NULL, 0,
NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 0, 0, 4, NULL, NULL, 0, SYSDATE,  NULL, NULL, NULL, 0, 0, 1,
NULL, NULL, NULL, 0, NULL, 1, 'EVERYONE', NULL, NULL, NULL);
COMMIT;

INSERT INTO G3E_ATTRIBUTE VALUES(2161006, 21610, NULL, 'G3E_GEOMETRY', 'Geometria GComms', '', NULL, NULL, NULL, 0,
NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 0, 0, 32, NULL, NULL, 0, SYSDATE,  NULL, NULL, NULL, 1, 0, 1,
NULL, NULL, NULL, 0, NULL, 1, 'EVERYONE', NULL, NULL, NULL);
COMMIT;

INSERT INTO G3E_ATTRIBUTE VALUES(2161007, 21610, NULL, 'TYPE_NATURAL', 'Type', NULL, NULL, NULL, NULL, 0,
NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 0, 0, 10, NULL, NULL, 0, SYSDATE,  NULL, NULL, NULL, 0, 0, 1,
NULL, NULL, NULL, 0, NULL, 1, 'EVERYONE', NULL, NULL, NULL);
COMMIT;

--PASSO 6
execute MG3ElanguageSubTableUtils.SynchronizeSubTables;
COMMIT;
execute MG3EOTCreateOptimizedTables;
COMMIT;
execute MG3ECreateOptableViews;
COMMIT;

--PASSO 7
execute G3EOneTable.InstallOneTable('GC_NATURAL');
COMMIT;
execute G3EOneTable.InstallOneTable('GC_NATURAL_P');
COMMIT;

--PASSO 8
execute LTT_Role.Create_Public_Synonym;
COMMIT;
execute LTT_Role.Create_Component_View_Synonym;
COMMIT;
execute LTT_Role.Grant_Privs_To_Role;
COMMIT;

--DE AGORA EM DIANTE SEGUE FORA DO ROTEIRO, QUE INCLUI CRIAR REGRAS DE ESTILO, INSERIR NA LEGENDA E ETC...
--1 CRIAR REGRA DE ESTILOS
--INSERIR NA G3E_POINTSTYLE
--LINHA DA RAILWAY
insert into G3E_LINESTYLE (G3E_SNO, G3E_USERNAME, G3E_COLOR, G3E_WIDTH, G3E_OFFSET, G3E_STARTSYMBOL, G3E_ENDSYMBOL, G3E_STROKEPATTERN, G3E_PLOTREDLINE, G3E_EDITDATE, G3E_STYLEUNITS, G3E_TRANSLUCENCY)
values (216000011, 'Polygon Natural', 32768, 1, 0, null, null, 100, 1, SYSDATE, 1, null);
commit;

--INSERIR NA G3E_STYLERULE
insert into g3e_stylerule (G3E_SRROWNO, G3E_SRNO, G3E_RULE, G3E_FILTER, G3E_FILTERORDINAL, G3E_SNO, G3E_EDITDATE, G3E_DESCRIPTION, G3E_LOCALECOMMENT)
values (216000001, 2160001, 'Polygon Natural', null, 99, 216000011, SYSDATE, 'Polygon Natural', null);
COMMIT;

--2 INSERIR NA LEGENDENTRY
-- insert into g3e_legendentry (G3E_LENO, G3E_LEGENDENTRY, G3E_USERNAME, G3E_VNO, G3E_SRNO, G3E_LRNO, G3E_EDITDATE, G3E_ROLE, G3E_LAYERNAME, G3E_LOCALECOMMENT, G3E_TRANSLUCENCY, G3E_FILLTRANSLUCENCY)
INSERT INTO G3E_LEGENDENTRY VALUES(21610, 'VGC_NATURAL_P', 'Polygon Natural', 21610, 2160001, NULL, SYSDATE, 'EVERYONE', NULL, NULL, NULL, NULL);
COMMIT;

--Referenciando a G3E_leno na componentview
UPDATE G3E_COMPONENTVIEWDEFINITION SET G3E_LENO = 21610 WHERE G3E_VNO = 21610;
COMMIT;


--3 INSERIR NO CONTROLE DE EXIBIÇÃO DE LEGENDA
INSERT INTO G3E_LEGGEO_DEFDSP VALUES('Natural', 'Natural', 2, (select max(g3e_ordinal) + 1 from G3E_LEGGEO_DEFDSP), 0, sysdate, (select max(g3e_dcrowno) + 1 from G3E_LEGGEO_DEFDSP), NULL, NULL);
COMMIT;

--3 INSERIR NO CONTROLE DE EXIBIÇÃO DE LEGENDA
INSERT INTO G3E_LEGGEO_DEFDSP VALUES('VGC_NATURAL_P', 'Polygon Natural', 3, (select max(g3e_ordinal) + 1 from G3E_LEGGEO_DEFDSP), 1, sysdate, (select max(g3e_dcrowno) + 1 from G3E_LEGGEO_DEFDSP), NULL, NULL);
COMMIT;

--4 INSERIR NA LEGENDA
INSERT INTO G3E_LEGGEO_DEFAULT VALUES(21610, NULL, 19, SYSDATE);
COMMIT;
--UPDATE NA G3E_LEGGEO_DEFAU
UPDATE G3E_LEGGEO_DEFAU SET G3E_DISPLAYSCALEMIN = 1, G3E_DISPLAYSCALEMAX = 40000 WHERE G3E_LENO = 21610;
COMMIT;

--5 INSERIR NA INSERÇÃO DE FEATURE

INSERT INTO G3E_PLACEMENTSELECTION VALUES(NULL, 21600, 'Natural', 2, (select max(g3e_ordinal) + 1 from g3e_placementselection), sysdate, (select max(g3e_psrowno) + 1 from G3E_PLACEMENTSELECTION), NULL, (select max(g3e_iconordinal) + 1 from G3E_PLACEMENTSELECTION), 'EVERYONE');
COMMIT;

--6 INSERIR DIALOGSTAB
INSERT INTO G3E_DIALOGTAB VALUES (2160001, 'Natural', 'V', SYSDATE, NULL ,NULL, NULL, NULL);
INSERT INTO G3E_DIALOGTAB VALUES (2160002, 'Natural', 'V', SYSDATE, NULL ,NULL, NULL, NULL);
INSERT INTO G3E_DIALOGTAB VALUES (2160003, 'Natural', 'V', SYSDATE, NULL ,NULL, NULL, NULL);
COMMIT;

--7 INSERIR DIALOG
INSERT INTO G3E_DIALOG VALUES(2160001, 21601, 'Placement', 21600, 1, null, 2160001, sysdate);
commit;
INSERT INTO G3E_DIALOG VALUES(2160002, 21602, 'Edit', 21600, 2, null, 2160002, sysdate);
commit;
INSERT INTO G3E_DIALOG VALUES(2160003, 21603, 'Review', 21600, 3, null, 2160003, sysdate);
commit;

--8 INSERIR TABATTRIBUTES
--PLACEMENT
-- insert into g3e_tabattribute (G3E_TANO, G3E_ANO, G3E_ORDINAL, G3E_PNO, G3E_READONLY, G3E_DEFAULT, G3E_REFRESH, G3E_DTNO, G3E_FIELDVALUEFILTER, G3E_TRAVERSALANO, G3E_EDITDATE, G3E_TRIGGERPOPULATE, G3E_USEFILTERTOTRANSLATEKEY, G3E_FKQRINO, G3E_FKQARGGROUPNO)
insert into g3e_tabattribute values(216000101, 2160101, 1, NULL, 0, null, 1, 2160001, null, null, sysdate, 1, 0, null, null);
commit;

insert into g3e_tabattribute values(216000102, 2160102, 2, NULL, 0, null, 1, 2160001, null, null, sysdate, 1, 0, null, null);
commit;

insert into g3e_tabattribute values(216000103, 2161007, 3, NULL, 0, null, 1, 2160001, null, null, sysdate, 1, 0, null, null);
commit;

--EDIT
insert into g3e_tabattribute values(216000201, 2160101, 1, NULL, 0, null, 1, 2160002, null, null, sysdate, 1, 0, null, null);
commit;

insert into g3e_tabattribute values(216000202, 2160102, 2, NULL, 0, null, 1, 2160002, null, null, sysdate, 1, 0, null, null);
commit;

insert into g3e_tabattribute values(216000203, 2161007, 3, NULL, 0, null, 1, 2160002, null, null, sysdate, 1, 0, null, null);
commit;

--REVIEW
insert into g3e_tabattribute values(216000301, 2160101, 1, null, 1, null, 1, 2160003, null, null, sysdate, 0, 0, null, null);
commit;

insert into g3e_tabattribute values(216000302, 2160102, 2, null, 1, null, 1, 2160003, null, null, sysdate, 0, 0, null, null);
commit;

insert into g3e_tabattribute values(216000303, 2161007, 3, null, 1, null, 1, 2160003, null, null, sysdate, 0, 0, null, null);
commit;

--FIND
INSERT INTO G3E_FIND VALUES(G3E_FIND_SEQ.NEXTVAL, 21600, 21601, 2160102, 21610, 2161007, SYSDATE, 'EVERYONE');
INSERT INTO G3E_FIND VALUES(G3E_FIND_SEQ.NEXTVAL, 21600, 21601, 8012409, null, null, SYSDATE, 'EVERYONE');
COMMIT;

spool off;
