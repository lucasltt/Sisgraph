--Script de criação de uma entidade para o Modelo de dados do G/Tech 10
--Script criado com base no tópico do help "Defining or Modifying a Component in a Existing Data Model"
--Thiago Narezi Sanchez	08/10/2013

execute gao_fibermetadata.CreateAllSubTables();
update g3e_generalparameter set g3e_value = 0 where g3e_gpno = 163;
commit;

--Criar Tabela de Componente de Atributos para a entidade País
create table GC_PAIS (
G3E_ID NUMBER(10,0),
G3E_FNO NUMBER(5,0),
G3E_CNO NUMBER(5,0),
G3E_FID NUMBER(10,0),
G3E_CID NUMBER(10,0),
ipid NUMBER(10),
nome_pais VARCHAR2(25),
sigla_pais VARCHAR2(2)
)
/

--Criar Tabela de Componente Gráfico para a entidade País
create table GC_PAIS_P (
G3E_ID NUMBER(10,0),
G3E_FNO NUMBER(5,0),
G3E_CNO NUMBER(5,0),
G3E_FID NUMBER(10,0),
G3E_CID NUMBER(10,0),
ID1 FLOAT,
G3E_GEOMETRY SDO_GEOMETRY
)
/

--insert into g3e_component (G3E_CNO, G3E_USERNAME, G3E_NAME, G3E_TOOLTIP, G3E_TYPE, G3E_GEOMETRYTYPE, G3E_TABLE, G3E_DETAIL, G3E_ALIGNMENTFIELD, G3E_DCNO, G3E_DTNO, G3E_GEOMETRYFIELD, G3E_SUBSETATTRIBUTE, G3E_EDITDATE, G3E_SUBTYPE, G3E_LOCALECOMMENT, G3E_LRNO, G3E_PARTITIONATTRIBUTE, G3E_LTT)
INSERT INTO G3E_COMPONENT VALUES (20101, 'País', 'GC_PAIS','País', 1, NULL, 'GC_PAIS', 0, NULL, 31, NULL, NULL, NULL, SYSDATE, NULL, NULL, NULL, NULL, 0);
COMMIT;

--PASSO 2
--INSERIR NA TABELA DE COMPONENTES
--RELACIONADO AO COMPONENTE GRÁFICO
-- insert into g3e_component (G3E_CNO, G3E_USERNAME, G3E_NAME, G3E_TOOLTIP, G3E_TYPE, G3E_GEOMETRYTYPE, G3E_TABLE, G3E_DETAIL, G3E_ALIGNMENTFIELD, G3E_DCNO, G3E_DTNO, G3E_GEOMETRYFIELD, G3E_SUBSETATTRIBUTE, G3E_EDITDATE, G3E_SUBTYPE, G3E_LOCALECOMMENT, G3E_LRNO, G3E_PARTITIONATTRIBUTE, G3E_LTT)
INSERT INTO G3E_COMPONENT VALUES (20110, 'Polígono do País', 'GC_PAIS_P','Polígono do País', 8, 'PolygonGeometry', 'GC_PAIS_P', 0, NULL, 31, NULL, 'G3E_GEOMETRY', NULL, SYSDATE, NULL, NULL, NULL, NULL, 0);
COMMIT;

--PASSO 3
--RELACIONAR O COMPONENTE COM UMA FEATURE
--insert into g3e_feature (G3E_FNO, G3E_USERNAME, G3E_TOOLTIP, G3E_PRIMARYGEOGRAPHICCNO, G3E_PRIMARYATTRIBUTECNO, G3E_DCNO, G3E_PRIMARYDETAILCNO, G3E_NUMBEROFNODES, G3E_IMPORTFEATURENAME, G3E_REPLACE, G3E_NAME, G3E_EDITDATE, G3E_LOCALECOMMENT, G3E_MERGE, G3E_CLASSIFICATIONANO, G3E_IDENTIFIERVIEW, G3E_BULKEDIT, G3E_ICONORDINAL, G3E_EDITROLE, G3E_SELECTROLE, G3E_DELETEROLE, G3E_RINO, G3E_RIARGGROUPNO, G3E_PRIMARYSCHEMCNO, G3E_SECONDARYSCHEMCNO, G3E_LABELSCHEMCNO)
INSERT INTO G3E_FEATURE VALUES (20100, 'País', 'País', 20110, 20101, 31, null, null, null, 0, null, sysdate, null, 1, null, null, 0, null, 'EVERYONE', 'EVERYONE', 'EVERYONE', NULL, NULL, NULL, NULL, NULL);
COMMIT;

INSERT INTO G3E_FEATURECOMPONENT VALUES(20101, 20100, 20101, 1, 0, 0, 7, 2, NULL, NULL, 2, 2, 0, NULL, 1, SYSDATE, 1, 3, 4, 3, 1, NULL, 0, 0, NULL, NULL, 1, NULL, NULL, NULL, 1,  NULL, NULL, NULL, 0, NULL);
COMMIT;

--RELACIONADO AO COMPONENTE GRÁFICO
--insert into g3e_featurecomponent (G3E_FCNO, G3E_FNO, G3E_CNO, G3E_REQUIRED, G3E_REPEATING, G3E_AUTOREPEAT, G3E_PINO, G3E_ORDINAL, G3E_INTERFACEARGUMENT, G3E_DERIVEDFROMCNO, G3E_INSERTORDINAL, G3E_DELETEORDINAL, G3E_REFRESH, G3E_ALTERNATEREQUIREDCNO, G3E_REPLACE, G3E_EDITDATE, G3E_BREAKACTION, G3E_COMPONENTELIMINATION, G3E_COMPONENTASSIGNMENT, G3E_COMPONENTADJUSTMENT, G3E_GEOPROXIMITYTOLERANCE, G3E_BREAKLINEARCNO, G3E_ALTERNATEGEOGRAPHIC, G3E_ALTERNATEGEOORDINAL, G3E_RINO, G3E_RIARGGROUPNO, G3E_INCLUDEINPLACEMENT, G3E_MERGEMAXDISTANCE, G3E_MERGECOMMONPRECOND, G3E_MERGEPRECOND, G3E_MERGEOCCURRENCES, G3E_MERGERINO, G3E_MERGERIARGGROUPNO, G3E_CCNO, G3E_GENERATE, G3E_DETAILPLACEMENTCNO)
INSERT INTO G3E_FEATURECOMPONENT VALUES(20110, 20100, 20110, 1, 0, 0, 7, 1, NULL, NULL, 1, 1, 0, NULL, 1, SYSDATE, 1, 2, 2, 1, 1, NULL, 0, 0, NULL, NULL, 1, NULL, NULL, NULL, 1,  NULL, NULL, NULL, 0, NULL);
COMMIT;

--PASSO 4A
--CRIAR VIEWS DE COMPONENTE
CREATE OR REPLACE VIEW VGC_PAIS_P AS
SELECT "G3E_ID", "G3E_FNO", "G3E_CNO", "G3E_FID", "G3E_CID", "ID1", "G3E_GEOMETRY" FROM GC_PAIS_P
/

--PASSO 4B
--CRIAR DEFINIÇÕES DA VIEW
--INSERIR SEM G3E_LENO (1o NULL)
INSERT INTO G3E_COMPONENTVIEWDEFINITION VALUES(20110, 'VGC_PAIS_P', 20100, 20110, NULL, NULL, SYSDATE, 0);
COMMIT;

INSERT INTO G3E_COMPONENTVIEWCOMPOSITION VALUES(200110, 20110, 20110, NULL, SYSDATE, 20100);
COMMIT;

--INSERIR NA G3E_PICKLIST
insert into g3e_picklist (G3E_PNO, G3E_USERNAME, G3E_TABLE, G3E_KEYFIELD, G3E_VALUEFIELD, G3E_VALIDATION, G3E_FILTER, G3E_ADDITIONALFIELDS, G3E_EDITDATE, G3E_LOCALECOMMENT, G3E_ORDERBYKEY, G3E_PUBLISH, G3E_ADDITIONALPUBLISHFIELDS)
values (20101, 'PAIS NOME.REF_GE_PAIS', 'REF_GE_PAIS', 'NOME_PAIS', 'NOME_PAIS', 'G3ERestricted', null, null, SYSDATE, null, null, 0, null);
commit;

insert into g3e_picklist (G3E_PNO, G3E_USERNAME, G3E_TABLE, G3E_KEYFIELD, G3E_VALUEFIELD, G3E_VALIDATION, G3E_FILTER, G3E_ADDITIONALFIELDS, G3E_EDITDATE, G3E_LOCALECOMMENT, G3E_ORDERBYKEY, G3E_PUBLISH, G3E_ADDITIONALPUBLISHFIELDS)
values (20102, 'PAIS SIGLA.REF_GE_PAIS', 'REF_GE_PAIS', 'SIGLA_PAIS', 'SIGLA_PAIS', 'G3ERestricted', null, null, SYSDATE, null, null, 0, null);
commit;

INSERT INTO G3E_ATTRIBUTE VALUES(2010101, 20101, NULL, 'NOME_PAIS', 'Nome do país', NULL, NULL, NULL, NULL, 0,
NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 20101, 0, 0, 10, NULL, NULL, 0, SYSDATE,  NULL, NULL, NULL, 0, 0, 1,
NULL, NULL, NULL, 0, NULL, 1, 'EVERYONE', NULL, NULL, NULL);
COMMIT;

INSERT INTO G3E_ATTRIBUTE VALUES(2010102, 20101, NULL, 'SIGLA_PAIS', 'Sigla do país', NULL, NULL, NULL, NULL, 0,
NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 20102, 0, 0, 10, NULL, NULL, 0, SYSDATE,  NULL, NULL, NULL, 0, 0, 1,
NULL, NULL, NULL, 0, NULL, 1, 'EVERYONE', NULL, NULL, NULL);
COMMIT;

--PASSO 5
--CRIAR ATRIBUTOS
--insert into g3e_attribute (G3E_ANO, G3E_CNO, G3E_VNO, G3E_FIELD, G3E_USERNAME, G3E_FORMAT, G3E_PRECISION, G3E_DOMAINTABLE, G3E_DOMAINFIELD, G3E_REQUIRED, G3E_FINO, G3E_FUNCTIONALORDINAL, G3E_FUNCTIONALTYPE, G3E_INTERFACEARGUMENT, G3E_TOOLTIP, G3E_FOREIGNKEYTABLE, G3E_FOREIGNKEYFIELD, G3E_HYPERTEXT, G3E_PNO, G3E_COPY, G3E_EXCLUDEFROMEDIT, G3E_DATATYPE, G3E_ADDITIONALREFFIELDS, G3E_IMPORTFIELD, G3E_EXCLUDEFROMREPLACE, G3E_EDITDATE, G3E_WIDTHINTWIPS, G3E_CATALOGCOPYVALUE, G3E_LOCALECOMMENT, G3E_BREAKCOPY, G3E_COPYATTRIBUTE, G3E_WRAPTEXT, G3E_MERGEEXPRESSION, G3E_RINO, G3E_RIARGGROUPNO, G3E_UNIQUE, G3E_COMPRELATIVEANO, G3E_FUNCTIONALVALIDATION, G3E_ROLE, G3E_FKQRINO, G3E_FKQARGGROUPNO, G3E_DESCRIPTION)
INSERT INTO G3E_ATTRIBUTE VALUES(2001101, 20110, NULL, 'G3E_ID', 'LTT ID GComms', 'General Number', NULL, NULL, NULL, 0,
NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 0, 0, 4, NULL, NULL, 0, SYSDATE,  NULL, NULL, NULL, 0, 0, 1,
NULL, NULL, NULL, 0, NULL, 1, 'EVERYONE', NULL, NULL, NULL);
COMMIT;

INSERT INTO G3E_ATTRIBUTE VALUES(2001102, 20110, NULL, 'G3E_FNO', 'Número da Entidade GComms', 'General Number', NULL, NULL, NULL, 0,
NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 0, 0, 4, NULL, NULL, 0, SYSDATE,  NULL, NULL, NULL, 0, 0, 1,
NULL, NULL, NULL, 0, NULL, 1, 'EVERYONE', NULL, NULL, NULL);
COMMIT;

INSERT INTO G3E_ATTRIBUTE VALUES(2001103, 20110, NULL, 'G3E_CNO', ' Número do Componente GComms', 'General Number', NULL, NULL, NULL, 0,
NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 0, 0, 4, NULL, NULL, 0, SYSDATE,  NULL, NULL, NULL, 0, 0, 1,
NULL, NULL, NULL, 0, NULL, 1, 'EVERYONE', NULL, NULL, NULL);
COMMIT;

INSERT INTO G3E_ATTRIBUTE VALUES(2001104, 20110, NULL, 'G3E_FID', 'ID da Entidade GComms', 'General Number', NULL, NULL, NULL, 0,
NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 0, 0, 4, NULL, NULL, 0, SYSDATE,  NULL, NULL, NULL, 0, 0, 1,
NULL, NULL, NULL, 0, NULL, 1, 'EVERYONE', NULL, NULL, NULL);
COMMIT;

INSERT INTO G3E_ATTRIBUTE VALUES(2001105, 20110, NULL, 'G3E_CID', 'ID do Componente GComms', 'General Number', NULL, NULL, NULL, 0,
NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 0, 0, 4, NULL, NULL, 0, SYSDATE,  NULL, NULL, NULL, 0, 0, 1,
NULL, NULL, NULL, 0, NULL, 1, 'EVERYONE', NULL, NULL, NULL);
COMMIT;

INSERT INTO G3E_ATTRIBUTE VALUES(2001106, 20110, NULL, 'ID1', 'ID', 'General Number', NULL, NULL, NULL, 0,
NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 0, 0, 4, NULL, NULL, 0, SYSDATE,  NULL, NULL, NULL, 0, 0, 1,
NULL, NULL, NULL, 0, NULL, 1, 'EVERYONE', NULL, NULL, NULL);
COMMIT;

INSERT INTO G3E_ATTRIBUTE VALUES(2001107, 20110, NULL, 'G3E_GEOMETRY', 'Geometria GComms', '', NULL, NULL, NULL, 0,
NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 0, 0, 32, NULL, NULL, 0, SYSDATE,  NULL, NULL, NULL, 1, 0, 1,
NULL, NULL, NULL, 0, NULL, 1, 'EVERYONE', NULL, NULL, NULL);
COMMIT;

--PASSO 6
execute MG3ElanguageSubTableUtils.SynchronizeSubTables;
COMMIT;
execute MG3EOTCreateOptimizedTables;
COMMIT;
execute MG3ECreateOptableViews;
COMMIT;

--PASSO 7
execute G3EOneTable.InstallOneTable('GC_PAIS_P');
execute G3EOneTable.InstallOneTable('GC_PAIS');
COMMIT;

--PASSO 8
execute LTT_Role.Create_Public_Synonym;
COMMIT;
execute LTT_Role.Create_Component_View_Synonym;
COMMIT;
execute LTT_Role.Grant_Privs_To_Role;
COMMIT;

--DE AGORA EM DIANTE SEGUE FORA DO ROTEIRO, QUE INCLUI CRIAR REGRAS DE ESTILO, INSERIR NA LEGENDA E ETC...
--1 CRIAR REGRA DE ESTILOS
--INSERIR NA G3E_LINESTYLE
insert into G3E_LINESTYLE (G3E_SNO, G3E_USERNAME, G3E_COLOR, G3E_WIDTH, G3E_OFFSET, G3E_STARTSYMBOL, G3E_ENDSYMBOL, G3E_STROKEPATTERN, G3E_PLOTREDLINE, G3E_EDITDATE, G3E_STYLEUNITS, G3E_TRANSLUCENCY)
values (201000011, 'Linha do País', 5296274, 1, 0, null, null, null, 1, SYSDATE, 1, null);
COMMIT;

--INSERIR NA G3E_AREASTYLE
insert into G3E_AREASTYLE (G3E_SNO, G3E_USERNAME, G3E_BACKCOLOR, G3E_BOUNDARY, G3E_BOUNDARYON, G3E_FILLMODE, G3E_FILLTYPE, G3E_FORECOLOR, G3E_HATCHSPACING, G3E_HATCHWIDTH, G3E_PLOTREDLINE, G3E_EDITDATE, G3E_BACKTRANSLUCENCY, G3E_FORETRANSLUCENCY, G3E_STYLEUNITS)
values (201000001, 'Polígono do País', -3, 201000011, 1, 0, 0, -3, 5, 8, 1, SYSDATE, 100, 100, 1);
COMMIT;

--INSERIR NA G3E_STYLERULE
insert into g3e_stylerule (G3E_SRROWNO, G3E_SRNO, G3E_RULE, G3E_FILTER, G3E_FILTERORDINAL, G3E_SNO, G3E_EDITDATE, G3E_DESCRIPTION, G3E_LOCALECOMMENT)
values (201000001, 2010001, 'Polígono do País', null, 1, 201000001, SYSDATE, 'Polígono do País', null);
COMMIT;

--2 INSERIR NA LEGENDENTRY
-- insert into g3e_legendentry (G3E_LENO, G3E_LEGENDENTRY, G3E_USERNAME, G3E_VNO, G3E_SRNO, G3E_LRNO, G3E_EDITDATE, G3E_ROLE, G3E_LAYERNAME, G3E_LOCALECOMMENT, G3E_TRANSLUCENCY, G3E_FILLTRANSLUCENCY)
INSERT INTO G3E_LEGENDENTRY VALUES(20110, 'VGC_PAIS_P', 'Polígono do País', 20110, 2010001, NULL, SYSDATE, 'EVERYONE', NULL, NULL, NULL, NULL);
COMMIT;

--3 INSERIR NO CONTROLE DE EXIBIÇÃO DE LEGENDA
INSERT INTO G3E_LEGGEO_DEFDSP VALUES('País', 'País', 1, 350, 0, sysdate, (select max(g3e_dcrowno) + 1 from G3E_LEGGEO_DEFDSP), NULL, NULL);
COMMIT;

--3 INSERIR NO CONTROLE DE EXIBIÇÃO DE LEGENDA
INSERT INTO G3E_LEGGEO_DEFDSP VALUES('VGC_PAIS_P', 'Polígono do País', 2, 351, 1, sysdate, (select max(g3e_dcrowno) + 1 from G3E_LEGGEO_DEFDSP), NULL, NULL);
COMMIT;

--4 INSERIR NA LEGENDA
INSERT INTO G3E_LEGGEO_DEFAULT VALUES(20110, NULL, 61, SYSDATE);
COMMIT;
--UPDATE NA G3E_LEGGEO_DEFAU
UPDATE G3E_LEGGEO_DEFAU SET G3E_DISPLAYSCALEMIN = 10000000, G3E_DISPLAYSCALEMAX = 20000000 WHERE G3E_LENO = 20110;
COMMIT;

--5 INSERIR NA INSERÇÃO DE FEATURE
INSERT INTO G3E_PLACEMENTSELECTION VALUES(NULL, 20100, 'País', 1, 150, sysdate, (select max(g3e_psrowno) + 1 from G3E_PLACEMENTSELECTION), NULL, 200, 'EVERYONE');
COMMIT;

--6 INSERIR DIALOGSTAB
INSERT INTO G3E_DIALOGTAB VALUES (2010001, 'País', 'V', SYSDATE, NULL ,NULL, NULL);
INSERT INTO G3E_DIALOGTAB VALUES (2010002, 'País', 'V', SYSDATE, NULL ,NULL, NULL);
INSERT INTO G3E_DIALOGTAB VALUES (2010003, 'País', 'V', SYSDATE, NULL ,NULL, NULL);
COMMIT;

--7 INSERIR DIALOG
INSERT INTO G3E_DIALOG VALUES(2010001, 20101, 'Placement', 20100, 1, null, 2010001, sysdate);
commit;
INSERT INTO G3E_DIALOG VALUES(2010002, 20102, 'Edit', 20100, 2, null, 2010002, sysdate);
commit;
INSERT INTO G3E_DIALOG VALUES(2010003, 20103, 'Review', 20100, 3, null, 2010003, sysdate);
commit;
--8 INSERIR TABATTRIBUTES
--PLACEMENT
-- insert into g3e_tabattribute (G3E_TANO, G3E_ANO, G3E_ORDINAL, G3E_PNO, G3E_READONLY, G3E_DEFAULT, G3E_REFRESH, G3E_DTNO, G3E_FIELDVALUEFILTER, G3E_TRAVERSALANO, G3E_EDITDATE, G3E_TRIGGERPOPULATE, G3E_USEFILTERTOTRANSLATEKEY, G3E_FKQRINO, G3E_FKQARGGROUPNO)
insert into g3e_tabattribute values(201000101, 2010101, 1, 20101, 0, null, 1, 2010001, null, null, sysdate, 0, 0, null, null);
commit;

insert into g3e_tabattribute values(201000102, 2010102, 2, 20102, 0, null, 1, 2010001, null, null, sysdate, 0, 0, null, null);
commit;

--EDIT
insert into g3e_tabattribute values(201000201, 2010101, 1, 20101, 0, null, 1, 2010002, null, null, sysdate, 0, 0, null, null);
commit;

insert into g3e_tabattribute values(201000202, 2010102, 2, 20102, 0, null, 1, 2010002, null, null, sysdate, 0, 0, null, null);
commit;

--REVIEW
insert into g3e_tabattribute values(201000301, 2010101, 1, null, 1, null, 1, 2010003, null, null, sysdate, 0, 0, null, null);
commit;

insert into g3e_tabattribute values(201000302, 2010102, 2, null, 1, null, 1, 2010003, null, null, sysdate, 0, 0, null, null);
commit;

-- Texto do País
--Criar a tabela referente ao component
create table GC_PAIS_T (
G3E_ID NUMBER(10,0),
G3E_FNO NUMBER(5,0),
G3E_CNO NUMBER(5,0),
G3E_FID NUMBER(10,0),
G3E_CID NUMBER(10,0),
G3E_GEOMETRY SDO_GEOMETRY,
G3E_ALIGNMENT NUMBER(5,0),
SEQ NUMBER(10,0)
)
/

--Inserir na g3e_component
insert into G3E_COMPONENT (G3E_CNO, G3E_USERNAME, G3E_NAME, G3E_TOOLTIP, G3E_TYPE, G3E_GEOMETRYTYPE, G3E_TABLE, G3E_DETAIL, G3E_ALIGNMENTFIELD, G3E_DCNO, G3E_DTNO, G3E_GEOMETRYFIELD, G3E_SUBSETATTRIBUTE, G3E_EDITDATE, G3E_SUBTYPE, G3E_LOCALECOMMENT, G3E_LRNO, G3E_PARTITIONATTRIBUTE, G3E_LTT)
values (20130, 'Texto do País', 'GC_PAIS_T', 'Texto do País', 1024, 'TextPointGeometry', 'GC_PAIS_T', 0, 'G3E_ALIGNMENT', 31, null, 'G3E_GEOMETRY', null, sysdate, null, null, null, null, 0);
commit;

--Inserir na g3e_featurecomponent
insert into g3e_featurecomponent (G3E_FCNO, G3E_FNO, G3E_CNO, G3E_REQUIRED, G3E_REPEATING, G3E_AUTOREPEAT, G3E_PINO, G3E_ORDINAL, G3E_INTERFACEARGUMENT, G3E_DERIVEDFROMCNO, G3E_INSERTORDINAL, G3E_DELETEORDINAL, G3E_REFRESH, G3E_ALTERNATEREQUIREDCNO, G3E_REPLACE, G3E_EDITDATE, G3E_BREAKACTION, G3E_COMPONENTELIMINATION, G3E_COMPONENTASSIGNMENT, G3E_COMPONENTADJUSTMENT, G3E_GEOPROXIMITYTOLERANCE, G3E_BREAKLINEARCNO, G3E_ALTERNATEGEOGRAPHIC, G3E_ALTERNATEGEOORDINAL, G3E_RINO, G3E_RIARGGROUPNO, G3E_INCLUDEINPLACEMENT, G3E_MERGEMAXDISTANCE, G3E_MERGECOMMONPRECOND, G3E_MERGEPRECOND, G3E_MERGEOCCURRENCES, G3E_MERGERINO, G3E_MERGERIARGGROUPNO, G3E_CCNO, G3E_GENERATE, G3E_DETAILPLACEMENTCNO)
values (20130, 20100, 20130, 0, 1, 0, 7, 3, '0C20010000001000000001000000010000000C2001000000100000000000000004000000080000000000030000002600480034000800000000000000000008000000000000000000080000000000000000000800000000000E00000037003000300030002F0031002F0037003000310030002F002D0032000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000', null, 3, 3, 1, null, 1, sysdate, 1, 2, 1, 1, 1, null, 0, 0, null, null, 1, null, null, null, 1, null, null, null, 0, null);
commit;

--Criar Views do componente
CREATE OR REPLACE VIEW VGC_PAIS_T (g3e_id, g3e_fno, g3e_cno, g3e_fid, g3e_cid, g3e_geometry, g3e_alignment, seq, NOME_PAIS) AS 
SELECT A.G3E_ID, A.G3E_FNO, A.G3E_CNO, A.G3E_FID, A.G3E_CID, A.G3E_GEOMETRY, A.G3E_ALIGNMENT, A.SEQ, B.NOME_PAIS FROM GC_PAIS_T A, GC_PAIS B 
WHERE A.G3E_FID = B.G3E_FID;
/

insert into g3e_componentviewdefinition (G3E_VNO, G3E_VIEW, G3E_FNO, G3E_CNO, G3E_LENO, G3E_FIELDS, G3E_EDITDATE, G3E_ATTRAFFECTSMEMBERSHIP)
values (20130, 'VGC_PAIS_T', 20100, 20130, null, null, sysdate, 0);
commit;

insert into g3e_componentviewcomposition (G3E_CVCNO, G3E_VNO, G3E_CNO, G3E_FIELDS, G3E_EDITDATE, G3E_FNO)
values (2013030, 20130, 20130, null, sysdate, 20100);
commit;
insert into g3e_componentviewcomposition (G3E_CVCNO, G3E_VNO, G3E_CNO, G3E_FIELDS, G3E_EDITDATE, G3E_FNO)
values (2013010, 20130, 20101, 'NOME_PAIS NOME_PAIS 2010101', sysdate, 20100);
commit;

--Inserir na g3e_attribute
insert into g3e_attribute (G3E_ANO, G3E_CNO, G3E_VNO, G3E_FIELD, G3E_USERNAME, G3E_FORMAT, G3E_PRECISION, G3E_DOMAINTABLE, G3E_DOMAINFIELD, G3E_REQUIRED, G3E_FINO, G3E_FUNCTIONALORDINAL, G3E_FUNCTIONALTYPE, G3E_INTERFACEARGUMENT, G3E_TOOLTIP, G3E_FOREIGNKEYTABLE, G3E_FOREIGNKEYFIELD, G3E_HYPERTEXT, G3E_PNO, G3E_COPY, G3E_EXCLUDEFROMEDIT, G3E_DATATYPE, G3E_ADDITIONALREFFIELDS, G3E_IMPORTFIELD, G3E_EXCLUDEFROMREPLACE, G3E_EDITDATE, G3E_WIDTHINTWIPS, G3E_CATALOGCOPYVALUE, G3E_LOCALECOMMENT, G3E_BREAKCOPY, G3E_COPYATTRIBUTE, G3E_WRAPTEXT, G3E_MERGEEXPRESSION, G3E_RINO, G3E_RIARGGROUPNO, G3E_UNIQUE, G3E_COMPRELATIVEANO, G3E_FUNCTIONALVALIDATION, G3E_ROLE, G3E_FKQRINO, G3E_FKQARGGROUPNO, G3E_DESCRIPTION)
values (201301, 20130, null, 'SEQ', 'CID Linear Relacionado', 'General Number', null, null, null, 0, null, null, null, null, null, null, null, null, null, 0, 1, 4, null, null, 0, sysdate, null, null, null, 1, 0, 1, null, null, null, 0, 2001105, 1, 'EVERYONE', null, null, null);
commit;

insert into g3e_attribute (G3E_ANO, G3E_CNO, G3E_VNO, G3E_FIELD, G3E_USERNAME, G3E_FORMAT, G3E_PRECISION, G3E_DOMAINTABLE, G3E_DOMAINFIELD, G3E_REQUIRED, G3E_FINO, G3E_FUNCTIONALORDINAL, G3E_FUNCTIONALTYPE, G3E_INTERFACEARGUMENT, G3E_TOOLTIP, G3E_FOREIGNKEYTABLE, G3E_FOREIGNKEYFIELD, G3E_HYPERTEXT, G3E_PNO, G3E_COPY, G3E_EXCLUDEFROMEDIT, G3E_DATATYPE, G3E_ADDITIONALREFFIELDS, G3E_IMPORTFIELD, G3E_EXCLUDEFROMREPLACE, G3E_EDITDATE, G3E_WIDTHINTWIPS, G3E_CATALOGCOPYVALUE, G3E_LOCALECOMMENT, G3E_BREAKCOPY, G3E_COPYATTRIBUTE, G3E_WRAPTEXT, G3E_MERGEEXPRESSION, G3E_RINO, G3E_RIARGGROUPNO, G3E_UNIQUE, G3E_COMPRELATIVEANO, G3E_FUNCTIONALVALIDATION, G3E_ROLE, G3E_FKQRINO, G3E_FKQARGGROUPNO, G3E_DESCRIPTION)
values (201302, 20130, null, 'G3E_GEOMETRY', 'G3E_GEOMETRY', null, null, null, null, 1, 111, 1, 'Update', '0C20010000001000000001000000050000000800000000000400000037003000300030000800000000000400000037003000310030000800000000000600000037003000310030003000360008000000000006000000370030003300300030003100080000000000040000005400520055004500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000', null, null, null, null, null, 0, 1, 32, null, null, 0, sysdate, null, null, null, 1, 0, 1, null, null, null, 0, null, 1, 'EVERYONE', null, null, null);
commit;

insert into g3e_attribute (G3E_ANO, G3E_CNO, G3E_VNO, G3E_FIELD, G3E_USERNAME, G3E_FORMAT, G3E_PRECISION, G3E_DOMAINTABLE, G3E_DOMAINFIELD, G3E_REQUIRED, G3E_FINO, G3E_FUNCTIONALORDINAL, G3E_FUNCTIONALTYPE, G3E_INTERFACEARGUMENT, G3E_TOOLTIP, G3E_FOREIGNKEYTABLE, G3E_FOREIGNKEYFIELD, G3E_HYPERTEXT, G3E_PNO, G3E_COPY, G3E_EXCLUDEFROMEDIT, G3E_DATATYPE, G3E_ADDITIONALREFFIELDS, G3E_IMPORTFIELD, G3E_EXCLUDEFROMREPLACE, G3E_EDITDATE, G3E_WIDTHINTWIPS, G3E_CATALOGCOPYVALUE, G3E_LOCALECOMMENT, G3E_BREAKCOPY, G3E_COPYATTRIBUTE, G3E_WRAPTEXT, G3E_MERGEEXPRESSION, G3E_RINO, G3E_RIARGGROUPNO, G3E_UNIQUE, G3E_COMPRELATIVEANO, G3E_FUNCTIONALVALIDATION, G3E_ROLE, G3E_FKQRINO, G3E_FKQARGGROUPNO, G3E_DESCRIPTION)
values (201303, 20130, null, 'G3E_ALIGNMENT', 'Alinhamento', 'General Number', null, null, null, 0, null, null, null, null, null, null, null, null, null, 0, 1, 4, null, null, 0, sysdate, null, null, null, 0, 0, 1, null, null, null, 0, null, 1, 'EVERYONE', null, null, null);
commit;

insert into g3e_attribute (G3E_ANO, G3E_CNO, G3E_VNO, G3E_FIELD, G3E_USERNAME, G3E_FORMAT, G3E_PRECISION, G3E_DOMAINTABLE, G3E_DOMAINFIELD, G3E_REQUIRED, G3E_FINO, G3E_FUNCTIONALORDINAL, G3E_FUNCTIONALTYPE, G3E_INTERFACEARGUMENT, G3E_TOOLTIP, G3E_FOREIGNKEYTABLE, G3E_FOREIGNKEYFIELD, G3E_HYPERTEXT, G3E_PNO, G3E_COPY, G3E_EXCLUDEFROMEDIT, G3E_DATATYPE, G3E_ADDITIONALREFFIELDS, G3E_IMPORTFIELD, G3E_EXCLUDEFROMREPLACE, G3E_EDITDATE, G3E_WIDTHINTWIPS, G3E_CATALOGCOPYVALUE, G3E_LOCALECOMMENT, G3E_BREAKCOPY, G3E_COPYATTRIBUTE, G3E_WRAPTEXT, G3E_MERGEEXPRESSION, G3E_RINO, G3E_RIARGGROUPNO, G3E_UNIQUE, G3E_COMPRELATIVEANO, G3E_FUNCTIONALVALIDATION, G3E_ROLE, G3E_FKQRINO, G3E_FKQARGGROUPNO, G3E_DESCRIPTION)
values (201304, 20130, null, 'G3E_CID', 'Identificador do Componente', 'General Number', null, null, null, 0, null, null, null, null, null, null, null, null, null, 0, 0, 4, null, null, 0, sysdate, null, null, null, 1, 0, 1, null, null, null, 0, null, 1, 'EVERYONE', null, null, null);
commit;

insert into g3e_attribute (G3E_ANO, G3E_CNO, G3E_VNO, G3E_FIELD, G3E_USERNAME, G3E_FORMAT, G3E_PRECISION, G3E_DOMAINTABLE, G3E_DOMAINFIELD, G3E_REQUIRED, G3E_FINO, G3E_FUNCTIONALORDINAL, G3E_FUNCTIONALTYPE, G3E_INTERFACEARGUMENT, G3E_TOOLTIP, G3E_FOREIGNKEYTABLE, G3E_FOREIGNKEYFIELD, G3E_HYPERTEXT, G3E_PNO, G3E_COPY, G3E_EXCLUDEFROMEDIT, G3E_DATATYPE, G3E_ADDITIONALREFFIELDS, G3E_IMPORTFIELD, G3E_EXCLUDEFROMREPLACE, G3E_EDITDATE, G3E_WIDTHINTWIPS, G3E_CATALOGCOPYVALUE, G3E_LOCALECOMMENT, G3E_BREAKCOPY, G3E_COPYATTRIBUTE, G3E_WRAPTEXT, G3E_MERGEEXPRESSION, G3E_RINO, G3E_RIARGGROUPNO, G3E_UNIQUE, G3E_COMPRELATIVEANO, G3E_FUNCTIONALVALIDATION, G3E_ROLE, G3E_FKQRINO, G3E_FKQARGGROUPNO, G3E_DESCRIPTION)
values (201305, 20130, null, 'G3E_CNO', 'Número do Componente', 'General Number', null, null, null, 0, null, null, null, null, null, null, null, null, null, 0, 0, 4, null, null, 0, sysdate, null, null, null, 1, 0, 1, null, null, null, 0, null, 1, 'EVERYONE', null, null, null);
commit;

insert into g3e_attribute (G3E_ANO, G3E_CNO, G3E_VNO, G3E_FIELD, G3E_USERNAME, G3E_FORMAT, G3E_PRECISION, G3E_DOMAINTABLE, G3E_DOMAINFIELD, G3E_REQUIRED, G3E_FINO, G3E_FUNCTIONALORDINAL, G3E_FUNCTIONALTYPE, G3E_INTERFACEARGUMENT, G3E_TOOLTIP, G3E_FOREIGNKEYTABLE, G3E_FOREIGNKEYFIELD, G3E_HYPERTEXT, G3E_PNO, G3E_COPY, G3E_EXCLUDEFROMEDIT, G3E_DATATYPE, G3E_ADDITIONALREFFIELDS, G3E_IMPORTFIELD, G3E_EXCLUDEFROMREPLACE, G3E_EDITDATE, G3E_WIDTHINTWIPS, G3E_CATALOGCOPYVALUE, G3E_LOCALECOMMENT, G3E_BREAKCOPY, G3E_COPYATTRIBUTE, G3E_WRAPTEXT, G3E_MERGEEXPRESSION, G3E_RINO, G3E_RIARGGROUPNO, G3E_UNIQUE, G3E_COMPRELATIVEANO, G3E_FUNCTIONALVALIDATION, G3E_ROLE, G3E_FKQRINO, G3E_FKQARGGROUPNO, G3E_DESCRIPTION)
values (201306, 20130, null, 'G3E_FID', 'Identificador da Entidade', 'General Number', null, null, null, 0, null, null, null, null, null, null, null, null, null, 0, 0, 4, null, null, 0, sysdate, null, null, null, 1, 0, 1, null, null, null, 0, null, 1, 'EVERYONE', null, null, null);
commit;

insert into g3e_attribute (G3E_ANO, G3E_CNO, G3E_VNO, G3E_FIELD, G3E_USERNAME, G3E_FORMAT, G3E_PRECISION, G3E_DOMAINTABLE, G3E_DOMAINFIELD, G3E_REQUIRED, G3E_FINO, G3E_FUNCTIONALORDINAL, G3E_FUNCTIONALTYPE, G3E_INTERFACEARGUMENT, G3E_TOOLTIP, G3E_FOREIGNKEYTABLE, G3E_FOREIGNKEYFIELD, G3E_HYPERTEXT, G3E_PNO, G3E_COPY, G3E_EXCLUDEFROMEDIT, G3E_DATATYPE, G3E_ADDITIONALREFFIELDS, G3E_IMPORTFIELD, G3E_EXCLUDEFROMREPLACE, G3E_EDITDATE, G3E_WIDTHINTWIPS, G3E_CATALOGCOPYVALUE, G3E_LOCALECOMMENT, G3E_BREAKCOPY, G3E_COPYATTRIBUTE, G3E_WRAPTEXT, G3E_MERGEEXPRESSION, G3E_RINO, G3E_RIARGGROUPNO, G3E_UNIQUE, G3E_COMPRELATIVEANO, G3E_FUNCTIONALVALIDATION, G3E_ROLE, G3E_FKQRINO, G3E_FKQARGGROUPNO, G3E_DESCRIPTION)
values (201307, 20130, null, 'G3E_FNO', 'Número da Entidade', 'General Number', null, null, null, 0, null, null, null, null, null, null, null, null, null, 0, 0, 4, null, null, 0, sysdate, null, null, null, 1, 0, 1, null, null, null, 0, null, 1, 'EVERYONE', null, null, null);
commit;

insert into g3e_attribute (G3E_ANO, G3E_CNO, G3E_VNO, G3E_FIELD, G3E_USERNAME, G3E_FORMAT, G3E_PRECISION, G3E_DOMAINTABLE, G3E_DOMAINFIELD, G3E_REQUIRED, G3E_FINO, G3E_FUNCTIONALORDINAL, G3E_FUNCTIONALTYPE, G3E_INTERFACEARGUMENT, G3E_TOOLTIP, G3E_FOREIGNKEYTABLE, G3E_FOREIGNKEYFIELD, G3E_HYPERTEXT, G3E_PNO, G3E_COPY, G3E_EXCLUDEFROMEDIT, G3E_DATATYPE, G3E_ADDITIONALREFFIELDS, G3E_IMPORTFIELD, G3E_EXCLUDEFROMREPLACE, G3E_EDITDATE, G3E_WIDTHINTWIPS, G3E_CATALOGCOPYVALUE, G3E_LOCALECOMMENT, G3E_BREAKCOPY, G3E_COPYATTRIBUTE, G3E_WRAPTEXT, G3E_MERGEEXPRESSION, G3E_RINO, G3E_RIARGGROUPNO, G3E_UNIQUE, G3E_COMPRELATIVEANO, G3E_FUNCTIONALVALIDATION, G3E_ROLE, G3E_FKQRINO, G3E_FKQARGGROUPNO, G3E_DESCRIPTION)
values (201308, 20130, null, 'G3E_ID', 'Identificador', 'General Number', null, null, null, 0, null, null, null, null, null, null, null, null, null, 0, 0, 4, null, null, 0, sysdate, null, null, null, 1, 0, 1, null, null, null, 0, null, 1, 'EVERYONE', null, null, null);
commit;

execute MG3ElanguageSubTableUtils.SynchronizeSubTables;
COMMIT;
execute MG3EOTCreateOptimizedTables;
COMMIT;
execute MG3ECreateOptableViews;
COMMIT;

execute G3EOneTable.InstallOneTable('GC_PAIS_T');
COMMIT;

execute LTT_Role.Create_Public_Synonym;
COMMIT;
execute LTT_Role.Create_Component_View_Synonym;
COMMIT;
execute LTT_Role.Grant_Privs_To_Role;
COMMIT;

--Inserindo as regras de estilo
insert into g3e_textstyle (G3E_SNO, G3E_USERNAME, G3E_COLOR, G3E_FONTNAME, G3E_FONTBOLD, G3E_FONTITALIC, G3E_FONTSTRIKETHROUGH, G3E_FONTUNDERLINE, G3E_FONTWEIGHT, G3E_SIZE, G3E_TEXTBOX, G3E_TEXTBOXFILLCOLOR, G3E_TEXTBOXFILLTYPE, G3E_TEXTBOXFRAME, G3E_TEXTBOXFRAMECOLOR, G3E_TEXTBOXFRAMEWIDTH, G3E_PLOTREDLINE, G3E_EDITDATE, G3E_JUSTIFICATION, G3E_UNDERLINESNO, G3E_LEFTTEXTBOXOFFSET, G3E_RIGHTTEXTBOXOFFSET, G3E_TOPTEXTBOXOFFSET, G3E_BOTTOMTEXTBOXOFFSET, G3E_STYLEUNITS, G3E_TRANSLUCENCY, G3E_TEXTBOXFILLTRANSLUCENCY, G3E_TEXTBOXHATCHTRANSLUCENCY, G3E_TEXTBOXFRAMETRANSLUCENCY, G3E_TEXTBOXHATCHCOLOR)
values (20130001, 'Texto do País', 5296274, 'Arial', 0, 0, 0, 0, 400, 15, 1, -3, 0, 0, 16775930, 2, 1, sysdate, 1, null, 0.1375, 0.1375, 1.375, 1.375, 3, null, null, null, null, null);
commit;

update g3e_style set g3e_value = '77BB4FBC8D8B6D41A15E147679DD96280A0000000100000000001300000028AA89360F1A4F499005E372C4D09DBD060000000100000000000000FDFFFFFF00000000000014409A9999999999C93F000001000000000000000121EC6D67B47DD31190CC080036351903020000000100FAFAFF00B30C71AC8BA3514000000000000000000000000000000000000000000000000000000000000000000352E30B918FCE119DE300AA004BB8510100000090014442010005417269616CF1446B00905F0100000000006C0000006C00000001009A9999999999C13F9A9999999999C13F000000000000F63F000000000000F63F00000000D93F00000000004E000000E04F8D976E0C7640000000000000F03F' where g3e_sno = 20130001;
commit;

insert into g3e_stylerule (G3E_SRROWNO, G3E_SRNO, G3E_RULE, G3E_FILTER, G3E_FILTERORDINAL, G3E_SNO, G3E_EDITDATE, G3E_DESCRIPTION, G3E_LOCALECOMMENT)
values (201300101, 2013001, 'Texto do País', null, 1, 20130001, sysdate, 'Texto do País', null);
commit;

insert into g3e_label (G3E_LFNO, G3E_USERNAME, G3E_CONTENT, G3E_EDITDATE, G3E_LOCALECOMMENT) 
values (20131, 'Texto do País', '[NOME_PAIS]', sysdate, null);
commit;

insert into g3e_labelrule (G3E_LRROWNO, G3E_LRNO, G3E_RULE, G3E_FILTER, G3E_FILTERORDINAL, G3E_LFNO, G3E_EDITDATE)
values (201300599, 2013001, 'Texto do País', null, 99, 20131, sysdate);
commit;

--Inserir na g3e_legendentry
insert into g3e_legendentry (G3E_LENO, G3E_LEGENDENTRY, G3E_USERNAME, G3E_VNO, G3E_SRNO, G3E_LRNO, G3E_EDITDATE, G3E_ROLE, G3E_LAYERNAME, G3E_LOCALECOMMENT, G3E_TRANSLUCENCY, G3E_FILLTRANSLUCENCY)
values (2013001, 'VGC_PAIS_T', 'Texto do País', 20130, 2013001, 2013001, sysdate, 'EVERYONE', null, null, null, null);
commit;

--INSERIR NO CONTROLE DE EXIBIÇÃO DE LEGENDA
INSERT INTO G3E_LEGGEO_DEFDSP VALUES('VGC_PAIS_T', 'Texto do País', 2, 352, 1, sysdate, (select max(g3e_dcrowno) + 1 from G3E_LEGGEO_DEFDSP), NULL, NULL);
COMMIT;

insert into g3e_leggeo_default (G3E_LENO, G3E_FILTER, G3E_DISPLAYORDINAL, G3E_EDITDATE)
values (2013001, null, 2, sysdate);
commit;

update g3e_leggeo_defau set g3e_displayscalemin = 10000000, g3e_displayscalemax = 20000000 where g3e_leno = 2013001;
update g3e_componentviewdefinition set g3e_leno = 2013001 where g3e_vno = 20130;
commit;
